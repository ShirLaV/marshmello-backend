{"version":3,"sources":["serviceWorkerRegistration.js","reportWebVitals.js","store/board.reducer.js","services/async-storage.service.js","services/http.service.js","services/socket.service.js","services/util.service.js","services/user.service.js","store/user.reducer.js","store/system.reducer.js","store/store.js","services/event-bus.service.js","store/user.actions.js","assets/img/hero.png","assets/img/homepage-product.jpg","pages/home-page.jsx","cmps/board-preview.jsx","cmps/board-list.jsx","services/activity.service.js","services/board.service.js","store/board.actions.js","cmps/overlay-screen.jsx","assets/img/loader.svg","cmps/shared/loader.jsx","pages/boards-select.jsx","services/card-edit.service.js","cmps/shared/popover-children/move-card.jsx","cmps/shared/popover-children/copy-card.jsx","cmps/shared/dynamic-popover.jsx","cmps/card-edit/edit-sidebar-label.jsx","cmps/card-edit/card-edit-actions-item.jsx","cmps/card-edit/card-edit-actions.jsx","cmps/shared/member-avatar.jsx","cmps/card-edit/popper-member-preview.jsx","cmps/shared/popover-children/member-list.jsx","cmps/shared/popover-children/card-edit-date.jsx","cmps/card-edit/popper-label-preview.jsx","cmps/shared/popover-children/label-list.jsx","cmps/shared/popover-children/popover-checklist.jsx","cmps/shared/popover-children/popover-attach-file.jsx","cmps/card-edit/add-to-card/card-edit-add-to-card-item.jsx","cmps/shared/popover-children/popper-cover-edit.jsx","cmps/shared/popover-children/label-edit.jsx","cmps/card-edit/add-to-card/card-edit-add-to-card.jsx","cmps/card-edit/card-edit-sidebar.jsx","cmps/card-edit/labels-members/card-edit-duedate.jsx","cmps/card-edit/labels-members/card-edit-labels.jsx","cmps/shared/popover-children/mini-user.jsx","cmps/card-edit/members-container-member-preview.jsx","cmps/card-edit/labels-members/card-edit-members.jsx","cmps/card-edit/labels-members.jsx","cmps/card-edit/progress-bar.jsx","cmps/card-edit/todo-item.jsx","cmps/card-edit/checklist-edit.jsx","cmps/card-edit/card-edit-description.jsx","cmps/card-edit/card-edit-activities.jsx","cmps/card-edit/attachment-preview.jsx","cmps/card-edit/card-edit-attachment.jsx","cmps/card-edit.jsx","cmps/shared/add-board-item.jsx","cmps/card-preview/card-header.jsx","cmps/card-preview/card-label-bar-list.jsx","cmps/card-preview/card-checklists.jsx","cmps/card-preview/card-duedate.jsx","cmps/card-preview/card-footer.jsx","cmps/board/card-preview-content.jsx","cmps/board/card-preview.jsx","cmps/shared/popover-children/group-actions.jsx","cmps/board/group-preview.jsx","cmps/board/group-list.jsx","cmps/board/invite-members.jsx","cmps/side-menu/change-bg.jsx","cmps/side-menu/board-icon.jsx","cmps/side-menu/search-cards.jsx","cmps/side-menu/archive.jsx","cmps/side-menu/activity-list.jsx","cmps/side-menu/side-menu.jsx","cmps/shared/popover-children/board-edit-members.jsx","cmps/board/board-header.jsx","cmps/quick-card-editor.jsx","cmps/dashboard/tasks-per-members-chart.jsx","cmps/dashboard/tasks-per-labels-chart.jsx","cmps/dashboard/tasks-per-date-chart.jsx","cmps/dashboard.jsx","pages/board-details.jsx","assets/img/login-svg-right.svg","assets/img/login-svg-left.svg","pages/login-signup.jsx","routes.js","cmps/board/board-add.jsx","cmps/shared/popover-children/loggedin-user.jsx","cmps/app-header.jsx","root-cmp.jsx","index.js"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","initialState","boards","currBoard","lastRemovedBoard","isAddingBoard","currCardId","filterBy","txt","members","labels","storageService","query","get","entityType","entityId","entities","find","entity","_id","post","newEntity","_makeId","push","_save","put","updatedEntity","idx","findIndex","splice","remove","postMany","newEntities","map","dashboardQuery","gBoards","require","gUsers","delay","JSON","parse","localStorage","getItem","Promise","resolve","reject","setTimeout","a","board","chartsData","groupsCount","cardsCount","tasksPerMemberMap","tasksPerLabelMap","forEach","member","fullname","label","title","groups","group","isArchive","cards","card","labelIds","labelId","_getLabel","setItem","stringify","length","text","possible","i","charAt","Math","floor","random","id","BASE_URL","axios","Axios","create","withCredentials","httpService","endpoint","data","ajax","method","url","params","res","dir","response","status","sessionStorage","clear","assign","socketService","socket","setup","io","on","eventName","cb","off","removeAllListeners","emit","terminate","createSocketService","utilService","makeId","makeLorem","size","words","getRandomIntInclusive","min","max","ceil","ms","debounce","func","timer","timeout","args","clearTimeout","apply","STORAGE_KEY_LOGGEDIN_USER","userService","login","logout","signup","getLoggedinUser","getMiniUser","fullUser","imgUrl","getUsers","getById","userId","update","getGueastUser","googleLogin","users","user","_saveLocalUser","userCred","tokenId","mentions","removeItem","watchedUser","isLoading","rootReducer","combineReducers","boardModule","action","newState","type","boardId","filter","cardId","userModule","systemModule","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","eventBusService","listener","callListener","detail","addEventListener","removeEventListener","dispatchEvent","CustomEvent","showUserMsg","loadUsers","dispatch","onLogin","credentials","onSignup","err","onLogout","myBus","_HomePage","isNavbarBG","changeHeaderStyle","scrollY","setState","onGuestLogin","props","username","password","history","this","document","body","style","overflowY","className","to","onClick","src","heroImg","alt","productImg","React","Component","mapDispatchToProps","HomePage","connect","BoardPreview","toggleStarredBoard","setFavicon","bgColor","backgroundColor","backgroundImage","isStarred","ev","preventDefault","stopPropagation","toggleIsStarred","BoardList","setAddBoard","isWorkspace","activityTxtMap","listName","boardName","memberName","groupName","labelName","checklistName","STORAGE_KEY","boardService","save","getArchivedCards","filterByUser","URLSearchParams","toString","archivedCards","activity","newActivity","byMember","groupId","boardToSave","createdBy","addedBoard","loadBoard","background","backgroundSize","onUpdateBoard","_getUpdatedBoard","setAddingBoard","onUpdateCard","cardToSave","cardIdx","groupAction","onSetCardId","memberId","currGroup","OverlayScreen","cs","Loader","loader","_BoardSelect","getStarredBoards","favicon","getElementById","href","loadBoards","BoardSelect","getCardById","getState","getGroupId","some","cardEditService","handleChecklistChange","checklistId","value","newVal","checklist","checklists","todos","todo","isDone","handleMemberChange","memberToAdd","handleLabelChange","labelToAdd","handleDueDateChange","timestamp","dueDate","getFormattedTime","timeLeft","Date","now","date","month","getMonth","day","getDate","getUploadTime","timePassed","minutes","hours","getMinutes","getHours","handleFileAdd","attachments","addedAt","handleFileRemove","fileId","file","getGroupById","handleMoveCard","initialBoard","initialGroup","initialCardIdx","handleCopyCard","handleToggleArchive","handleRemoveCard","onAddComment","comments","MoveCard","onClose","useState","setCurrGroup","currPosition","setCurrPosition","useEffect","handleChange","target","name","item","onChange","positions","getPositions","boardToChange","CopyCard","currTitle","setCurrTitle","autoFocus","DynamicPopover","forwardRef","parentRef","children","isLabel","handleEdit","targetRef","useRef","width","height","dimensions","setDimensions","useLayoutEffect","current","offsetWidth","offsetHeight","handleClick","e","containerElement","contains","ref","position","innerWidth","left","top","transform","rect","getBoundingClientRect","bottom","bottomCheck","innerHeight","topCheck","rightCheck","right","getLocation","EditSidebarLabel","Icon","color","CardEditActionsItem","isOpen","setIsOpen","itemRef","InnerPopperCmp","useMemo","component","icon","actions","BsArrowRight","MdContentCopy","AiOutlineEye","CardEditActions","goBack","setIsArchive","toggleArchive","GoArchive","BsArrowCounterclockwise","AiOutlineMinus","MemberAvatar","getSize","round","PopperMemberPreview","isChecked","setIsChecked","isMemberChecked","m","MemberList","setMembers","placeholder","matchingMembers","toLowerCase","includes","CardEditDate","startDate","endDate","setDueDate","handleSubmit","selected","getTime","inline","formatWeekDay","nameOfDay","substr","PopperLabelPreview","isLabelChecked","l","LabelList","setLabels","matchingLabels","PopoverChecklist","inputRef","setTitle","focus","select","onSubmit","htmlFor","PopoverAttachFile","display","CardEditAddToCardItem","currCard","checkIfCover","_PopperCoverEdit","selectedEl","initialStyle","classList","add","handleCoverRemove","handleInitialSelect","PopperCoverEdit","colors","LabelEdit","selectedColor","setSelectedColor","dataset","c","CardEditAddToCard","addToCardItems","BiUser","MdLabelOutline","editComponent","BsCardChecklist","BsClock","FiPaperclip","CgCreditCard","CardEditSidebar","CardEditDueDate","dueDateRef","time","getDueDateLabel","isComplete","checked","textTransform","fontSize","padding","borderRadius","CardEditLabels","isEdit","setIsEdit","setColor","addButtonRef","getCardLabels","MiniUser","MembersContainerMemberPreview","isPreviewOpen","setIsPreviewOpen","userButtonRef","cursor","CardEditMembers","isListOpen","setIsListOpen","LabelsMembers","ProgressBar","completed","fillerStyles","textAlign","transition","margin","_TodoItem","todoTitle","isEditTodo","todoTextareaRef","createRef","saveTodoBtnRef","newTodoTextarea","handleMarkTodo","handleRemoveTodo","handleTitleChange","onChangeTitle","alignSelf","paddingBottom","onFocus","alignItems","justifyContent","TodoItem","_ChecklistEdit","percentage","isAddTodo","newTodo","addTodoBtnRef","setTodoPercentage","doneTodos","num","Number","isInteger","toFixed","handleInputChange","onAddTodo","onRemoveChecklist","prevProps","maxWidth","minWidth","rows","ChecklistEdit","_CardEditDescription","isDescriptionOpen","descriptionRef","setDescriptionTextarea","handleDescriptionChange","description","onBlur","CardEditDescription","_CardEditActivities","isFocus","isTxt","commentTxt","commentRef","CardEditActivities","AttachmentPreview","attachment","_CardEditAttachment","CardEditAttachment","_CardEdit","modalRef","coverRef","handleLoad","getDataById","currentCard","currentGroup","handlePropertyChange","checkCardBackground","minHeight","objectFit","prevState","bg","CardEdit","_AddBoardItem","newItem","onKeyUpEnter","key","onAddItem","newCard","onAddCard","textInput","onToggleAddPop","renderedType","onKeyUp","input","createdAt","AddBoardItem","CardHeader","cardStyle","CardLabelBarList","getLabel","isCardLabelListOpen","CardChecklists","todosCount","doneTodosCount","getChecklistStr","CardDueDate","toggleCardComplete","getDueTimeStyle","event","toLocaleString","getFormatedTime","CardFooter","index","CardPreviewContent","onToggleQuickCardEditor","openCardEdit","toggleCardLabelList","CardPreview","draggableId","provided","innerRef","dragHandleProps","draggableProps","GroupActions","toggleGroupArchive","GroupPreview","isAddPopOpen","groupTitle","isPopoverOpen","groupEditRef","onChangeGroupTitle","updateBoard","blurFocus","blur","setFocus","handleFocus","snapshot","onMouseDown","onMouseUp","droppableId","droppableProps","GroupList","_InviteMembers","search","getMembersIds","inviteToBoard","memberIds","field","InviteMembers","_ChangeBG","setBoardBG","backGround","image","ChangeBG","_BoardIcon","BoardIcon","_SearchCards","updateUrlSearchParams","urlSearchFilterBy","currVal","Array","isArray","replace","pathname","onUpdateFilter","getFilteredBoard","newFilterBy","handleUserClick","clickedIdx","handleLabelClick","searchHasFilter","Object","keys","filterKey","split","prevFilterBy","currFilterBy","bind","SearchCards","withRouter","_Archive","loadArchivedCards","Archive","_ActivityList","getGroupTitle","activities","fromNow","ActivityList","_SideMenu","currViewIdx","_cmpsToRender","onSelectView","viewId","getViewById","currView","onBack","_CurrView","_DefaultView","cmp","isMenuOpen","SideMenu","BoardEditMembers","_BoardHeader","isInviteOpen","element","boardTitle","numOfShownMembers","isExtraMembersOpen","isTotalMembersOpen","inviteRef","membersRef","totalMembersRef","handleResize","onChangeBoardTitle","toggleMenu","getRemainingMembers","getExtraMembersLength","onMembersClose","onToggleDashboard","extraMembersLength","BoardHeader","_QuickCardEditor","cardTitle","uploadCard","onSave","openCard","onArchiveCard","groupToStore","prevIndex","boardToStore","QuickCardEditor","TasksPerMemberChart","labelsColors","datasets","values","borderWidth","hoverOffset","options","plugins","legend","TasksPerLabelChart","fontColor","maxHeight","maintainAspectRatio","scales","y","ticks","x","TasksPerDateChart","tasks","links","header","textShadow","middle","selectedStyle","fontWeight","taskList","task","verticalSeparator","grip","dataViewPort","borderBottom","showLabel","boxShadow","_Dashboard","labelsColor","Dashboard","_BoardDetails","quickCardEditor","cardToEdit","updatedBoard","parentElement","currentTarget","parentNode","cardToUpdate","handleOnDragEnd","result","destination","source","draggedGroup","sourceGroup","destinationGroup","groupToUpdate","boardToSend","outputUpdateBoard","resetBoard","isDashboardOpen","path","onDragEnd","direction","BoardDetails","_LoginSignup","pageMode","validate","errors","onSuccessGoogle","onGoogleLogin","onFailureGoogle","initialValues","autoComplete","clientId","buttonText","onFailure","cookiePolicy","validateOnChange","validateOnBlur","svgRight","svgLeft","LoginSignup","routes","_BoardAdd","chosenImgIdx","handleImage","imgSrc","getAttribute","addBoard","onAddBoard","images","savedBoard","_BoardAddWithRouter","BoardAdd","_LoggedinUser","onLogoutUser","_LoggedinUserWithRouter","LoggedinUser","_AppHeader","userMenuRef","removeUser","AppHeader","_RootCmp","isHeaderShown","route","_RootCmpWithRouter","RootCmp","ReactDOM","render","StrictMode","URL","process","origin","fetch","headers","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.c6472231.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const initialState = {\r\n    boards: [],\r\n    currBoard: null,\r\n    lastRemovedBoard: null,\r\n    isAddingBoard: false,\r\n    currCardId: null,\r\n    filterBy: {\r\n        txt: '',\r\n        members: [],\r\n        labels: []\r\n    }\r\n}\r\n\r\nexport function boardReducer(state = initialState, action) {\r\n    var newState = state\r\n    var boards\r\n    switch (action.type) {\r\n        case 'SET_BOARDS':\r\n            newState = { ...state, boards: action.boards }\r\n            break\r\n        case 'UPDATE_FILTER':\r\n            newState = {...state, filterBy: action.filterBy }\r\n            break\r\n        case 'SET_CURR_BOARD':\r\n            newState = { ...state, currBoard: action.board }\r\n            break\r\n        case 'REMOVE_BOARD':\r\n            const lastRemovedBoard = state.boards.find(board => board._id === action.boardId)\r\n            boards = state.boards.filter(board => board._id !== action.boardId)\r\n            newState = { ...state, boards, lastRemovedBoard }\r\n            break\r\n        case 'SET_ADDING_BOARD':\r\n            newState = { ...state, isAddingBoard: action.isAddingBoard }\r\n            break\r\n        case 'ADD_BOARD':\r\n            newState = { ...state, boards: [...state.boards, action.board] }\r\n            break\r\n        case 'UPDATE_BOARD':\r\n            // boards = state.boards.map(board => (board._id === action.board._id) ? action.board : board)\r\n            newState = { ...state, currBoard: action.board }\r\n            break\r\n        case 'SET_CARD_ID':\r\n            newState = { ...state, currCardId: action.cardId }\r\n            break\r\n        case 'UNDO_REMOVE_BOARD':\r\n            if (state.lastRemovedBoard) {\r\n                newState = { ...state, boards: [...state.boards, state.lastRemovedBoard], lastRemovedBoard: null }\r\n            }\r\n            break\r\n        default:\r\n    }\r\n    return newState\r\n\r\n}","export const storageService = {\r\n    query,\r\n    get,\r\n    post,\r\n    put,\r\n    remove,\r\n    postMany,\r\n    dashboardQuery\r\n}\r\n\r\n\r\nconst gBoards = require('../data/board.json');\r\nconst gUsers = require('../data/user.json');\r\n\r\nfunction query(entityType, delay = 500) {\r\n    var entities = JSON.parse(localStorage.getItem(entityType))\r\n    if (!entities) {\r\n        entities = (entityType === 'board') ? gBoards : gUsers;\r\n        _save(entityType, entities)\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n            setTimeout(() => {\r\n                // reject('OOOOPs')\r\n                resolve(entities)\r\n            }, delay)\r\n        })\r\n        // return Promise.resolve(entities)\r\n}\r\n\r\nasync function dashboardQuery(entityType, entityId, delay = 500) {\r\n    const boards = await query(entityType)\r\n    const board = boards.find(board => board._id === entityId)\r\n    const chartsData = {\r\n        groupsCount: 0,\r\n        cardsCount: 0,\r\n        tasksPerMemberMap: {},\r\n        tasksPerLabelMap: {}\r\n    };\r\n    if (board.members) {\r\n        board.members.forEach(member => {\r\n            chartsData.tasksPerMemberMap[member.fullname] = 0\r\n        })\r\n    }\r\n    if (board.labels) {\r\n        board.labels.forEach(label => {\r\n            chartsData.tasksPerLabelMap[label.title] = 0\r\n        })\r\n    }\r\n\r\n    if (board.groups) {\r\n        board.groups.forEach(group => {\r\n            if (!group.isArchive) {\r\n                chartsData.groupsCount = chartsData.groupsCount + 1\r\n                group.cards.forEach(card => {\r\n                    if (!card.isArchive) chartsData.cardsCount = chartsData.cardsCount + 1\r\n                    if (card.members) {\r\n                        card.members.forEach(member => {\r\n                            chartsData.tasksPerMemberMap[member.fullname]++;\r\n                        })\r\n                    }\r\n                    if (card.labelIds) {\r\n                        card.labelIds.forEach(labelId => {\r\n                            const label = _getLabel(board.labels, labelId);\r\n                            chartsData.tasksPerLabelMap[label.title]++\r\n                        })\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n        setTimeout(() => {\r\n            resolve(chartsData)\r\n        }, delay)\r\n    })\r\n}\r\n\r\n// function queryUsers(entityType, delay = 500) {\r\n//     var entities = JSON.parse(localStorage.getItem(entityType)) || gUsers;\r\n\r\n//     return new Promise((resolve, reject) => {\r\n//             setTimeout(() => {\r\n//                 // reject('OOOOPs')\r\n//                 resolve(entities)\r\n//             }, delay)\r\n//         })\r\n//         // return Promise.resolve(entities)\r\n// }\r\n\r\n\r\nfunction get(entityType, entityId) {\r\n    return query(entityType)\r\n        .then(entities => entities.find(entity => entity._id === entityId))\r\n}\r\n\r\nfunction post(entityType, newEntity) {\r\n    newEntity._id = _makeId()\r\n    return query(entityType)\r\n        .then(entities => {\r\n            entities.push(newEntity)\r\n            _save(entityType, entities)\r\n            return newEntity\r\n        })\r\n}\r\n\r\nfunction put(entityType, updatedEntity) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            const idx = entities.findIndex(entity => entity._id === updatedEntity._id)\r\n            entities.splice(idx, 1, updatedEntity)\r\n            _save(entityType, entities)\r\n            return updatedEntity\r\n        })\r\n}\r\n\r\nfunction remove(entityType, entityId) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            const idx = entities.findIndex(entity => entity._id === entityId)\r\n            entities.splice(idx, 1)\r\n            _save(entityType, entities)\r\n        })\r\n}\r\n\r\n\r\nfunction _save(entityType, entities) {\r\n    localStorage.setItem(entityType, JSON.stringify(entities))\r\n}\r\n\r\nfunction _makeId(length = 5) {\r\n    var text = ''\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\r\n    for (var i = 0; i < length; i++) {\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length))\r\n    }\r\n    return text\r\n}\r\n\r\nfunction postMany(entityType, newEntities) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            newEntities = newEntities.map(entity => ({...entity, _id: _makeId() }))\r\n            entities.push(...newEntities)\r\n            _save(entityType, entities)\r\n            return entities\r\n        })\r\n}\r\n\r\nfunction _getLabel(labels, labelId) {\r\n    const label = labels.find((label) => label.id === labelId);\r\n    return label;\r\n};","import Axios from 'axios'\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\n// const BASE_URL = '/api/'\r\n// console.log(process.env.NODE_ENV);\r\n\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\nexport const httpService = {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'GET', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data,\r\n            params: (method === 'GET') ? data : null\r\n        })\r\n        return res.data\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`)\r\n        console.dir(err)\r\n        if (err.response && err.response.status === 401) {\r\n            sessionStorage.clear();\r\n            window.location.assign('/')\r\n        }\r\n        throw err\r\n    }\r\n}","import io from 'socket.io-client'\r\n\r\nexport const SOCKET_EMIT_USER_WATCH = 'user-watch';\r\nexport const SOCKET_EVENT_USER_UPDATED = 'user-updated';\r\nexport const SOCKET_EVENT_REVIEW_ADDED = 'review-added';\r\nexport const SOCKET_EVENT_REVIEW_ABOUT_YOU = 'review-about-you';\r\n\r\n\r\nconst baseUrl = (process.env.NODE_ENV === 'production')? '' : '//localhost:3030'\r\nexport const socketService = createSocketService()\r\n// export const socketService = createDummySocketService()\r\n\r\nwindow.socketService = socketService\r\n\r\n// var socketIsReady = false;\r\nsocketService.setup()\r\n\r\n\r\nfunction createSocketService() {\r\n  var socket = null;\r\n  const socketService = {\r\n    setup() {\r\n      socket = io(baseUrl)\r\n    },\r\n    on(eventName, cb) {\r\n      socket.on(eventName, cb)\r\n    },\r\n    off(eventName, cb=null) {\r\n      if (!socket) return;\r\n      if (!cb) socket.removeAllListeners(eventName)\r\n      else socket.off(eventName, cb)\r\n    },\r\n    emit(eventName, data) {\r\n      socket.emit(eventName, data)\r\n    },\r\n    terminate() {\r\n      socket = null\r\n    }\r\n  }\r\n  return socketService\r\n}\r\n\r\n// eslint-disable-next-line\r\n// function createDummySocketService() {\r\n//   var listenersMap = {}\r\n//   const socketService = {\r\n//     listenersMap,\r\n//     setup() {\r\n//       listenersMap = {}\r\n//     },\r\n//     terminate() {\r\n//       this.setup()\r\n//     },\r\n//     on(eventName, cb) {\r\n//       listenersMap[eventName] = [...(listenersMap[eventName]) || [], cb]\r\n//     },\r\n//     off(eventName, cb) {\r\n//       if (!listenersMap[eventName]) return\r\n//       if (!cb) delete listenersMap[eventName]\r\n//       else listenersMap[eventName] = listenersMap[eventName].filter(l => l !== cb)\r\n//     },\r\n//     emit(eventName, data) {\r\n//       if (!listenersMap[eventName]) return\r\n//       listenersMap[eventName].forEach(listener => {\r\n//         listener(data)\r\n//       })\r\n//     },\r\n//     debugMsg() {\r\n//       this.emit('chat addMsg', {from: 'Someone', txt: 'Aha it worked!'})\r\n//     },\r\n//   }\r\n//   window.listenersMap = listenersMap;\r\n//   return socketService\r\n// }\r\n\r\n\r\n// // Basic Tests\r\n// // function cb(x) {console.log('Socket Test - Expected Puk, Actual:', x)}\r\n// // socketService.on('baba', cb)\r\n// // socketService.on('baba', cb)\r\n// // socketService.on('baba', cb)\r\n// // socketService.on('mama', cb)\r\n// // socketService.emit('baba', 'Puk')\r\n// // socketService.off('baba', cb)\r\n\r\n\r\n// socketService.on(SOCKET_EVENT_REVIEW_ABOUT_YOU, review => {\r\n//   console.log('Review about me!', review);\r\n  \r\n// })\r\n\r\n","export const utilService = {\r\n    makeId,\r\n    makeLorem,\r\n    getRandomIntInclusive,\r\n    delay,\r\n    debounce\r\n    // handleChange\r\n}\r\n\r\nfunction makeId(length = 6) {\r\n    var txt = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n\r\n    return txt;\r\n}\r\n\r\nfunction debounce(func, timeout = 300){\r\n    let timer;\r\n    return (...args) => {\r\n      clearTimeout(timer);\r\n      timer = setTimeout(() => { func.apply(this, args); }, timeout);\r\n    };\r\n  }\r\n\r\nfunction makeLorem(size = 100) {\r\n    var words = ['The sky', 'above', 'the port', 'was', 'the color of television', 'tuned', 'to', 'a dead channel', '.', 'All', 'this happened', 'more or less', '.', 'I', 'had', 'the story', 'bit by bit', 'from various people', 'and', 'as generally', 'happens', 'in such cases', 'each time', 'it', 'was', 'a different story', '.', 'It', 'was', 'a pleasure', 'to', 'burn'];\r\n    var txt = '';\r\n    while (size > 0) {\r\n        size--;\r\n        txt += words[Math.floor(Math.random() * words.length)] + ' ';\r\n    }\r\n    return txt;\r\n}\r\n\r\nfunction getRandomIntInclusive(min, max) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min + 1)) + min; //The maximum is inclusive and the minimum is inclusive \r\n}\r\n\r\nfunction delay(ms = 1500) {\r\n    return new Promise(resolve => {\r\n        setTimeout(resolve, ms)\r\n    })\r\n}\r\n\r\n// function handleChange({ target: { name, value, type } }) {\r\n//     this.setState(prevState => ({ ...prevState, [name]: value }))\r\n// }\r\n\r\n","import { storageService } from './async-storage.service'\r\nimport { httpService } from './http.service'\r\nimport { socketService, SOCKET_EVENT_USER_UPDATED } from './socket.service'\r\nimport { utilService } from './util.service';\r\nconst STORAGE_KEY_LOGGEDIN_USER = 'loggedinUser'\r\nvar gWatchedUser = null;\r\n\r\nexport const userService = {\r\n    login,\r\n    logout,\r\n    signup,\r\n    getLoggedinUser,\r\n    getMiniUser,\r\n    getUsers,\r\n    getById,\r\n    remove,\r\n    update,\r\n    getGueastUser,\r\n    googleLogin\r\n}\r\n\r\nwindow.userService = userService\r\n\r\n\r\nasync function getUsers() {\r\n    // const users = storageService.query('user')\r\n    // return users\r\n    const users = await httpService.get(`user`)\r\n    return users\r\n}\r\n\r\nasync function getById(userId) {\r\n    const user = await storageService.get('user', userId)\r\n        // const user = await httpService.get(`user/${userId}`)\r\n    gWatchedUser = user;\r\n    return user;\r\n}\r\n\r\nfunction remove(userId) {\r\n    return storageService.remove('user', userId)\r\n        // return httpService.delete(`user/${userId}`)\r\n}\r\n\r\nasync function update(user) {\r\n    await storageService.put('user', user)\r\n        // user = await httpService.put(`user/${user._id}`, user)\r\n        // Handle case in which admin updates other user's details\r\n    if (getLoggedinUser()._id === user._id) _saveLocalUser(user)\r\n    return user;\r\n}\r\n\r\nasync function login(userCred) {\r\n    // const users = await storageService.query('user')\r\n    // console.log('users: ', users)\r\n    // const user = users.find(user => user.username.toLocaleLowerCase() === userCred.username.toLocaleLowerCase())\r\n    // return _saveLocalUser(user)\r\n\r\n    const user = await httpService.post('auth/login', userCred)\r\n        // socketService.emit('set-user-socket', user._id);\r\n    if (user) return _saveLocalUser(user)\r\n}\r\n\r\nasync function googleLogin(tokenId) {\r\n    try {\r\n        const user = await httpService.post('auth/googlelogin', { tokenId })\r\n        if (user) return _saveLocalUser(user)\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\nasync function signup(userCred) {\r\n    userCred.imgUrl = ''\r\n    userCred.mentions = []\r\n    userCred.boards = []\r\n        // const user = await storageService.post('user', userCred)\r\n    const user = await httpService.post('auth/signup', userCred)\r\n        // socketService.emit('set-user-socket', user._id);\r\n    return _saveLocalUser(user)\r\n}\r\nasync function logout() {\r\n    sessionStorage.removeItem(STORAGE_KEY_LOGGEDIN_USER)\r\n        // socketService.emit('unset-user-socket');\r\n        // return await httpService.post('auth/logout')\r\n}\r\n\r\n\r\nfunction _saveLocalUser(user) {\r\n    sessionStorage.setItem(STORAGE_KEY_LOGGEDIN_USER, JSON.stringify(user))\r\n    return user\r\n}\r\n\r\nfunction getLoggedinUser() {\r\n    const loggedinUser = JSON.parse(sessionStorage.getItem(STORAGE_KEY_LOGGEDIN_USER) || 'null')\r\n    return loggedinUser\r\n}\r\n\r\nfunction getMiniUser() {\r\n    const fullUser = getLoggedinUser() || { _id: utilService.makeId(), fullname: 'Guest' }\r\n    return { _id: fullUser._id, fullname: fullUser.fullname, imgUrl: fullUser.imgUrl }\r\n}\r\n\r\nfunction getGueastUser() {\r\n    return { _id: utilService.makeId(), fullname: 'Guest' }\r\n}\r\n\r\n\r\n// (async () => {\r\n//     await login({ username: 'morty@smith.com' })\r\n// })();\r\n\r\n//     await userService.signup({fullname: 'Master Adminov', username: 'admin', password:'123', score: 10000, isAdmin: true})\r\n//     await userService.signup({fullname: 'Muki G', username: 'muki', password:'123', score: 10000})\r\n\r\n\r\n\r\n// This IIFE functions for Dev purposes \r\n// It allows testing of real time updates (such as sockets) by listening to storage events\r\n// (async () => {\r\n//     var user = getLoggedinUser()\r\n//     // Dev Helper: Listens to when localStorage changes in OTHER browser\r\n\r\n//     // Here we are listening to changes for the watched user (comming from other browsers)\r\n//     window.addEventListener('storage', async () => {\r\n//         if (!gWatchedUser) return;\r\n//         const freshUsers = await storageService.query('user')\r\n//         const watchedUser = freshUsers.find(u => u._id === gWatchedUser._id)\r\n//         if (!watchedUser) return;\r\n//         if (gWatchedUser.score !== watchedUser.score) {\r\n//             console.log('Watched user score changed - localStorage updated from another browser')\r\n//             socketService.emit(SOCKET_EVENT_USER_UPDATED, watchedUser)\r\n//         }\r\n//         gWatchedUser = watchedUser\r\n//     })\r\n// })();\r\n\r\n// This is relevant when backend is connected\r\n// (async () => {\r\n//     var user = getLoggedinUser()\r\n//     if (user) socketService.emit('set-user-socket', user._id)\r\n// })();","import { userService } from '../services/user.service.js'\r\n\r\n\r\nconst initialState = {\r\n    user: userService.getLoggedinUser() || userService.getGueastUser(),\r\n    users: [],\r\n    watchedUser: null\r\n}\r\nexport function userReducer(state = initialState, action) {\r\n    var newState = state;\r\n    switch (action.type) {\r\n        case 'SET_USER':\r\n            newState = {...state, user: action.user }\r\n            break;\r\n        case 'SET_WATCHED_USER':\r\n            newState = {...state, watchedUser: action.user }\r\n            break;\r\n        case 'REMOVE_USER':\r\n            newState = {\r\n                ...state,\r\n                users: state.users.filter(user => user._id !== action.userId)\r\n            }\r\n            break;\r\n        case 'SET_USERS':\r\n            newState = {...state, users: action.users }\r\n            break;\r\n        default:\r\n    }\r\n    // For debug:\r\n    // window.userState = newState;\r\n    // console.log('State:', newState);\r\n    return newState;\r\n\r\n}","const initialState = {\r\n  isLoading: false\r\n};\r\n\r\nexport function systemReducer (state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'LOADING_START':\r\n      return { ...state, isLoading: true }\r\n    case 'LOADING_DONE':\r\n      return { ...state, isLoading: false }\r\n    default: return state\r\n  }\r\n}\r\n","// const { createStore, applyMiddleware, combineReducers, compose } = Redux\r\n// const thunk = ReduxThunk.default\r\n\r\nimport { createStore, applyMiddleware, combineReducers, compose } from 'redux'\r\nimport thunk from 'redux-thunk'\r\n\r\n\r\nimport { boardReducer } from './board.reducer.js'\r\nimport { userReducer } from './user.reducer.js'\r\nimport { systemReducer } from './system.reducer'\r\n\r\nconst rootReducer = combineReducers({\r\n    boardModule: boardReducer,\r\n    userModule: userReducer,\r\n    systemModule: systemReducer,\r\n})\r\n\r\n\r\n// export const store = createStore(rootReducer, applyMiddleware(thunk))\r\n// window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__();\r\n// Lets wire up thunk and also redux-dev-tools:\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)))\r\n    // export const store = createStore(rootReducer, applyMiddleware(thunk))","function on(eventName, listener) {\r\n\r\n    const callListener = ({ detail }) => {\r\n        listener(detail);\r\n    };\r\n\r\n    window.addEventListener(eventName, callListener);\r\n\r\n    return () => {\r\n        window.removeEventListener(eventName, callListener);\r\n    };\r\n}\r\n\r\nfunction emit(eventName, data) {\r\n    window.dispatchEvent(new CustomEvent(eventName, { detail: data }));\r\n}\r\n\r\nexport const eventBusService = { on, emit };\r\n\r\nexport function showUserMsg(txt, type = '') {\r\n    eventBusService.emit('show-user-msg', { txt, type })\r\n}\r\nexport function showSuccessMsg(txt) {\r\n    showUserMsg(txt, 'success')\r\n}\r\nexport function showErrorMsg(txt) {\r\n    showUserMsg(txt, 'danger')\r\n}\r\n\r\nwindow.myBus = eventBusService;\r\nwindow.showUserMsg = showUserMsg;\r\n\r\n// eventBusService.on('baba', (x)=>console.log('Hi Baba', x))\r\n// eventBusService.on('baba', (x)=>console.log('Hello Baba Ji', x))\r\n// eventBusService.emit('baba', [5, 8, 11])\r\n// setTimeout(()=>{\r\n//     eventBusService.emit('baba', 17)\r\n// }, 2000)\r\n\r\n/* Listening Component...\r\n    import {eventBusService} from 'path...event-bus-service'\r\n    eventBusService.on('some-event', (dataFromEvent) => {\r\n    do something with dataFromEvent\r\n    })\r\n\r\n   Receiving Component...\r\n    eventBusService.emit('some-event', data)\r\n*/","import { userService } from \"../services/user.service.js\";\r\nimport { showErrorMsg } from '../services/event-bus.service.js'\r\nimport { socketService, SOCKET_EMIT_USER_WATCH, SOCKET_EVENT_USER_UPDATED } from \"../services/socket.service.js\";\r\n\r\nexport function loadUsers() {\r\n    return async dispatch => {\r\n        try {\r\n            // dispatch({ type: 'LOADING_START' })\r\n            const users = await userService.getUsers()\r\n            dispatch({ type: 'SET_USERS', users })\r\n        } catch (err) {\r\n            console.log('UserActions: err in loadUsers', err)\r\n        } \r\n        // finally {\r\n        //     dispatch({ type: 'LOADING_DONE' })\r\n        // }\r\n    }\r\n}\r\n\r\nexport function removeUser(userId) {\r\n    return async dispatch => {\r\n        try {\r\n            await userService.remove(userId)\r\n            dispatch({ type: 'REMOVE_USER', userId })\r\n        } catch (err) {\r\n            console.log('UserActions: err in removeUser', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function onLogin(credentials) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const user = await userService.login(credentials)\r\n            dispatch({\r\n                type: 'SET_USER',\r\n                user\r\n            })\r\n        } catch (err) {\r\n            console.log('Cannot login', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function onGoogleLogin(tokenId) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const user = await userService.googleLogin(tokenId)\r\n            dispatch({\r\n                type: 'SET_USER',\r\n                user\r\n            })\r\n        } catch (err) {\r\n            console.log('Cannot login', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function onSignup(credentials) {\r\n    return (dispatch) => {\r\n        userService.signup(credentials)\r\n            .then(user => {\r\n                dispatch({\r\n                    type: 'SET_USER',\r\n                    user\r\n                })\r\n            })\r\n            .catch(err => {\r\n                console.log('Cannot signup', err)\r\n            })\r\n\r\n    }\r\n}\r\n\r\nexport function onLogout() {\r\n    return (dispatch) => {\r\n        userService.logout()\r\n            .then(() => dispatch({\r\n                type: 'SET_USER',\r\n                user: null\r\n            }))\r\n            .catch(err => {\r\n                console.log('Cannot logout', err)\r\n            })\r\n    }\r\n}\r\n\r\nexport function loadAndWatchUser(userId) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const user = await userService.getById(userId);\r\n            dispatch({ type: 'SET_WATCHED_USER', user })\r\n            socketService.emit(SOCKET_EMIT_USER_WATCH, userId)\r\n            socketService.off(SOCKET_EVENT_USER_UPDATED)\r\n            socketService.on(SOCKET_EVENT_USER_UPDATED, user => {\r\n                console.log('USER UPADTED FROM SOCKET');\r\n                dispatch({ type: 'SET_WATCHED_USER', user })\r\n            })\r\n        } catch (err) {\r\n            showErrorMsg('Cannot load user')\r\n            console.log('Cannot load user', err)\r\n        }\r\n    }\r\n}\r\n\r\n","export default __webpack_public_path__ + \"static/media/hero.e8878a54.png\";","export default __webpack_public_path__ + \"static/media/homepage-product.162d5e7b.jpg\";","import React from 'react'\r\nimport { SiTrello } from 'react-icons/si'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { onLogin } from '../store/user.actions'\r\nimport heroImg from '../assets/img/hero.png'\r\nimport productImg from '../assets/img/homepage-product.jpg'\r\n\r\n\r\n\r\nclass _HomePage extends React.Component {\r\n\r\n    state = {\r\n        isNavbarBG: false,\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('scroll', this.changeHeaderStyle)\r\n        document.body.style.overflowY = 'scroll'\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('scroll', this.changeHeaderStyle)\r\n        document.body.style.overflowY = 'hidden'\r\n    }\r\n\r\n    changeHeaderStyle = () => {\r\n        const { isNavbarBG } = this.state\r\n        if (window.scrollY > 50 && !isNavbarBG) {\r\n            this.setState({ isNavbarBG: true })\r\n        } else if (window.scrollY < 50 && isNavbarBG) {\r\n            this.setState({ isNavbarBG: false })\r\n        }\r\n    }\r\n\r\n    onGuestLogin = () => {\r\n        this.props.onLogin({username: 'rick@sanchez.com', password: 'rick123'})\r\n        this.props.history.push('/board')\r\n    }\r\n\r\n    render() {\r\n        const { isNavbarBG } = this.state\r\n        return (\r\n            <section className=\"home-page main-container\">\r\n                <header className={`home-header ${(isNavbarBG) ? 'bg-visible' : ''}`}>\r\n                    <span className=\"logo\"> <SiTrello /> Marshmello</span>\r\n                    <div className=\"header-buttons\">\r\n                        <Link to=\"/login\"><button className=\"login-btn nav-button\">Log in</button></Link>\r\n                        <Link to=\"/signup\"><button className=\"signup-btn nav-button\">Sign up</button></Link>\r\n                    </div>\r\n                </header>\r\n                <div className=\"home-first-fold\">\r\n                    <div className=\"first-fold-text\">\r\n                        <h1>Marshmello helps teams move work forward.</h1>\r\n                        <p>Collaborate, manage projects, and reach new productivity peaks.\r\n                            From high rises to the home office, the way your team works is uniqueaccomplish it all with Marshmello.</p>\r\n                        <button className=\"cta-btn nav-button\" onClick={() => this.onGuestLogin()}>Get Started!</button>\r\n                    </div>\r\n                    <div className=\"first-fold-img\">\r\n                        <img src={heroImg} alt=\"hero\" />\r\n                    </div>\r\n                </div>\r\n                <div className=\"home-second-fold\">\r\n                    <div className=\"second-fold-text\">\r\n                        <h1>Its more than work. Its a way of working together.</h1>\r\n                        <p>Start with a Marshmello board, lists, and cards. Customize and expand with more features as your teamwork grows. Manage projects, organize tasks, and build team spiritall in one place.</p>\r\n                    </div>\r\n                    <div className=\"second-fold-img\">\r\n                        <img src={productImg} alt=\"hero\" />\r\n                    </div>\r\n                </div>\r\n            </section >\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        users: state.userModule.users\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onLogin\r\n}\r\n\r\nexport const HomePage = connect(mapStateToProps, mapDispatchToProps)(_HomePage)","import React from 'react';\r\nimport { AiOutlineStar } from 'react-icons/ai';\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nexport function BoardPreview({ board, toggleStarredBoard, setFavicon }) {\r\n\r\n    function toggleIsStarred(ev) {\r\n        ev.preventDefault()\r\n        ev.stopPropagation()\r\n        toggleStarredBoard(board)\r\n    }\r\n\r\n    return (\r\n        <Link to={`/board/${board._id}`}><div onClick={() => setFavicon(board.style)} className=\"board-preview\" style={(board.style.bgColor) ? { backgroundColor: `${board.style.bgColor}` } : { backgroundImage: `url(${board.style.imgUrl})` }}>\r\n            <div className=\"preview-screen\">\r\n                <div className=\"preview-content\">\r\n                    <h4 className=\"board-title\">{board.title}</h4>\r\n                    <button className={`star-btn ${(board.isStarred) ? 'starred' : ''}`} onClick={(ev) => toggleIsStarred(ev)}><AiOutlineStar /></button>\r\n                </div>\r\n            </div>\r\n        </div></Link>\r\n    )\r\n}","import React from 'react';\r\nimport { BoardPreview } from './board-preview';\r\n\r\nexport function BoardList({ boards, toggleStarredBoard, setFavicon, setAddBoard, isWorkspace }) {\r\n    return (\r\n        <div className=\"board-list flex\">\r\n            {boards.map(board =>\r\n                <BoardPreview key={board._id} board={board} toggleStarredBoard={toggleStarredBoard} setFavicon={setFavicon} />)}\r\n\r\n            {isWorkspace && <div className=\"board-preview create-board-btn\" onClick={() => setAddBoard()}>\r\n                <h4>Create New Board</h4>\r\n            </div>}\r\n        </div>\r\n    );\r\n}","import { userService } from \"./user.service\"\r\n\r\nexport const activityTxtMap = {\r\n    addGroup: (listName) => {\r\n        return `Added list: ${listName}`\r\n    },\r\n    addCard: () => {\r\n        return `Added card:`\r\n    },\r\n    socketUpdate: ()=>{\r\n        return 'UPDATE_BY_SOCKET'\r\n    },\r\n    renameBoard: (boardName) => {\r\n        return `Renamed this board to: ${boardName}`\r\n    },\r\n    inviteMember: (memberName) => {\r\n        return `Invited ${memberName} to this board`\r\n    },\r\n    changeBackground: () => {\r\n        return `Changed the background of this board`\r\n    },\r\n    editCard: () => {\r\n        return `Edited card title: `\r\n    },\r\n    archiveList: (listName) => {\r\n        return `Archived the list: ${listName}`\r\n    },\r\n    completeCard: () => {\r\n        return `Marked the following card as complete: `\r\n    },\r\n    unCompleteCard: () => {\r\n        return `Marked the following card as incomplete: `\r\n    },\r\n    changeDescription: () => {\r\n        return `Changed the description in card: `\r\n    },\r\n    changeGroupTitle: (groupName) => {\r\n        return `Changed the title in list: ${groupName}`\r\n    },\r\n    addMemberToCard: (memberName) => {\r\n        return `Added ${memberName} to a card`\r\n    },\r\n    removeMemberFromCard: (memberName) => {\r\n        return `Removed ${memberName} from a card`\r\n    },\r\n    addLabel: (labelName) => {\r\n        return `Added the label ${labelName} to a card`\r\n    },\r\n    removeLabel: (labelName) => {\r\n        return `Removed the label ${labelName} from a card`\r\n    },\r\n    addChecklist: (checklistName) => {\r\n        return `Added checklist ${checklistName} to a card`\r\n    }\r\n}\r\n\r\n","import { storageService } from './async-storage.service.js'\r\nimport { utilService } from './util.service.js'\r\nimport { userService } from './user.service.js'\r\nimport { httpService } from './http.service'\r\n\r\nconst STORAGE_KEY = 'board'\r\n    // const listeners = []\r\n\r\nexport const boardService = {\r\n    query,\r\n    getById,\r\n    save,\r\n    remove,\r\n    dashboardQuery,\r\n    getArchivedCards\r\n}\r\nwindow.cs = boardService;\r\n\r\n\r\nasync function query(filterByUser) {\r\n    // return storageService.query(STORAGE_KEY)\r\n    try {\r\n        const boards = await httpService.get('board', filterByUser)\r\n        return boards\r\n    } catch (err) {\r\n        console.log('Front: Error loading boards', err)\r\n    }\r\n}\r\n\r\nasync function getById(boardId, filterBy) {\r\n    // return storageService.get(STORAGE_KEY, boardId)\r\n    try {\r\n        if (typeof filterBy === 'object') {\r\n            filterBy = (new URLSearchParams(filterBy)).toString()\r\n        }\r\n        const board = await httpService.get(`board/${boardId}`, filterBy)\r\n        return board\r\n    } catch (err) {\r\n        console.log(`Front: Error loading board with ID: ${boardId}`, err)\r\n    }\r\n}\r\n\r\nasync function dashboardQuery(boardId) {\r\n    // const chartsData = await storageService.dashboardQuery(STORAGE_KEY, boardId)\r\n    // return chartsData\r\n    try {\r\n        const chartsData = await httpService.get(`board/dashboard/${boardId}`)\r\n        return chartsData\r\n    } catch (err) {\r\n        console.log('Front: Error loading chartsData', err)\r\n    }\r\n}\r\n\r\nasync function getArchivedCards(boardId) {\r\n    try {\r\n        const archivedCards = await httpService.get(`board/${boardId}/closed`)\r\n        console.log('archivedChards:', archivedCards)\r\n        return archivedCards\r\n    } catch (err) {\r\n        console.log('Front: Error loading archivedCards', err)\r\n    }\r\n}\r\n\r\n\r\nasync function remove(boardId) {\r\n    return storageService.remove(STORAGE_KEY, boardId)\r\n        // try {\r\n        //     return httpService.delete(`board/${boardId}`)\r\n        // } catch (err) {\r\n        //     console.log(`Front: Error deleting board with ID: ${boardId}`);\r\n        // }\r\n}\r\n\r\nasync function save(board, activity = null) {\r\n    if (board._id) {\r\n        if (activity) {\r\n            const newActivity = {\r\n                    txt: activity.txt,\r\n                    id: utilService.makeId(),\r\n                    byMember: userService.getMiniUser(),\r\n                    card: (activity.card) ? { id: activity.card.id, title: activity.card.title } : {},\r\n                    groupId: (activity.groupId) ? activity.groupId : null\r\n                }\r\n                // console.log('Activity from service: ', newActivity)\r\n                // board.activities.unshift(newActivity)\r\n                // console.log('Board activities from service: ', board.activities)\r\n            return httpService.put(`board/${board._id}`, { board: board, activity: newActivity })\r\n        } else {\r\n            // return storageService.put(STORAGE_KEY, board)\r\n            return httpService.put(`board/${board._id}`, { board: board, activity: null })\r\n        }\r\n    } else {\r\n        const boardToSave = {\r\n                title: board.title,\r\n                style: board.style,\r\n                createdBy: userService.getMiniUser(),\r\n                members: [userService.getMiniUser()],\r\n            }\r\n            // return storageService.post(STORAGE_KEY, boardToSave)\r\n        const addedBoard = await httpService.post(`board`, boardToSave)\r\n        return addedBoard\r\n    }\r\n}\r\n\r\n\r\n// function subscribe(listener) {\r\n//     listeners.push(listener)\r\n// }\r\n\r\n// function _notifySubscribersBoardsChanged(boards) {\r\n//     console.log('Notifying Listeners');\r\n//     listeners.forEach(listener => listener(boards))\r\n// }\r\n\r\n// window.addEventListener('storage', () => {\r\n//     console.log('Storage Changed from another Browser!');\r\n//     query()\r\n//         .then(boards => {\r\n//             _notifySubscribersCarsChanged(boards)\r\n//         }) \r\n// })","import { activityTxtMap } from \"../services/activity.service.js\";\r\nimport { boardService } from \"../services/board.service.js\";\r\nimport { socketService } from \"../services/socket.service.js\";\r\n// import { userService } from \"../services/user.service.js\";\r\n// import { showSuccessMsg, showErrorMsg } from '../services/event-bus.service.js';\r\n\r\n//BOARD\r\nexport function loadBoards(filterBy) {\r\n    return async(dispatch) => {\r\n        try {\r\n            const boards = await boardService.query(filterBy)\r\n            dispatch({\r\n                type: 'SET_BOARDS',\r\n                boards\r\n            })\r\n        } catch (err) {\r\n            // showErrorMsg('Cannot load boards')\r\n            console.log('Cannot load boards', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function loadBoard(boardId, filterBy) {\r\n    return async(dispatch) => {\r\n        try {\r\n            const board = await boardService.getById(boardId, filterBy)\r\n            document.body.style.background = board.style.bgColor ? board.style.bgColor : `url(\"${board.style.imgUrl}\")`\r\n            document.body.style.backgroundSize = 'cover'\r\n\r\n\r\n            dispatch({\r\n                type: 'SET_CURR_BOARD',\r\n                board\r\n            })\r\n        } catch (err) {\r\n            // showErrorMsg('Cannot load boards')\r\n            console.log('Cannot load board', err)\r\n        }\r\n    }\r\n}\r\nexport function resetBoard() {\r\n    document.body.style.background = 'unset'\r\n    return (dispatch) => {\r\n        dispatch({\r\n            type: 'SET_CURR_BOARD',\r\n            board: null\r\n        })\r\n    }\r\n\r\n}\r\n\r\nexport function onRemoveBoard(boardId) {\r\n    return async(dispatch) => {\r\n        try {\r\n            await boardService.remove(boardId)\r\n            console.log('Deleted Succesfully!');\r\n            dispatch({\r\n                type: 'REMOVE_BOARD',\r\n                boardId\r\n            })\r\n        } catch (err) {\r\n            console.log('Cannot remove board', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function onUpdateBoard(action, board, activity = null) {\r\n    return async(dispatch) => {\r\n        const boardToSave = _getUpdatedBoard(action, board)\r\n        dispatch({\r\n            type: 'UPDATE_BOARD',\r\n            board: boardToSave\r\n        })\r\n\r\n        try {\r\n            if (!action.type) action.board = board\r\n            socketService.emit('board-update', { action, activity })\r\n            await boardService.save(boardToSave, activity)\r\n        } catch (err) {\r\n            console.log('Cannot save board', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function onAddBoard(board) {\r\n    return async(dispatch) => {\r\n        try {\r\n            const savedBoard = await boardService.save(board)\r\n            console.log('Added Board', savedBoard);\r\n            dispatch({\r\n                type: 'ADD_BOARD',\r\n                board: savedBoard\r\n            })\r\n            socketService.emit('update', true)\r\n            return savedBoard\r\n        } catch (err) {\r\n            console.log('Cannot add board', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function setAddingBoard(isAddingBoard) {\r\n    return (dispatch) => {\r\n        dispatch({\r\n            type: 'SET_ADDING_BOARD',\r\n            isAddingBoard: isAddingBoard\r\n        })\r\n    }\r\n}\r\n\r\n//CARD\r\nexport function onAddCard(newCard, groupId, board, activity) {\r\n    const group = board.groups.find(group => group.id === groupId)\r\n    newCard = {...newCard, createdAt: Date.now(), isComplete: false };\r\n\r\n    group.cards = (group.cards) ? [...group.cards, newCard] : [newCard]\r\n    const groupAction = { type: 'UPDATE_GROUP', group }\r\n    return onUpdateBoard(groupAction, board, activity)\r\n}\r\n\r\nexport function onRemoveCard(cardId, groupId, board) {\r\n    const group = board.groups.find(group => group.id === groupId)\r\n    group.cards = [...group.cards.filter(card => card.id !== cardId)]\r\n    const groupAction = { type: 'UPDATE_GROUP', group }\r\n    return onUpdateBoard(groupAction, board)\r\n}\r\n\r\nexport function onArchiveCard(cardToSave, groupId, board, activity = null) {\r\n    return async(dispatch) => {\r\n        const deepCopy = (item) => item\r\n        const group = deepCopy(board.groups.find(group => group.id === groupId))\r\n        const cardIdx = group.cards.findIndex(card => card.id === cardToSave.id)\r\n        const groupToStore = deepCopy({...group, cards: [...group.cards.filter(card => cardToSave.id !== card.id)] })\r\n        cardToSave.groupId = groupId;\r\n        cardToSave.prevIndex = cardIdx;\r\n        // console.log('in action cardToSave', cardToSave)\r\n        group.cards.splice(cardIdx, 1, cardToSave)\r\n            // console.log('group', group)\r\n            // groupToStore.cards.splice(cardIdx, 1)\r\n        const boardToSave = {...board }\r\n        const boardToStore = {...board }\r\n        boardToSave.groups = boardToSave.groups.map(currGroup => currGroup.id === group.id ? group : currGroup)\r\n        boardToStore.groups = boardToStore.groups.map(currGroup => currGroup.id === groupToStore.id ? groupToStore : currGroup)\r\n            // console.log('boardtosave', boardToSave)\r\n        try {\r\n            // socketService.emit('board-update', { action, activity })\r\n            await boardService.save(boardToSave, activity)\r\n            dispatch({\r\n                type: 'UPDATE_BOARD',\r\n                board: boardToStore\r\n            })\r\n        } catch (err) {\r\n            console.log('Cannot save board', err)\r\n        }\r\n    }\r\n}\r\n\r\n// export function onUnArchiveCard(cardId, board){\r\n\r\n// }\r\n\r\nexport function loadArchivedCards(boardId) {\r\n    return async(dispatch) => {\r\n        try {\r\n            const archivedCards = await boardService.getArchivedCards(boardId)\r\n            console.log('in actions', archivedCards)\r\n            return archivedCards;\r\n        } catch (err) {\r\n            console.log('Cannot load archived cards', err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function onUpdateCard(cardToSave, groupId, board, activity = null) {\r\n    console.log('cardToSave', cardToSave);\r\n    const group = board.groups.find(group => group.id === groupId)\r\n    const cardIdx = group.cards.findIndex(card => card.id === cardToSave.id)\r\n    console.log('cardIdx: ', -1)\r\n    group.cards.splice(cardIdx, 1, cardToSave)\r\n    const groupAction = { type: 'UPDATE_GROUP', group }\r\n    return onUpdateBoard(groupAction, board, activity)\r\n}\r\n\r\nexport function onSetCardId(cardId) {\r\n    return async(dispatch) => {\r\n        try {\r\n            dispatch({\r\n                type: 'SET_CARD_ID',\r\n                cardId\r\n            })\r\n        } catch (err) {\r\n            // showErrorMsg('Cannot load boards')\r\n            console.log('Cannot set card', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function onUpdateFilter(filterBy) {\r\n    return (dispatch) => {\r\n        const action = { type: 'UPDATE_FILTER', filterBy }\r\n        dispatch(action)\r\n    }\r\n}\r\n\r\nexport function outputUpdateBoard(action, board, activity) {\r\n    return async(dispatch) => {\r\n        const boardToSave = _getUpdatedBoard(action, board)\r\n        dispatch({\r\n            type: 'UPDATE_BOARD',\r\n            board: boardToSave\r\n        })\r\n\r\n    }\r\n}\r\n\r\n/* \r\nserver side filtering\r\nconst board =getBoardById()\r\nconst archived = []\r\nboard.lists.forEach((list)=>{\r\n    list.tasks.forEach(task => {\r\n        if (task.isClosed) {\r\n            task.listId = list.id\r\n            task.prevIdx\r\n        } \r\n    })\r\n})\r\n*/\r\n\r\n\r\nfunction _getUpdatedBoard(action, board) {\r\n    const boardToSave = {...board }\r\n    switch (action.type) {\r\n        case 'TOGGLE_STARRED':\r\n            boardToSave.isStarred = action.isStarred\r\n            break;\r\n        case 'CHANGE_BOARD_STYLE':\r\n            boardToSave.style = action.style\r\n            document.body.style.background = boardToSave.style.bgColor ? boardToSave.style.bgColor : `no-repeat url(\"${boardToSave.style.imgUrl}\")`\r\n            document.body.style.backgroundSize = 'cover'\r\n            break;\r\n        case 'CHANGE_TITLE':\r\n            boardToSave.title = action.title\r\n            break;\r\n        case 'ADD_BOARD_MEMBER':\r\n            console.log('members from action: ', boardToSave.members)\r\n            boardToSave.members = [...boardToSave.members, action.member]\r\n            break;\r\n        case 'REMOVE_BOARD_MEMBER':\r\n            console.log('members from action: ', boardToSave.members)\r\n            boardToSave.members = [...boardToSave.members.filter(member => member._id !== action.memberId)]\r\n            break;\r\n        case 'ADD_GROUP':\r\n            boardToSave.groups = [...boardToSave.groups, action.group]\r\n            break;\r\n        case 'UPDATE_GROUP':\r\n            boardToSave.groups = [...boardToSave.groups.map(currGroup => currGroup.id === action.group.id ? action.group : currGroup)]\r\n            break\r\n        case 'REMOVE_GROUP':\r\n            boardToSave.groups = [...boardToSave.groups.filter(currGroup => currGroup.id !== action.group.id)]\r\n            break\r\n    }\r\n    return boardToSave;\r\n}","export function OverlayScreen() {\r\n    return (\r\n        <div className=\"overlay-screen\"></div>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/loader.1a7da032.svg\";","import loader from '../../assets/img/loader.svg'\r\nexport function Loader() {\r\n    return (\r\n        <div className=\"loader\">\r\n            <img src={loader} alt=\"loading...\" />\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { BoardList } from '../cmps/board-list'\r\nimport { AiFillStar } from 'react-icons/ai'\r\nimport { SiTrello } from 'react-icons/si'\r\n\r\nimport { loadBoards, setAddingBoard, onUpdateBoard } from '../store/board.actions'\r\nimport { OverlayScreen } from '../cmps/overlay-screen'\r\nimport { Loader } from '../cmps/shared/loader'\r\nimport { socketService } from '../services/socket.service'\r\nimport { userService } from '../services/user.service'\r\n\r\n\r\nclass _BoardSelect extends React.Component {\r\n    state = {\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const user = userService.getMiniUser()\r\n        console.log(user)\r\n        await this.props.loadBoards(user)\r\n    }\r\n\r\n    getStarredBoards = () => {\r\n        return this.props.boards.filter(board => board.isStarred)\r\n    }\r\n\r\n    toggleStarredBoard = (board) => {\r\n        const { onUpdateBoard } = this.props\r\n        board.isStarred = !board.isStarred\r\n        onUpdateBoard({ type: 'TOGGLE_STARRED', isStarred: board.isStarred }, board)\r\n        socketService.emit('update', true)\r\n    }\r\n    setFavicon = (style) => {\r\n        const favicon = document.getElementById('favicon')\r\n        if (style.imgUrl) {\r\n            favicon.href = style.imgUrl\r\n        } else {\r\n            favicon.href = \"../../public/favicon.ico\"\r\n        }\r\n    }\r\n\r\n    setAddBoard = () => {\r\n        this.props.setAddingBoard(true)\r\n    }\r\n\r\n    render() {\r\n        const { boards, isAddingBoard } = this.props\r\n        if (!boards) return <Loader />\r\n        return (\r\n            <div className=\"board-select-wrapper\">\r\n            <div className=\"boards-select main-container\">\r\n                <h2> <AiFillStar /> Starred Boards</h2>\r\n                <div className=\"starred-boards\">\r\n                    <BoardList setFavicon={this.setFavicon} boards={this.getStarredBoards()} toggleStarredBoard={this.toggleStarredBoard} />\r\n                </div>\r\n                <h2> <SiTrello /> Workspace</h2>\r\n                <div className=\"workspace\">\r\n                    <BoardList boards={boards} toggleStarredBoard={this.toggleStarredBoard} setFavicon={this.setFavicon} setAddBoard={this.setAddBoard} isWorkspace={true} />\r\n                    {/* <div className=\"board-preview create-board-btn\" onClick={() => this.setAddBoard()}>\r\n                        <h4>Create New Board</h4>\r\n                    </div> */}\r\n                </div>\r\n                {isAddingBoard && <OverlayScreen />}\r\n            </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        boards: state.boardModule.boards,\r\n        isAddingBoard: state.boardModule.isAddingBoard,\r\n        board: state.boardModule.currBoard,\r\n        user: state.userModule.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    loadBoards,\r\n    setAddingBoard,\r\n    onUpdateBoard\r\n}\r\n\r\nexport const BoardSelect = connect(mapStateToProps, mapDispatchToProps)(_BoardSelect)\r\n","import { store } from '../store/store'\r\nimport { utilService } from './util.service'\r\n\r\nconst handleChecklistChange = (type, checklistId, value, newVal) => {\r\n    const cardId = store.getState().boardModule.currCardId\r\n    const board = store.getState().boardModule.currBoard\r\n    const groupId = getGroupId(cardId)\r\n    const card = getCardById(cardId, groupId)\r\n    if (checklistId) {\r\n        const checklist = card.checklists.find(checklist => checklist.id === checklistId)\r\n        if (type === 'addTodo') {\r\n            checklist.todos.push(value)\r\n\r\n        } else if (type === 'markTodo') {\r\n            const todo = checklist.todos.find(todo => todo.id === value)\r\n            todo.isDone = !todo.isDone\r\n\r\n        } else if (type === 'removeTodo') {\r\n            const idx = checklist.todos.findIndex(todo => todo.id === value)\r\n            checklist.todos.splice(idx, 1)\r\n\r\n        } else if (type === 'changeTitle') {\r\n            const todo = checklist.todos.find(todo => todo.id === value)\r\n            todo.title = newVal\r\n\r\n        } else if (type === 'removeChecklist') {\r\n            const idx = card.checklists.findIndex(checklist => checklist.id === checklistId)\r\n            card.checklists.splice(idx, 1)\r\n\r\n        }\r\n    } else {\r\n        if (type === 'addChecklist') {\r\n            if (!card.checklists) card.checklists = []\r\n            card.checklists.push({ id: utilService.makeId(), title: value, todos: [] })\r\n        }\r\n    }\r\n\r\n    return [card, groupId, board]\r\n}\r\n\r\nconst handleMemberChange = (memberId) => {\r\n    const cardId = store.getState().boardModule.currCardId\r\n    const board = store.getState().boardModule.currBoard\r\n    const groupId = getGroupId(cardId)\r\n    let card = getCardById(cardId, groupId)\r\n\r\n    if (!card.members) card.members = []\r\n    const isMemberExist = card?.members?.some(member => member._id === memberId)\r\n    if (isMemberExist) card = { ...card, members: card?.members.filter(member => member._id !== memberId) }\r\n    else {\r\n        const memberToAdd = board.members.find(member => member._id === memberId)\r\n        card.members.push(memberToAdd)\r\n    }\r\n\r\n    return [card, groupId, board]\r\n}\r\n\r\nconst handleLabelChange = (labelId) => {\r\n    const cardId = store.getState().boardModule.currCardId\r\n    const board = store.getState().boardModule.currBoard\r\n    const groupId = getGroupId(cardId)\r\n    let card = getCardById(cardId, groupId)\r\n    if (!card.labelIds) card.labelIds = []\r\n    const isLabelExist = card?.labelIds.some(id => id === labelId)\r\n    if (isLabelExist) card = { ...card, labelIds: card?.labelIds.filter(id => id !== labelId) }\r\n    else {\r\n        const labelToAdd = board.labels.find(label => label.id === labelId)\r\n        card.labelIds.push(labelToAdd.id)\r\n    }\r\n\r\n    return [card, groupId, board]\r\n}\r\n\r\nconst handleDueDateChange = (timestamp) => {\r\n    const cardId = store.getState().boardModule.currCardId\r\n    const board = store.getState().boardModule.currBoard\r\n    const groupId = getGroupId(cardId)\r\n    let card = getCardById(cardId, groupId)\r\n    card.dueDate = timestamp\r\n    return [card, groupId, board]\r\n}\r\n\r\nconst getCardById = (cardId, groupId) => {\r\n    const board = store.getState().boardModule.currBoard\r\n    const group = board.groups.find(group => group.id === groupId)\r\n    return group.cards.find(card => card.id === cardId)\r\n}\r\n\r\nconst getGroupById = (cardId) => {\r\n    const board = store.getState().boardModule.currBoard\r\n    return board.groups.find(group => group.cards.find(card => card.id === cardId))\r\n}\r\n\r\nconst getGroupId = (cardId) => {\r\n    const board = store.getState().boardModule.currBoard\r\n    return board.groups.find(group => group.cards.some(card => card.id === cardId))?.id\r\n}\r\n\r\nconst getFormattedTime = (timestamp) => {\r\n    if (!timestamp) return ''\r\n    const timeLeft = timestamp - Date.now()\r\n    if (timeLeft < 0) {\r\n        const date = new Date(timestamp)\r\n        const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\r\n        const idx = date.getMonth()\r\n        const month = monthNames[idx]\r\n        const day = date.getDate()\r\n        return `${month} ${day} at 12:00 AM`\r\n    }\r\n    if (timeLeft <= (1000 * 60 * 60 * 24)) return 'tomorrow at 12:00 AM'\r\n    const date = new Date(timestamp)\r\n    const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\r\n    const idx = date.getMonth()\r\n    const month = monthNames[idx]\r\n    const day = date.getDate()\r\n    return `${month} ${day} at 12:00 AM`\r\n}\r\n\r\nconst getUploadTime = (timestamp) => {\r\n    const timePassed = Date.now() - timestamp\r\n    if (timePassed < (1000 * 60)) return 'Added a few seconds ago'\r\n    else if (timePassed < (1000 * 60 * 2)) return 'Added 1 minute ago'\r\n    else if (timePassed < 1000 * 60 * 60) {\r\n        const minutes = Math.floor(timePassed / 1000 / 60)\r\n        return `Added ${minutes} minutes ago`\r\n    }\r\n    else if (timePassed < 1000 * 60 * 60 * 13) {\r\n        const hours = Math.floor(timePassed / 1000 / 60 / 60)\r\n        return `Added ${hours} hours ago`\r\n    } else {\r\n        const date = new Date(timestamp)\r\n        const minutes = (date.getMinutes() < 10) ? `0${date.getMinutes()}` : date.getMinutes()\r\n        if (timePassed < 1000 * 60 * 60 * 24) {\r\n            return `Added today at ${date.getHours()}:${minutes} `\r\n        } else if (timePassed < 1000 * 60 * 60 * 48) {\r\n            return `Added yesterday at ${date.getHours()}:${minutes}`\r\n        } else {\r\n            const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\r\n            const idx = date.getMonth()\r\n            const month = monthNames[idx]\r\n            const day = date.getDate()\r\n            return `Added ${month} ${day} at ${date.getHours()}:${minutes}`\r\n        }\r\n    }\r\n}\r\n\r\nconst handleFileAdd = (url) => {\r\n    const cardId = store.getState().boardModule.currCardId\r\n    const board = store.getState().boardModule.currBoard\r\n    const groupId = getGroupId(cardId)\r\n    const card = getCardById(cardId, groupId)\r\n    if (!card.attachments) card.attachments = []\r\n    card.attachments.push({ url, title: 'Attachment', addedAt: Date.now() })\r\n    return [card, groupId, board]\r\n}\r\n\r\nconst handleFileRemove = (fileId) => {\r\n    const cardId = store.getState().boardModule.currCardId\r\n    const board = store.getState().boardModule.currBoard\r\n    const groupId = getGroupId(cardId)\r\n    const card = getCardById(cardId, groupId)\r\n    const idx = card.attachments.findIndex(file => file.id === fileId)\r\n    card.attachments.splice(idx, 1)\r\n    return [card, groupId, board]\r\n}\r\n\r\nconst handleMoveCard = (cardId, groupId, idx) => {\r\n    const initialBoard = store.getState().boardModule.currBoard\r\n    const initialGroup = initialBoard.groups.find(group => group.cards.some(card => card.id === cardId))\r\n    const card = getCardById(cardId, initialGroup.id)\r\n    const initialCardIdx = initialGroup.cards.findIndex(card => card.id === cardId)\r\n    initialGroup.cards.splice(initialCardIdx, 1)\r\n    let newGroup = initialBoard.groups.find(group => group.id === groupId)\r\n    newGroup.cards.splice(idx, 0, card)\r\n    return initialBoard\r\n}\r\n\r\nconst handleCopyCard = (cardId, groupId, idx, title) => {\r\n    const initialBoard = store.getState().boardModule.currBoard\r\n    const initialGroup = initialBoard.groups.find(group => group.cards.some(card => card.id === cardId))\r\n    const card = getCardById(cardId, initialGroup.id)\r\n    let newGroup = initialBoard.groups.find(group => group.id === groupId)\r\n    newGroup.cards.splice(idx, 0, { ...card, id: utilService.makeId(), title })\r\n    return initialBoard\r\n}\r\n\r\nconst handleToggleArchive = (cardId) => {\r\n    const board = store.getState().boardModule.currBoard\r\n    const groupId = getGroupId(cardId)\r\n    const card = getCardById(cardId, groupId)\r\n    card.isArchive = !card.isArchive\r\n    return [card, groupId, board]\r\n}\r\n\r\nconst handleRemoveCard = (cardId) => {\r\n    const board = { ...store.getState().boardModule.currBoard }\r\n    const group = board.groups.find(group => group.cards.some(card => card.id === cardId))\r\n    group.cards = group.cards.filter(card => card.id !== cardId)\r\n    // return board\r\n}\r\n\r\nconst onAddComment = (txt) => {\r\n    const cardId = store.getState().boardModule.currCardId\r\n    const board = store.getState().boardModule.currBoard\r\n    const groupId = getGroupId(cardId)\r\n    const card = getCardById(cardId, groupId)\r\n    if (!card.comments) card.comments = []\r\n    card.comments.push({ id:utilService.makeId(), txt, addedAt: Date.now() })\r\n    return [card, groupId, board]\r\n}\r\n\r\n\r\nexport const cardEditService = {\r\n    handleChecklistChange,\r\n    handleMemberChange,\r\n    getGroupId,\r\n    getCardById,\r\n    handleLabelChange,\r\n    handleDueDateChange,\r\n    getFormattedTime,\r\n    getUploadTime,\r\n    handleFileAdd,\r\n    handleFileRemove,\r\n    getGroupById,\r\n    handleMoveCard,\r\n    handleCopyCard,\r\n    handleToggleArchive,\r\n    handleRemoveCard,\r\n    onAddComment\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { cardEditService } from '../../../services/card-edit.service'\r\nimport { onUpdateBoard } from '../../../store/board.actions'\r\n\r\n\r\nexport function _MoveCard({ board, currCardId, onUpdateBoard, onClose }) {\r\n    const [currGroup, setCurrGroup] = useState(null)\r\n    const [currPosition, setCurrPosition] = useState(null)\r\n\r\n    useEffect(() => {\r\n        const group = cardEditService.getGroupById(currCardId, board._id)\r\n        setCurrGroup(group)\r\n        const idx = group.cards.findIndex(card => card.id === currCardId)\r\n        setCurrPosition(idx + 1)\r\n    }, [board])\r\n\r\n    const handleChange = ({ target: { name, value } }) => {\r\n        if (name === 'group') {\r\n            const group = board.groups.find(item => item.id === value)\r\n            setCurrGroup(group)\r\n            setCurrPosition(group.cards.length + 1)\r\n        } else if (name === 'position') {\r\n            // setCurrPosition(currGroup.cards.length + 1)\r\n            setCurrPosition(value)\r\n        }\r\n    }\r\n\r\n    const getPositions = () => {\r\n        const length = currGroup.cards.length + 1\r\n        const positions = []\r\n        for (let i = 1; i <= length; i++) {\r\n            positions.push(i)\r\n        }\r\n        return positions\r\n    }\r\n\r\n    const handleSubmit = () => {\r\n        const groupId = currGroup.id\r\n        const idx = currPosition - 1\r\n        // const initialGroup = cardEditService.handleMoveCardFrom(currCardId)\r\n        // onUpdateBoard({ type: 'UPDATE_GROUP', group: initialGroup }, board)\r\n        const boardToChange = cardEditService.handleMoveCard(currCardId, groupId, idx)\r\n        onUpdateBoard({ type: '' }, boardToChange)\r\n        // onUpdateBoard({ type: 'UPDATE_GROUP', group: newGroup }, board)\r\n        // onUpdateBoard({ type: 'UPDATE_GROUP', initialGroup }, board, activity)\r\n        onClose()\r\n    }\r\n\r\n    if (!currGroup) return null\r\n    return (\r\n        <div className=\"move-card\">\r\n            <h4>Select destination</h4>\r\n\r\n            <div className=\"select-board\">\r\n                <span className=\"label\">Board</span>\r\n                <span className=\"select-value\">{board.title}</span>\r\n                <select name=\"board\" onChange={handleChange}>\r\n                    {/* {boards.map(item => <option key={item._id} value={item._id}>{item.title}</option>)} */}\r\n                    <option value={board._id}>{board.title}</option>\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"flex bottom-container\">\r\n                <div className=\"select-group\">\r\n                    <span className=\"label\">List</span>\r\n                    <span className=\"select-value\">{currGroup.title}</span>\r\n                    <select name=\"group\" onChange={handleChange}>\r\n                        {board.groups.map(item => <option key={item.id} value={item.id}>{item.title}</option>)}\r\n                    </select>\r\n                </div>\r\n\r\n                <div className=\"select-position\">\r\n                    <span className=\"label\">Position</span>\r\n                    <span className=\"select-value\">{currPosition}</span>\r\n                    <select name=\"position\" onChange={handleChange}>\r\n                        {getPositions().map((item, i) => <option key={i} value={item}>{item}</option>)}\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <button className=\"move-btn card-edit-btn secondary\" onClick={handleSubmit}>Move</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        board: state.boardModule.currBoard,\r\n        boards: state.boardModule.boards,\r\n        currCardId: state.boardModule.currCardId\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onUpdateBoard\r\n}\r\n\r\nexport const MoveCard = connect(mapStateToProps, mapDispatchToProps)(_MoveCard)\r\n","import React, { useEffect, useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { cardEditService } from '../../../services/card-edit.service'\r\nimport { onUpdateBoard } from '../../../store/board.actions'\r\n\r\n\r\nexport function _CopyCard({ board, currCardId, onUpdateBoard, onClose }) {\r\n    const [currTitle, setCurrTitle] = useState('')\r\n    const [currGroup, setCurrGroup] = useState(null)\r\n    const [currPosition, setCurrPosition] = useState(null)\r\n\r\n    useEffect(() => {\r\n        const group = cardEditService.getGroupById(currCardId, board._id)\r\n        const card = cardEditService.getCardById(currCardId, group.id)\r\n        setCurrTitle(card.title)\r\n        setCurrGroup(group)\r\n        const idx = group.cards.findIndex(card => card.id === currCardId)\r\n        setCurrPosition(idx + 1)\r\n    }, [board])\r\n\r\n    const handleChange = ({ target: { name, value } }) => {\r\n        if (name === 'group') {\r\n            const group = board.groups.find(item => item.id === value)\r\n            setCurrGroup(group)\r\n            setCurrPosition(group.cards.length + 1)\r\n        } else if (name === 'position') {\r\n            setCurrPosition(value)\r\n        } else if (name === 'title') {\r\n            setCurrTitle(value)\r\n        }\r\n    }\r\n\r\n    const getPositions = () => {\r\n        const length = currGroup.cards.length + 1\r\n        const positions = []\r\n        for (let i = 1; i <= length; i++) {\r\n            positions.push(i)\r\n        }\r\n        return positions\r\n    }\r\n\r\n    const handleSubmit = () => {\r\n        const groupId = currGroup.id\r\n        const idx = currPosition - 1\r\n        const boardToChange = cardEditService.handleCopyCard(currCardId, groupId, idx, currTitle)\r\n        onUpdateBoard({ type: '' }, boardToChange)\r\n        onClose()\r\n    }\r\n\r\n    if (!currGroup) return null\r\n    return (\r\n        <div className=\"copy-card\">\r\n            <label>Title</label>\r\n            <textarea name=\"title\" className=\"search-input\" autoFocus value={currTitle} onChange={handleChange} />\r\n\r\n\r\n            <label>Copy to...</label>\r\n            <div className=\"select-board\">\r\n                <span className=\"label\">Board</span>\r\n                <span className=\"select-value\">{board.title}</span>\r\n                <select name=\"board\" onChange={handleChange}>\r\n                    <option value={board._id}>{board.title}</option>\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"flex bottom-container\">\r\n                <div className=\"select-group\">\r\n                    <span className=\"label\">List</span>\r\n                    <span className=\"select-value\">{currGroup.title}</span>\r\n                    <select name=\"group\" onChange={handleChange}>\r\n                        {board.groups.map(item => <option key={item.id} value={item.id}>{item.title}</option>)}\r\n                    </select>\r\n                </div>\r\n\r\n                <div className=\"select-position\">\r\n                    <span className=\"label\">Position</span>\r\n                    <span className=\"select-value\">{currPosition}</span>\r\n                    <select name=\"position\" onChange={handleChange}>\r\n                        {getPositions().map((item, i) => <option key={i} value={item}>{item}</option>)}\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <button className=\"copy-btn card-edit-btn secondary\" onClick={handleSubmit}>Create card</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        board: state.boardModule.currBoard,\r\n        boards: state.boardModule.boards,\r\n        currCardId: state.boardModule.currCardId\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onUpdateBoard\r\n}\r\n\r\nexport const CopyCard = connect(mapStateToProps, mapDispatchToProps)(_CopyCard)\r\n","import React, { useEffect, useLayoutEffect, useRef, useState } from 'react'\r\nimport { IoMdClose } from 'react-icons/io'\r\nimport { BsChevronLeft } from 'react-icons/bs'\r\n\r\n/*\r\n    How-to-use\r\n    1. The component shall recieve:\r\n       * an onClose function that closes the popover\r\n       * a title for the header\r\n       * the component that should be rendered inside of the popover (children)\r\n    2. The popover should be rendered on the same lavel as the element that \r\n       triggers the opening of the popover\r\n    3. The parrent element of both the trigger element and the popover should have\r\n       position relative (className=\"relative\")\r\n    4. The popover should recieve the parent ref (ref={parentRef})\r\n    5. The state for the opening and closing of the popover should be managed from \r\n       outside \r\n*/\r\n\r\nexport const DynamicPopover = React.forwardRef(({ onClose, title, children, isLabel, handleEdit }, parentRef) => {\r\n    const targetRef = useRef()\r\n    const [dimensions, setDimensions] = useState({ width: 0, height: 0 })\r\n\r\n    useLayoutEffect(() => {\r\n        if (targetRef.current) {\r\n            setDimensions({\r\n                width: targetRef.current.offsetWidth,\r\n                height: targetRef.current.offsetHeight\r\n            })\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const handleClick = e => {\r\n            const containerElement = targetRef.current\r\n            if (containerElement?.contains(e.target) || parentRef?.current?.contains(e.target)) {\r\n                // inside click\r\n                return\r\n            }\r\n            // outside click \r\n            onClose()\r\n        }\r\n\r\n        window.addEventListener(\"mouseup\", handleClick);\r\n        return () => {\r\n            window.removeEventListener(\"mouseup\", handleClick);\r\n        }\r\n    }, [onClose, parentRef])\r\n\r\n\r\n    const getLocation = () => {\r\n        if (window.innerWidth < 600) return { position: 'fixed', left: '50%', top: '20%', transform: 'translate(-50%)' }\r\n        const rect = parentRef?.current?.getBoundingClientRect()\r\n        if (!rect) return\r\n\r\n        const bottomCheck = window.innerHeight - (rect.bottom + dimensions.height) < 20\r\n        const topCheck = window.innerHeight - (rect.bottom + dimensions.height) < 20\r\n        const rightCheck = window.innerWidth - (rect.left + dimensions.width) < 100\r\n        const verticalCheck = bottomCheck && topCheck\r\n\r\n        if (bottomCheck) {\r\n            let bottom\r\n            if (verticalCheck) bottom = '-400%'\r\n            else if (topCheck) bottom = '-100%'\r\n            else bottom = rect.height + 8\r\n            if (rightCheck) return { bottom, right: 0 }\r\n            else return { bottom, left: 0 }\r\n        }\r\n        if (rightCheck) return { top: rect.height + 8, right: 0 }\r\n\r\n        return { left: 0, top: rect.height + 8 }\r\n    }\r\n\r\n    return (\r\n        <div ref={ref => targetRef.current = ref} className=\"dynamic-popover\" style={{ position: 'absolute', ...getLocation() }}>\r\n            {title\r\n                ?\r\n                <div className=\"popover-header\">\r\n                    {isLabel && <span className=\"back-btn\" onClick={handleEdit}><BsChevronLeft /></span>}\r\n                    <p>{title}</p>\r\n                    <span className=\"close-btn\" onClick={onClose}><IoMdClose /></span>\r\n                </div>\r\n                :\r\n                <div className=\"relative\" style={{ height: 16 }}>\r\n                    <span className=\"close-popover-icon\" onClick={onClose}><IoMdClose /></span>\r\n                </div>}\r\n            <div className=\"popover-content\">\r\n                {children}\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n","import React from 'react'\r\n\r\nexport function EditSidebarLabel({ Icon, title }) {\r\n\r\n    const getStyle = () => {\r\n        if (title === \"Delete\") return { backgroundColor: '#b04632', color: '#fff' }\r\n        else return {}\r\n    }\r\n\r\n    return (\r\n        <div className=\"label-container\">\r\n            <button className=\"sidebar-label card-edit-btn sidebar-btn\" style={{ position: 'relative', ...getStyle() }}>\r\n                <div className=\"list-item-layover\"></div>\r\n                <div className=\"btn-label-container flex\">\r\n                    <Icon />\r\n                    <p>{title}</p>\r\n                </div>\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useMemo, useRef, useState } from 'react'\r\nimport { DynamicPopover } from '../shared/dynamic-popover'\r\nimport { EditSidebarLabel } from '../card-edit/edit-sidebar-label'\r\n\r\n\r\nexport function CardEditActionsItem({ item }) {\r\n    const [isOpen, setIsOpen] = useState(false)\r\n    const itemRef = useRef()\r\n    const InnerPopperCmp = useMemo(() => item.component, [item])\r\n\r\n    return (\r\n        <div className=\"label-wrapper\">\r\n            <div ref={itemRef} className={`relative ${isOpen ? 'popover-open' : ''}`}>\r\n                <span onClick={() => setIsOpen(!isOpen)}>\r\n                    <EditSidebarLabel Icon={item.icon} title={item.title} />\r\n                </span>\r\n                {\r\n                    isOpen && <DynamicPopover onClose={() => setIsOpen(false)} title={item.title} ref={itemRef}>\r\n                        <InnerPopperCmp onClose={() => setIsOpen(false)} />\r\n                    </DynamicPopover>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React, { useEffect, useState } from 'react'\r\nimport { BsArrowRight } from 'react-icons/bs'\r\nimport { MdContentCopy } from 'react-icons/md'\r\nimport { AiOutlineEye } from 'react-icons/ai'\r\nimport { GoArchive } from 'react-icons/go'\r\nimport { BsArrowCounterclockwise } from 'react-icons/bs'\r\nimport { AiOutlineMinus } from 'react-icons/ai'\r\nimport { MoveCard } from '../shared/popover-children/move-card'\r\nimport { CopyCard } from '../shared/popover-children/copy-card'\r\nimport { CardEditActionsItem } from './card-edit-actions-item'\r\nimport { EditSidebarLabel } from './edit-sidebar-label'\r\nimport { connect } from 'react-redux'\r\nimport { cardEditService } from '../../services/card-edit.service'\r\nimport { onUpdateBoard, onUpdateCard } from '../../store/board.actions'\r\n\r\n\r\nconst _CardEditActions = ({ currCardId, board, onUpdateCard, goBack, onUpdateBoard }) => {\r\n    const [isArchive, setIsArchive] = useState(false)\r\n\r\n    useEffect(() => {\r\n        const groupId = cardEditService.getGroupId(currCardId)\r\n        const card = cardEditService.getCardById(currCardId, groupId)\r\n        setIsArchive(card.isArchive || false)\r\n\r\n    }, [])\r\n\r\n    const toggleArchive = () => {\r\n        setIsArchive(!isArchive)\r\n        const res = cardEditService.handleToggleArchive(currCardId)\r\n        onUpdateCard(...res)\r\n    }\r\n\r\n    // const removeCard = () => {\r\n    //     const boardToSave = cardEditService.handleRemoveCard(currCardId)\r\n    //     onUpdateBoard({ type: '' }, boardToSave)\r\n    //     goBack()\r\n    // }\r\n\r\n    return (\r\n        <div style={{ position: 'relative' }}>\r\n            <div className=\"card-edit-actions\">\r\n                <h3 className=\"sidebar-title\">Actions</h3>\r\n                <div className=\"actions-container\">\r\n                    {actions.map((item, idx) => (\r\n                        <CardEditActionsItem key={item.title + idx} item={item} />\r\n                    ))}\r\n                    {!isArchive && <div className=\"label-wrapper\" onClick={toggleArchive}>\r\n                        <EditSidebarLabel Icon={GoArchive} title='Archive' />\r\n                    </div>}\r\n                    {isArchive && <>\r\n                        <div className=\"label-wrapper\" onClick={toggleArchive}>\r\n                            <EditSidebarLabel Icon={BsArrowCounterclockwise} title='Send to board' />\r\n                        </div>\r\n                        <div className=\"label-wrapper\">\r\n                            <EditSidebarLabel Icon={AiOutlineMinus} title='Delete' />\r\n                        </div>\r\n                    </>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst actions = [{ icon: BsArrowRight, title: 'Move', component: MoveCard }, { icon: MdContentCopy, title: 'Copy', component: CopyCard }, { icon: AiOutlineEye, title: 'Watch' }]\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        board: state.boardModule.currBoard,\r\n        currCardId: state.boardModule.currCardId\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onUpdateCard,\r\n    onUpdateBoard\r\n}\r\n\r\nexport const CardEditActions = connect(mapStateToProps, mapDispatchToProps)(_CardEditActions);\r\n","import Avatar from 'react-avatar';\r\n\r\n\r\n\r\nexport function MemberAvatar({ member, size, style = {} }) {\r\n\r\n    function getSize() {\r\n        switch (size) {\r\n            case 'sm':\r\n                return 20\r\n            case 'lg':\r\n                return 50\r\n            case 'md':\r\n            default:\r\n                return 32\r\n        }\r\n    }\r\n    // src={member.imgUrl}\r\n    return <Avatar name={member.fullname} src={member.imgUrl} size={getSize()} style={style} round />\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { BsCheck } from 'react-icons/bs'\r\nimport { onUpdateCard } from '../../store/board.actions'\r\nimport { MemberAvatar } from '../shared/member-avatar'\r\nimport { cardEditService } from '../../services/card-edit.service'\r\nimport { activityTxtMap } from '../../services/activity.service'\r\n\r\nfunction _PopperMemberPreview({ member, currCardId, onUpdateCard }) {\r\n    const [isChecked, setIsChecked] = useState(false)\r\n\r\n    useEffect(() => {\r\n        const groupId = cardEditService.getGroupId(currCardId)\r\n        const card = cardEditService.getCardById(currCardId, groupId)\r\n        const isMemberChecked = card.members?.find(m => m._id === member._id)\r\n        setIsChecked(isMemberChecked)\r\n    }, [currCardId, member._id])\r\n\r\n    const handleMemberClick = () => {\r\n        setIsChecked(!isChecked)\r\n        const res = cardEditService.handleMemberChange(member._id)\r\n        const activity = (isChecked) ? {txt: activityTxtMap.removeMemberFromCard(member.fullname), currCardId} : {txt: activityTxtMap.addMemberToCard(member.fullname), currCardId}\r\n        onUpdateCard(...res, activity)\r\n    }\r\n\r\n    return (\r\n        <div className=\"popper-member-preview flex\" onClick={handleMemberClick}>\r\n            <div className='list-item-layover'></div>\r\n            <div style={{ width: 32 }}>\r\n                <MemberAvatar member={member} />\r\n            </div>\r\n            <div className='popper-member-name'>\r\n                <p>{member.fullname}</p>\r\n            </div>\r\n            {isChecked && <div className='popper-member-check'><BsCheck /></div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        currCardId: state.boardModule.currCardId\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onUpdateCard\r\n}\r\n\r\nexport const PopperMemberPreview = connect(mapStateToProps, mapDispatchToProps)(_PopperMemberPreview);","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { PopperMemberPreview } from '../../card-edit/popper-member-preview'\r\n\r\nconst _MemberList = ({ board }) => {\r\n    const [members, setMembers] = useState(board.members)\r\n\r\n    const handleChange = ({ target: { value } }) => {\r\n        const matchingMembers = board.members.filter(member => member.fullname.toLowerCase().includes(value.toLowerCase()))\r\n        setMembers(matchingMembers)\r\n    }\r\n\r\n    return (<div className=\"member-list\">\r\n        <input className=\"search-input\" type=\"text\" autoFocus placeholder=\"Search...\" onChange={handleChange} />\r\n        <h4>Board Members</h4>\r\n        <div className=\"flex column\">\r\n            {members.map(member => (\r\n                <PopperMemberPreview\r\n                    key={member._id}\r\n                    member={member}\r\n                />\r\n            ))}\r\n        </div>\r\n    </div>)\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        board: state.boardModule.currBoard,\r\n    }\r\n}\r\n\r\nexport const MemberList = connect(mapStateToProps)(_MemberList)","import React, { useState } from 'react'\r\nimport DatePicker from 'react-datepicker'\r\nimport 'react-datepicker/dist/react-datepicker.css'\r\nimport { connect } from 'react-redux'\r\nimport { cardEditService } from '../../../services/card-edit.service'\r\nimport { onUpdateCard } from '../../../store/board.actions'\r\n\r\n\r\n\r\nconst _CardEditDate = ({ onUpdateCard, onClose }) => {\r\n    const [startDate] = useState(new Date())\r\n    const [endDate] = useState(null)\r\n    const [dueDate, setDueDate] = useState(null)\r\n\r\n    const onChange = (date) => {\r\n        setDueDate(date.getTime())\r\n    }\r\n\r\n    const onReset = () => {\r\n        setDueDate(null)\r\n        handleSubmit()\r\n    }\r\n\r\n    const handleSubmit = () => {\r\n        const res = cardEditService.handleDueDateChange(dueDate)\r\n        onUpdateCard(...res)\r\n        onClose()\r\n    }\r\n\r\n    return (\r\n        <div className=\"date-picker\">\r\n            <DatePicker\r\n                selected={startDate}\r\n                onChange={onChange}\r\n                startDate={startDate}\r\n                endDate={endDate}\r\n                // selectsRange\r\n                inline\r\n                formatWeekDay={nameOfDay => nameOfDay.substr(0, 3)}\r\n            />\r\n            <div className=\"picker-btns flex column\">\r\n                <button className=\"card-edit-btn secondary long\" onClick={handleSubmit}>Save</button>\r\n                <button className=\"card-edit-btn long\" onClick={onReset}>Remove</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onUpdateCard\r\n}\r\n\r\nexport const CardEditDate = connect(null, mapDispatchToProps)(_CardEditDate);\r\n","import React, { useEffect, useState } from 'react'\r\nimport { BiPencil } from 'react-icons/bi'\r\nimport { BsCheck } from 'react-icons/bs'\r\nimport { connect } from 'react-redux'\r\nimport { activityTxtMap } from '../../services/activity.service'\r\nimport { cardEditService } from '../../services/card-edit.service'\r\nimport { onUpdateCard } from '../../store/board.actions'\r\n\r\nfunction _PopperLabelPreview({ label, currCardId, onUpdateCard, handleEdit }) {\r\n    const [isChecked, setIsChecked] = useState(false)\r\n\r\n    useEffect(() => {\r\n        const groupId = cardEditService.getGroupId(currCardId)\r\n        const card = cardEditService.getCardById(currCardId, groupId)\r\n        const isLabelChecked = card.labelIds?.some(l => l === label.id)\r\n        setIsChecked(isLabelChecked)\r\n    }, [currCardId, label.id])\r\n\r\n    const handleLabelClick = () => {\r\n        setIsChecked(!isChecked)\r\n        const res = cardEditService.handleLabelChange(label.id)\r\n        const groupId = cardEditService.getGroupId(currCardId)\r\n        // const activity = {txt: activityTxtMap.addLabel(label.title), groupId: groupId}\r\n        const activity = (isChecked) ? { txt: activityTxtMap.removeLabel(label.title), groupId: groupId } : { txt: activityTxtMap.addLabel(label.title), groupId: groupId }\r\n        onUpdateCard(...res, activity)\r\n    }\r\n\r\n    return (\r\n        <div className=\"label-preview flex\" >\r\n            {/* <div className='list-item-layover'></div> */}\r\n            <div className=\"label-preview flex\" >\r\n                <div className=\"popper-label \" style={{ backgroundColor: label.color }} onClick={handleLabelClick}>\r\n                    <span> {label.title || ''}</span>\r\n                    {isChecked && <div className='popper-label-check'><BsCheck /></div>}\r\n                </div>\r\n                <div className=\"icon-wrapper\" onClick={() => handleEdit(label.color)}><BiPencil /></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        currCardId: state.boardModule.currCardId\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onUpdateCard\r\n}\r\n\r\nexport const PopperLabelPreview = connect(mapStateToProps, mapDispatchToProps)(_PopperLabelPreview);\r\n","import React, { useState } from 'react'\r\nimport { PopperLabelPreview } from '../../card-edit/popper-label-preview'\r\nimport { connect } from 'react-redux'\r\n\r\nfunction _LabelList({ board, handleEdit }) {\r\n    const [labels, setLabels] = useState(board.labels)\r\n\r\n    const handleChange = ({ target: { value } }) => {\r\n        const matchingLabels = board.labels.filter(label => label.title.toLowerCase().includes(value.toLowerCase()))\r\n        setLabels(matchingLabels)\r\n    }\r\n\r\n    return (\r\n        <div className=\"label-list-container\">\r\n            <input className=\"search-input\" type=\"text\" autoFocus placeholder=\"Search labels...\" onChange={handleChange} />\r\n            <h4>Labels</h4>\r\n            <div className=\"flex column label-list\">\r\n                {labels.map(label => <PopperLabelPreview key={label.id} label={label} handleEdit={handleEdit} />)}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        board: state.boardModule.currBoard,\r\n    }\r\n}\r\n\r\nexport const LabelList = connect(mapStateToProps)(_LabelList)\r\n\r\n\r\n","import React, { useEffect, useRef, useState } from 'react'\r\nimport { cardEditService } from '../../../services/card-edit.service'\r\nimport { onUpdateCard } from '../../../store/board.actions'\r\nimport { connect } from 'react-redux'\r\nimport { activityTxtMap } from '../../../services/activity.service'\r\n\r\nexport function _PopoverChecklist({ onUpdateCard, onClose }) {\r\n    const inputRef = useRef()\r\n    const [title, setTitle] = useState('Checklist')\r\n\r\n    useEffect(() => {\r\n        inputRef.current.focus()\r\n        inputRef.current.select()\r\n    }, [])\r\n\r\n    const handleChange = ({ target: { value } }) => {\r\n        setTitle(value)\r\n    }\r\n\r\n    const handleSubmit = (ev) => {\r\n        ev.preventDefault()\r\n        const res = cardEditService.handleChecklistChange('addChecklist', null, title)\r\n        const activity = {txt: activityTxtMap.addChecklist(title)}\r\n        onUpdateCard(...res, activity)\r\n        setTitle('')\r\n        onClose()\r\n    }\r\n\r\n    return (\r\n        <form className=\"popover-checklist\" onSubmit={handleSubmit}>\r\n            <label htmlFor=\"checklist-title\">Title</label>\r\n            <input className=\"search-input\" ref={inputRef} value={title} onChange={handleChange} />\r\n            <button className=\"card-edit-btn secondary\">Add</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        board: state.boardModule.currBoard\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onUpdateCard\r\n}\r\n\r\nexport const PopoverChecklist = connect(mapStateToProps, mapDispatchToProps)(_PopoverChecklist);","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { cardEditService } from '../../../services/card-edit.service'\r\nimport { onUpdateCard } from '../../../store/board.actions'\r\n\r\n\r\n\r\nfunction _PopoverAttachFile({ onUpdateCard, onClose }) {\r\n\r\n\r\n    const handleSubmit = (ev) => {\r\n        ev.preventDefault()\r\n        const res = cardEditService.handleFileAdd(ev.target[0].value)\r\n        onUpdateCard(...res)\r\n        onClose()\r\n    }\r\n\r\n    return (\r\n        <div className=\"popover-attach-file\">\r\n            <div className=\"attach-from\">\r\n                <label htmlFor=\"upload\" >\r\n                    <span aria-hidden=\"true\">Computer</span>\r\n                    <input type=\"file\" id=\"upload\" style={{ display: 'none' }} onChange={handleSubmit} />\r\n                </label>\r\n            </div>\r\n\r\n            <form onSubmit={handleSubmit} className=\"attach-link\">\r\n                <label>Attach a link</label>\r\n                <input className=\"search-input\" placeholder=\"Paste any link here...\" />\r\n                <button className=\"card-edit-btn\">Attach</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        board: state.boardModule.currBoard\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onUpdateCard\r\n}\r\n\r\nexport const PopoverAttachFile = connect(mapStateToProps, mapDispatchToProps)(_PopoverAttachFile);\r\n\r\n","import React, { useMemo, useRef, useState } from 'react'\r\nimport { DynamicPopover } from '../../shared/dynamic-popover'\r\nimport { EditSidebarLabel } from '../edit-sidebar-label'\r\nimport { connect } from 'react-redux'\r\nimport { cardEditService } from '../../../services/card-edit.service'\r\n\r\n\r\nfunction _CardEditAddToCardItem({ item, currCardId }) {\r\n    const [isOpen, setIsOpen] = useState(false)\r\n    const itemRef = useRef()\r\n    const InnerPopperCmp = useMemo(() => item.component, [item])\r\n\r\n    const groupId = cardEditService.getGroupId(currCardId)\r\n    const currCard = cardEditService.getCardById(currCardId, groupId)\r\n\r\n    const checkIfCover = () => {\r\n        return (item.title !== 'Cover') || (!currCard?.style?.bgColor && !currCard?.style?.imgUrl)\r\n    }\r\n\r\n    return (\r\n        <div className=\"label-wrapper\">\r\n            {checkIfCover() && <div ref={itemRef} className={`relative ${isOpen ? 'popover-open' : ''}`}>\r\n                <span onClick={() => setIsOpen(!isOpen)}>\r\n                    <EditSidebarLabel Icon={item.icon} title={item.title} />\r\n                </span>\r\n                {\r\n                    isOpen && <DynamicPopover onClose={() => setIsOpen(false)} title={item.title} ref={itemRef}>\r\n                        <InnerPopperCmp onClose={() => setIsOpen(false)} />\r\n                    </DynamicPopover>\r\n                }\r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        board: state.boardModule.currBoard,\r\n        currCardId: state.boardModule.currCardId\r\n    }\r\n}\r\n\r\nexport const CardEditAddToCardItem = connect(mapStateToProps, null)(_CardEditAddToCardItem);\r\n","import React, { Component } from 'react'\r\nimport { cardEditService } from '../../../services/card-edit.service'\r\nimport { connect } from 'react-redux'\r\nimport { onUpdateCard } from '../../../store/board.actions'\r\n\r\nclass _PopperCoverEdit extends Component {\r\n    state = {\r\n        currCard: null,\r\n        groupId: null,\r\n        selectedEl: null,\r\n        initialStyle: null\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { currCardId } = this.props\r\n        console.log(currCardId);\r\n        const groupId = cardEditService.getGroupId(currCardId)\r\n        const currCard = cardEditService.getCardById(currCardId, groupId)\r\n        console.log(currCard);\r\n        // if (currCard.style) {\r\n        //     if (currCard.style.bgColor) {\r\n\r\n        //     }\r\n        // }\r\n        this.setState({ currCard, groupId })\r\n    }\r\n\r\n    handleClick = (ev, value, type) => {\r\n        ev.target.classList.add('selected')\r\n        this.state.selectedEl?.classList.remove('selected')\r\n        this.setState({ selectedEl: ev.target })\r\n        const { board, currCardId, onUpdateCard } = this.props\r\n        const { currCard, groupId } = this.state\r\n        currCard.style = type === 'color' ? { bgColor: value } : { imgUrl: value }\r\n        onUpdateCard(currCard, groupId, board)\r\n    }\r\n\r\n    handleCoverRemove = () => {\r\n        const { board, currCardId, onUpdateCard } = this.props\r\n        const { currCard, groupId } = this.state\r\n        currCard.style = null\r\n        onUpdateCard(currCard, groupId, board)\r\n    }\r\n\r\n    handleInitialSelect = () => {\r\n\r\n    }\r\n\r\n    render() {\r\n        const { currCard } = this.state\r\n        if (!currCard) return ''\r\n        const colors = ['#7bc86c', '#f5dd29', '#ffaf3f', '#ef7564', '#cd8de5', '#517dab', '#29cce5', '#6deca9', '#ff8ed4', '#172b4d']\r\n        return (\r\n            <section className=\"modal-cover-edit flex column\">\r\n\r\n                <div className=\"size-container flex column\">\r\n                    <h4>Size</h4>\r\n                    <div className=\"size-options flex\">\r\n                        <div className=\"size-option\"></div>\r\n                        <div className=\"size-option\"></div>\r\n                    </div>\r\n                    <button className=\"card-edit-btn\" onClick={this.handleCoverRemove}>Remove cover</button>\r\n                </div>\r\n\r\n                <div className=\"flex column\">\r\n                    <h4>Colors</h4>\r\n                    <div className=\"color-container flex\">{colors.map((color, i) => <div key={i} className=\"cover-color-option\" style={{ backgroundColor: color }} onClick={ev => this.handleClick(ev, color, 'color')}></div>)}</div>\r\n                </div>\r\n\r\n                {currCard.attachments && Boolean(currCard.attachments.length) && <div className=\"flex column\">\r\n                    <h4>Attachments</h4>\r\n                    <div className=\"attachments-container flex\">{currCard.attachments.map(a => <div key={a.id} className=\"cover-image-option\" style={{ backgroundImage: `url(${a.url})` }} onClick={ev => this.handleClick(ev, a.url, 'img')}></div>)}</div>\r\n                </div>}\r\n\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        board: state.boardModule.currBoard,\r\n        currCardId: state.boardModule.currCardId\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onUpdateCard\r\n}\r\n\r\nexport const PopperCoverEdit = connect(mapStateToProps, mapDispatchToProps)(_PopperCoverEdit);\r\n","import React, { useEffect, useState } from 'react'\r\nimport { AiOutlineCheck } from 'react-icons/ai'\r\nimport { connect } from 'react-redux'\r\nimport { cardEditService } from '../../../services/card-edit.service'\r\nimport { utilService } from '../../../services/util.service'\r\nimport { onUpdateBoard, onUpdateCard } from '../../../store/board.actions'\r\n\r\nfunction _LabelEdit({ color, board, onUpdateBoard, onClose, handleEdit, onUpdateCard }) {\r\n    const [selectedColor, setSelectedColor] = useState(null)\r\n    const [title, setTitle] = useState('')\r\n\r\n    useEffect(() => {\r\n        setSelectedColor(color)\r\n    }, [])\r\n\r\n    const handleClick = (ev) => {\r\n        setSelectedColor(ev.target.dataset.color)\r\n    }\r\n\r\n    const handleChange = ({ target: { value } }) => {\r\n        setTitle(value)\r\n    }\r\n\r\n    const handleSumbit = () => {\r\n        const boardToSave = { ...board }\r\n        const label = boardToSave.labels.find(label => label.color === selectedColor)\r\n        if (label) label.title = title\r\n        else {\r\n            boardToSave.labels.push({ id: utilService.makeId(), color: selectedColor, title })\r\n        }\r\n        onUpdateBoard({ type: '' }, boardToSave)\r\n        handleEdit()\r\n        onClose()\r\n    }\r\n\r\n    return (\r\n        <div className=\"label-edit\">\r\n            <div>\r\n                <label>Name</label>\r\n                <input className=\"search-input\" onChange={handleChange} />\r\n            </div>\r\n\r\n            <div>\r\n                <label>Select a color</label>\r\n                <div className=\"color-container flex\">\r\n                    {colors.map((c, i) => {\r\n                        return (<div key={i} data-color={c} className=\"label-color-option\" style={{ backgroundColor: c }} onClick={handleClick}\r\n                        >{(c === selectedColor) && <span><AiOutlineCheck /></span>}</div>)\r\n                    })\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"btns-container\">\r\n                <button className=\"card-edit-btn save-btn\" onClick={handleSumbit}>Save</button>\r\n                <button className=\"card-edit-btn delete-btn\">Delete</button>\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\n\r\nconst colors = ['#7bc86c', '#f5dd29', '#ffaf3f', '#ef7564', '#cd8de5', '#517dab', '#29cce5', '#6deca9', '#ff8ed4', '#172b4d']\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        board: state.boardModule.currBoard,\r\n        currCardId: state.boardModule.currCardId\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onUpdateCard,\r\n    onUpdateBoard\r\n}\r\n\r\nexport const LabelEdit = connect(mapStateToProps, mapDispatchToProps)(_LabelEdit);\r\n","import React from 'react'\r\nimport { MemberList } from '../../shared/popover-children/member-list'\r\nimport { CardEditDate } from '../../shared/popover-children/card-edit-date'\r\nimport { LabelList } from '../../shared/popover-children/label-list'\r\nimport { BsClock, BsCardChecklist } from 'react-icons/bs'\r\nimport { MdLabelOutline } from 'react-icons/md'\r\nimport { FiPaperclip } from 'react-icons/fi'\r\nimport { BiUser } from 'react-icons/bi'\r\nimport { PopoverChecklist } from '../../shared/popover-children/popover-checklist'\r\nimport { PopoverAttachFile } from '../../shared/popover-children/popover-attach-file'\r\nimport { CardEditAddToCardItem } from './card-edit-add-to-card-item'\r\nimport { PopperCoverEdit } from '../../shared/popover-children/popper-cover-edit'\r\nimport { CgCreditCard } from 'react-icons/cg'\r\nimport { LabelEdit } from '../../shared/popover-children/label-edit'\r\n\r\nexport const CardEditAddToCard = () => (\r\n    <div style={{ position: 'relative' }}>\r\n        <div className=\"add-to-card\">\r\n            <h3 className=\"sidebar-title\">Add to card</h3>\r\n            <div className=\"add-to-card-container\">\r\n            {addToCardItems.map((item, idx) => (\r\n                <CardEditAddToCardItem key={item.title + idx} item={item} />\r\n            ))}\r\n            </div>\r\n        </div>\r\n    </div>\r\n)\r\n\r\nconst addToCardItems = [{ icon: BiUser, title: 'Members', component: MemberList }, { icon: MdLabelOutline, title: 'Labels', component: LabelList, editComponent: LabelEdit }, { icon: BsCardChecklist, title: 'Checklist', component: PopoverChecklist }, { icon: BsClock, title: 'Dates', component: CardEditDate }, { icon: FiPaperclip, title: 'Attachment', component: PopoverAttachFile }, { icon: CgCreditCard, title: 'Cover', component: PopperCoverEdit }]\r\n","import React, { Component } from 'react'\r\nimport { CardEditActions } from './card-edit-actions'\r\nimport { CardEditAddToCard } from './add-to-card/card-edit-add-to-card'\r\n\r\nexport class CardEditSidebar extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"sidebar\">\r\n                <CardEditAddToCard />\r\n                <CardEditActions goBack={this.props.goBack} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\n","import React, { useRef, useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { DynamicPopover } from '../../shared/dynamic-popover'\r\nimport { cardEditService } from '../../../services/card-edit.service'\r\nimport { BsChevronDown } from 'react-icons/bs'\r\nimport { CardEditDate } from '../../shared/popover-children/card-edit-date'\r\nimport { onUpdateCard } from '../../../store/board.actions'\r\nimport { socketService } from '../../../services/socket.service'\r\n\r\nconst _CardEditDueDate = ({ currCardId, onUpdateCard, board }) => {\r\n    const [isOpen, setIsOpen] = useState(false)\r\n    const dueDateRef = useRef()\r\n\r\n    const groupId = cardEditService.getGroupId(currCardId)\r\n    const currCard = cardEditService.getCardById(currCardId, groupId)\r\n    const dueDate = currCard?.dueDate\r\n    const time = cardEditService.getFormattedTime(dueDate)\r\n\r\n    const getDueDateLabel = () => {\r\n        if (currCard.isComplete) return { title: 'Complete', bgColor: '#61bd4f' }\r\n        if ((dueDate - Date.now()) < 0) return { title: 'Overdue', bgColor: '#eb5a46' }\r\n        if ((dueDate - Date.now()) <= (1000 * 60 * 60 * 24)) return { title: 'Due soon', bgColor: '#f2d600' }\r\n        else return { title: '', bgColor: '' }\r\n    }\r\n\r\n    const onToggleComplete = () => {\r\n        currCard.isComplete = !currCard.isComplete\r\n        onUpdateCard(currCard, groupId, board)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {dueDate && <div className=\"due-date-container\">\r\n                <h3 className=\"small-title\">Due date</h3>\r\n                <div className=\"due-date\" >\r\n                    <input type=\"checkbox\" className=\"main-checkbox\" checked={currCard.isComplete} onChange={onToggleComplete} />\r\n                    <div className=\"card-edit-btn\" ref={dueDateRef}>\r\n                        <span className=\"due-date-time\">{time}</span>\r\n                        <span style={{ backgroundColor: getDueDateLabel().bgColor, textTransform: 'uppercase', fontSize: 12, padding: '0 3px', borderRadius: 2 }}>{getDueDateLabel().title}</span>\r\n                        <span className=\"due-date-icon\"><BsChevronDown /></span>\r\n                        <div className=\"list-item-layover\" onClick={() => setIsOpen(!isOpen)}></div>\r\n                        {isOpen && <DynamicPopover onClose={() => setIsOpen(false)} title={'Dates'} ref={dueDateRef}>\r\n                            <CardEditDate onClose={() => setIsOpen(false)} />\r\n                        </DynamicPopover>}\r\n                    </div>\r\n                </div>\r\n            </div>}\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        board: state.boardModule.currBoard,\r\n        currCardId: state.boardModule.currCardId\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onUpdateCard\r\n}\r\n\r\nexport const CardEditDueDate = connect(mapStateToProps, mapDispatchToProps)(_CardEditDueDate);\r\n\r\n","import React, { useRef, useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { AiOutlinePlus } from 'react-icons/ai'\r\nimport { DynamicPopover } from '../../shared/dynamic-popover'\r\nimport { LabelList } from '../../shared/popover-children/label-list'\r\nimport { cardEditService } from '../../../services/card-edit.service'\r\nimport { LabelEdit } from '../../shared/popover-children/label-edit'\r\n\r\nconst _CardEditLabels = ({ currCardId, board }) => {\r\n    const [isOpen, setIsOpen] = useState(false)\r\n    const [isEdit, setIsEdit] = useState(false)\r\n    const [color, setColor] = useState('')\r\n    const addButtonRef = useRef()\r\n\r\n    const getCardLabels = (labelIds) => (\r\n        labelIds?.map(id => board.labels.find(label => label.id === id))\r\n    )\r\n\r\n    const groupId = cardEditService.getGroupId(currCardId)\r\n    const labelIds = cardEditService.getCardById(currCardId, groupId).labelIds\r\n    const labels = getCardLabels(labelIds)\r\n\r\n    const handleEdit = (color) => {\r\n        if (isEdit) setIsEdit(false)\r\n        else {\r\n            setColor(color)\r\n            setIsEdit(true)\r\n        }\r\n    }\r\n    return (\r\n        <>\r\n            {labelIds?.length ? <div className=\"labels-container\">\r\n                <h3 className=\"small-title\">Labels</h3>\r\n                <div className=\"labels\">\r\n                    {labels.map(label => <div key={label.id} className=\"card-label\" style={{ backgroundColor: label.color }}>\r\n                        {label.title || ''}\r\n                    </div>)}\r\n                    <div\r\n                        ref={addButtonRef}\r\n                        className=\"card-label add-label relative\"\r\n                    >\r\n                        <div className=\"list-item-layover\" onClick={() => setIsOpen(!isOpen)}></div>\r\n                        <AiOutlinePlus />\r\n                        {isOpen && <DynamicPopover handleEdit={handleEdit} onClose={() => setIsOpen(false)} title={'Labels'} ref={addButtonRef} isLabel={isEdit}>\r\n                            {!isEdit ? <LabelList handleEdit={handleEdit} onClose={() => setIsOpen(false)} /> : <LabelEdit handleEdit={handleEdit} color={color} onClose={() => setIsOpen(false)} />}\r\n                        </DynamicPopover>}\r\n                    </div>\r\n                </div>\r\n            </div> : null}\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        board: state.boardModule.currBoard,\r\n        currCardId: state.boardModule.currCardId\r\n    }\r\n}\r\n\r\nexport const CardEditLabels = connect(mapStateToProps, null)(_CardEditLabels);\r\n","import React from 'react'\r\nimport { MemberAvatar } from '../member-avatar'\r\nimport { connect } from 'react-redux'\r\nimport { onUpdateCard } from '../../../store/board.actions'\r\nimport { cardEditService } from '../../../services/card-edit.service'\r\n\r\nconst _MiniUser = ({ member, onUpdateCard }) => {\r\n\r\n    const onRemoveUser = () => {\r\n        const res = cardEditService.handleMemberChange(member._id)\r\n        onUpdateCard(...res)\r\n    }\r\n\r\n    return (\r\n        <div className=\"mini-user flex column\">\r\n\r\n            <div className=\"main flex\">\r\n                <MemberAvatar size=\"lg\" member={member} />\r\n                <div>\r\n                    <h3 className=\"mini-user-fullname\">{member.fullname}</h3>\r\n                    <p>{member.username}</p>\r\n                    {/* <p>Edit profile info</p> */}\r\n                </div>\r\n            </div>\r\n\r\n            <p className=\"remove-member\" onClick={onRemoveUser}>Remove from card</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onUpdateCard\r\n}\r\n\r\nexport const MiniUser = connect(null, mapDispatchToProps)(_MiniUser);\r\n","import React, { useRef, useState } from 'react'\r\nimport { DynamicPopover } from '../shared/dynamic-popover'\r\nimport { MemberAvatar } from '../shared/member-avatar'\r\nimport { MiniUser } from '../shared/popover-children/mini-user'\r\n\r\nexport function MembersContainerMemberPreview({ member }) {\r\n    const [isPreviewOpen, setIsPreviewOpen] = useState(false)\r\n    const userButtonRef = useRef()\r\n    return (\r\n        <div key={member._id} className=\"card-member relative\" ref={userButtonRef}>\r\n            <span style={{ cursor: 'pointer' }}>\r\n                <div className=\"list-item-layover round\" onClick={() => setIsPreviewOpen(!isPreviewOpen)}></div>\r\n                <MemberAvatar member={member} />\r\n            </span>\r\n            {isPreviewOpen && <DynamicPopover onClose={() => setIsPreviewOpen(false)} title={null} ref={userButtonRef}>\r\n                <MiniUser member={member} />\r\n            </DynamicPopover>}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useRef, useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { AiOutlinePlus } from 'react-icons/ai'\r\nimport { DynamicPopover } from '../../shared/dynamic-popover'\r\nimport { MemberList } from '../../shared/popover-children/member-list'\r\nimport { cardEditService } from '../../../services/card-edit.service'\r\nimport { MembersContainerMemberPreview } from '../members-container-member-preview'\r\n\r\nconst _CardEditMembers = ({ currCardId }) => {\r\n    const [isListOpen, setIsListOpen] = useState(false)\r\n    \r\n    const addButtonRef = useRef()\r\n   \r\n    let members\r\n\r\n    const groupId = cardEditService.getGroupId(currCardId)\r\n    members = cardEditService.getCardById(currCardId, groupId).members\r\n\r\n    return (\r\n        <>\r\n            {members?.length ? <div className=\"members-container\">\r\n                <h3 className=\"small-title\">Members</h3>\r\n                <div className=\"members\">\r\n                    {members.map(member => <MembersContainerMemberPreview key={member._id} member={member} />)}\r\n\r\n                    <div\r\n                        ref={addButtonRef}\r\n                        className=\"card-member add-member relative\"\r\n                    >\r\n                        <div className=\"list-item-layover round\" onClick={() => setIsListOpen(!isListOpen)}></div>\r\n                        <AiOutlinePlus />\r\n                        {isListOpen && <DynamicPopover onClose={() => setIsListOpen(false)} title={'Members'} ref={addButtonRef}>\r\n                            <MemberList />\r\n                        </DynamicPopover>}\r\n                    </div>\r\n                </div>\r\n            </div> : null}\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        board: state.boardModule.currBoard,\r\n        currCardId: state.boardModule.currCardId\r\n    }\r\n}\r\n\r\nexport const CardEditMembers = connect(mapStateToProps, null)(_CardEditMembers);\r\n\r\n\r\n","import { CardEditDueDate } from './labels-members/card-edit-duedate'\r\nimport { CardEditLabels } from './labels-members/card-edit-labels'\r\nimport { CardEditMembers } from './labels-members/card-edit-members'\r\n\r\nexport const LabelsMembers = () => (\r\n    <div className=\"members-labels-container\">\r\n        <CardEditMembers />\r\n        <CardEditLabels/>\r\n        <CardEditDueDate />\r\n    </div>\r\n)","import React from 'react'\r\n\r\nexport function ProgressBar({ bgColor, completed }) {\r\n\r\n    const containerStyles = {\r\n        height: 8,\r\n        width: '100%',\r\n        backgroundColor: \"#e0e0de\",\r\n        borderRadius: 50,\r\n        margin: '10px 0 10px 0px'\r\n    }\r\n\r\n    const fillerStyles = {\r\n        height: '100%',\r\n        width: `${completed}%`,\r\n        backgroundColor: bgColor,\r\n        borderRadius: 'inherit',\r\n        textAlign: 'right',\r\n        transition: 'width .5s ease-in-out'\r\n    }\r\n\r\n    return (\r\n        <div className=\"outer-container\" style={containerStyles}>\r\n            <div style={fillerStyles}>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { VscTrash } from 'react-icons/vsc'\r\nimport { cardEditService } from '../../services/card-edit.service'\r\nimport { onUpdateCard } from '../../store/board.actions'\r\nimport { IoMdClose } from 'react-icons/io'\r\n\r\nclass _TodoItem extends Component {\r\n    state = {\r\n        todoTitle: '',\r\n        isEditTodo: false\r\n    }\r\n    componentDidMount() {\r\n        document.addEventListener('mousedown', this.handleClick)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.removeEventListener('mousedown', this.handleClick)\r\n    }\r\n\r\n    todoTextareaRef = React.createRef()\r\n    saveTodoBtnRef = React.createRef()\r\n\r\n    handleClick = (e) => {\r\n        if (this.todoTextareaRef?.current?.contains(e.target) || this.saveTodoBtnRef?.current?.contains(e.target) || this.newTodoTextarea?.current?.contains(e.target)) {\r\n            return\r\n        }\r\n        this.setState({ isEditTodo: false, todoTitle: '' })\r\n    }\r\n\r\n    handleMarkTodo = () => {\r\n        const res = cardEditService.handleChecklistChange('markTodo', this.props.checklistId, this.props.todo.id)\r\n        this.props.onUpdateCard(...res)\r\n    }\r\n\r\n    handleRemoveTodo = () => {\r\n        const res = cardEditService.handleChecklistChange('removeTodo', this.props.checklistId, this.props.todo.id)\r\n        this.props.onUpdateCard(...res)\r\n    }\r\n\r\n    handleTitleChange = ({ target: { name, value } }) => {\r\n        this.setState({ [name]: value })\r\n    }\r\n\r\n    onChangeTitle = (ev) => {\r\n        ev.preventDefault()\r\n        const { checklistId, todo, onUpdateCard } = this.props\r\n        const { todoTitle } = this.state\r\n        const res = cardEditService.handleChecklistChange('changeTitle', checklistId, todo.id, todoTitle)\r\n        onUpdateCard(...res)\r\n        this.setState({ isEditTodo: false, todoTitle: '' })\r\n    }\r\n\r\n    render() {\r\n        const { todo } = this.props\r\n        const { isEditTodo, todoTitle } = this.state\r\n        return (\r\n            <div className=\"flex align-center todo-item\">\r\n                <input className=\"main-checkbox\" type=\"checkbox\" name={todo.id} checked={todo.isDone} onChange={this.handleMarkTodo} onClick={() => this.setState({ todoTitle: todo.title })}\r\n                    style={{ alignSelf: isEditTodo ? 'flex-start' : 'center' }} />\r\n                {!isEditTodo ? (\r\n                    <div>\r\n                        <span\r\n                            className={todo.isDone ? 'done' : ''}\r\n                            onClick={() => this.setState({ isEditTodo: true })}\r\n                        >\r\n                            {todo.title}\r\n                        </span>\r\n                        <span\r\n                            className=\"remove-todo-icon\"\r\n                            onClick={this.handleRemoveTodo}\r\n                        >\r\n                            <VscTrash />\r\n                        </span>\r\n                    </div>\r\n                ) :\r\n                    <form onSubmit={this.onChangeTitle} style={{ paddingBottom: 9 }}>\r\n                        <textarea\r\n                            className=\"description-textarea edit-todo\"\r\n                            onFocus={() => this.setState({ todoTitle: todo.title })}\r\n                            autoFocus\r\n                            name=\"todoTitle\"\r\n                            value={todoTitle}\r\n                            ref={this.todoTextareaRef}\r\n                            onChange={this.handleTitleChange} />\r\n\r\n                        <div className=\"description-btns\">\r\n                            <button ref={this.saveTodoBtnRef} className=\"card-edit-btn secondary\">Save</button>\r\n                            <button onClick={() => this.setState({ isEditTodo: false, todoTitle: '' })}><IoMdClose style={{ color: '#42526e', fontSize: '24px', display: 'flex', alignItems: 'center', justifyContent: 'center' }} /></button>\r\n                        </div>\r\n                    </form>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        currCardId: state.boardModule.currCardId\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onUpdateCard,\r\n}\r\n\r\nexport const TodoItem = connect(mapStateToProps, mapDispatchToProps)(_TodoItem);\r\n\r\n","import React, { Component } from 'react'\r\nimport { ProgressBar } from './progress-bar'\r\nimport { connect } from 'react-redux'\r\nimport { onUpdateCard } from '../../store/board.actions'\r\nimport { cardEditService } from '../../services/card-edit.service'\r\nimport { utilService } from '../../services/util.service'\r\nimport { BsCardChecklist } from 'react-icons/bs'\r\nimport { IoMdClose } from 'react-icons/io'\r\nimport { TodoItem } from './todo-item'\r\n\r\nexport class _ChecklistEdit extends Component {\r\n    state = {\r\n        percentage: 0,\r\n        isAddTodo: false,\r\n        newTodo: ''\r\n    }\r\n\r\n    saveTodoBtnRef = React.createRef()\r\n    addTodoBtnRef = React.createRef()\r\n    newTodoTextarea = React.createRef()\r\n\r\n    componentDidMount() {\r\n        document.addEventListener('mousedown', this.handleClick)\r\n        if (this.props.checklist.todos) this.setTodoPercentage()\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.removeEventListener('mousedown', this.handleClick)\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.board !== this.props.board) {\r\n            this.setTodoPercentage()\r\n        }\r\n    }\r\n\r\n    handleClick = (e) => {\r\n        if (this.saveTodoBtnRef?.current?.contains(e.target) || this.addTodoBtnRef?.current?.contains(e.target) || this.newTodoTextarea?.current?.contains(e.target)) {\r\n            return\r\n        }\r\n        this.setState({ isAddTodo: false, newTodo: '' })\r\n    }\r\n\r\n    setTodoPercentage = (todos = this.props.checklist.todos) => {\r\n        if (!todos?.length && !this.props.checklist?.todos.length) {\r\n            this.setState({ percentage: 0 })\r\n            return\r\n        }\r\n        const doneTodos = todos.filter(todo => todo.isDone)\r\n        const num = (doneTodos.length / todos.length) * 100\r\n        const percentage = (Number.isInteger(num)) ? num : num.toFixed(0)\r\n        this.setState({ percentage })\r\n    }\r\n\r\n    handleInputChange = ({ target: { name, value } }) => {\r\n        this.setState({ [name]: value })\r\n    }\r\n\r\n    onAddTodo = (ev) => {\r\n        ev.preventDefault()\r\n        this.setState({ isAddTodo: false, newTodo: '' })\r\n        const res = cardEditService.handleChecklistChange(\"addTodo\", this.props.checklist.id, { id: utilService.makeId(), title: ev.target[0].value, isDone: false })\r\n        this.props.onUpdateCard(...res)\r\n    }\r\n\r\n    onRemoveChecklist = () => {\r\n        const res = cardEditService.handleChecklistChange(\"removeChecklist\", this.props.checklist.id)\r\n        this.props.onUpdateCard(...res)\r\n    }\r\n\r\n    render() {\r\n        const { checklist } = this.props\r\n        const { percentage, isAddTodo } = this.state\r\n        return (\r\n            <section className=\"checklist-preview flex column\">\r\n\r\n                <section className=\"flex space-between\">\r\n                    <div className=\"card-edit-title\">\r\n                        <span><BsCardChecklist /></span>\r\n                        <h3>{checklist.title}</h3>\r\n                    </div>\r\n                    <button className=\"card-edit-btn\" onClick={this.onRemoveChecklist}>Delete</button>\r\n                </section>\r\n\r\n                <div className=\"flex align-center\">\r\n                    <span style={{ fontSize: 11, width: 32, maxWidth: 32, minWidth: 32 }}>{percentage}%</span>\r\n                    <ProgressBar completed={percentage} bgColor={(percentage === 100) ? '#61bd4f' : '#5ba4cf'} />\r\n                </div>\r\n\r\n                {checklist.todos?.map(todo => {\r\n                    return <div className=\"todos-container\" key={todo.id}>\r\n                        <TodoItem todo={todo} checklistId={checklist.id} />\r\n                    </div>\r\n                })\r\n                }\r\n\r\n                {!isAddTodo\r\n                    ? <button className=\"card-edit-btn add-todo-btn\" style={{ alignSelf: 'flex-start' }} onClick={() => this.setState({ isAddTodo: true })}>Add an item</button>\r\n                    : <form onSubmit={this.onAddTodo}><textarea rows=\"2\"\r\n                        className=\"description-textarea add-todo\"\r\n                        ref={this.newTodoTextarea}\r\n                        autoFocus\r\n                        name=\"newTodo\"\r\n                        placeholder=\"Add an item\"\r\n                        onChange={this.handleInputChange} />\r\n\r\n                        <div className=\"description-btns add-todo-btns\">\r\n                            <button ref={this.addTodoBtnRef} className=\"card-edit-btn secondary\">Save</button>\r\n                            <button onClick={() => this.setState({ isAddTodo: false, newTodo: '' })}><IoMdClose style={{ color: '#42526e', fontSize: '24px', display: 'flex', alignItems: 'center', justifyContent: 'center' }} /></button>\r\n                        </div>\r\n                    </form>\r\n                }\r\n            </section >\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        board: state.boardModule.currBoard\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onUpdateCard\r\n}\r\n\r\nexport const ChecklistEdit = connect(mapStateToProps, mapDispatchToProps)(_ChecklistEdit);\r\n","import React, { Component } from 'react'\r\nimport { IoMdClose, IoMdList } from 'react-icons/io'\r\nimport { connect } from 'react-redux'\r\nimport { activityTxtMap } from '../../services/activity.service'\r\nimport { cardEditService } from '../../services/card-edit.service'\r\nimport { onUpdateCard } from '../../store/board.actions'\r\n\r\nclass _CardEditDescription extends Component {\r\n    state = {\r\n        currCard: {},\r\n        isDescriptionOpen: false\r\n    }\r\n\r\n    descriptionRef = React.createRef()\r\n\r\n    componentDidMount() {\r\n        const groupId = cardEditService.getGroupId(this.props.currCardId)\r\n        const currCard = cardEditService.getCardById(this.props.currCardId, groupId)\r\n        this.setState({ currCard })\r\n    }\r\n\r\n    setDescriptionTextarea = () => {\r\n        this.setState({ isDescriptionOpen: !this.state.isDescriptionOpen })\r\n    }\r\n\r\n    handleDescriptionChange = (card = this.state.currCard) => {\r\n        const { board } = this.props\r\n        const groupId = cardEditService.getGroupId(this.props.currCardId)\r\n        const activity = {txt: activityTxtMap.changeDescription(), card: card, groupId: groupId}\r\n        this.props.onUpdateCard(card, groupId, board, activity)\r\n    }\r\n\r\n    handleInputChange = ({ target: { value } }) => {\r\n        this.setState({ currCard: { ...this.state.currCard, description: value } })\r\n    }\r\n\r\n    render() {\r\n        const { currCard, isDescriptionOpen } = this.state\r\n        return (\r\n            <>\r\n                <div className=\"description-container card-edit-title\">\r\n                    <span><IoMdList /></span>\r\n                    <h3>Description</h3>\r\n                    {currCard.description && !isDescriptionOpen && <button className=\"card-edit-btn\" onClick={() => {\r\n                        this.setDescriptionTextarea()\r\n                        this.descriptionRef.current.focus()\r\n                    }}> Edit</button>}\r\n                </div>\r\n                <div className=\"card-description\">\r\n                    <textarea\r\n                        ref={this.descriptionRef}\r\n                        className={`description-textarea ${isDescriptionOpen ? 'open' : ''} ${currCard.description ? 'filled' : ''}`}\r\n                        rows={isDescriptionOpen ? \"6\" : \"3\"}\r\n                        onFocus={this.setDescriptionTextarea}\r\n                        onBlur={() => {\r\n                            this.setDescriptionTextarea()\r\n                            this.handleDescriptionChange()\r\n                        }}\r\n                        value={currCard.description}\r\n                        onChange={this.handleInputChange}\r\n                        placeholder=\"Add a more detailed description...\"\r\n                    />\r\n                    {isDescriptionOpen &&\r\n                        <div className=\"description-btns\">\r\n                            <button className=\"card-edit-btn secondary\" onClick={() => this.handleDescriptionChange()}>Save</button>\r\n                            <button onClick={this.setDescriptionTextarea}><IoMdClose style={{ color: '#42526e', fontSize: '24px', display: 'flex', alignItems: 'center', justifyContent: 'center' }} /></button>\r\n                        </div>}\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        board: state.boardModule.currBoard,\r\n        currCardId: state.boardModule.currCardId\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onUpdateCard\r\n}\r\n\r\nexport const CardEditDescription = connect(mapStateToProps, mapDispatchToProps)(_CardEditDescription);\r\n","import React, { Component } from 'react'\r\nimport { MdFormatListBulleted } from 'react-icons/md'\r\nimport { cardEditService } from '../../services/card-edit.service'\r\nimport { onUpdateCard } from '../../store/board.actions'\r\nimport { MemberAvatar } from '../shared/member-avatar'\r\nimport { connect } from 'react-redux'\r\nimport { Loader } from '../shared/loader'\r\n\r\n\r\nclass _CardEditActivities extends Component {\r\n    state = {\r\n        isFocus: false,\r\n        isTxt: false,\r\n        commentTxt: '',\r\n        currCard: null\r\n    }\r\n\r\n    commentRef = React.createRef()\r\n\r\n    componentDidMount() {\r\n        document.addEventListener('mousedown', this.handleClick)\r\n        const groupId = cardEditService.getGroupId(this.props.currCardId)\r\n        const currCard = cardEditService.getCardById(this.props.currCardId, groupId)\r\n        this.setState({ currCard })\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.removeEventListener('mousedown', this.handleClick)\r\n    }\r\n\r\n\r\n    handleChange = ({ target: { value } }) => {\r\n        if (value) this.setState({ isTxt: true })\r\n        else this.setState({ isTxt: false, commentTxt: value })\r\n    }\r\n\r\n    handleClick = e => {\r\n        if (this.commentRef?.current?.contains(e.target)) {\r\n            return\r\n        } else {\r\n            this.setState({ isFocus: false })\r\n        }\r\n    }\r\n\r\n    handleSubmit = () => {\r\n        if (!this.state.isTxt) return\r\n        const res = cardEditService.onAddComment(this.state.commentTxt)\r\n        onUpdateCard(...res)\r\n    }\r\n\r\n    render() {\r\n        const { currCard, isFocus, isTxt } = this.state\r\n        const { member } = this.props\r\n        if (!currCard) return <Loader />\r\n        return (\r\n            <div className=\"comments-section\">\r\n                <section className=\"flex space-between\">\r\n                    <div className=\"card-edit-title\">\r\n                        <span><MdFormatListBulleted /></span>\r\n                        <h3>Activity</h3>\r\n                    </div>\r\n                    <button className=\"card-edit-btn\">Show details</button>\r\n                </section>\r\n\r\n                <div className=\"add-comment-container flex\">\r\n                    <MemberAvatar member={member} />\r\n                    <div className=\"new-comment\" ref={this.commentRef} style={{ width: '100%', height: isFocus ? 84 : 36, backgroundColor: '#fff' }} onClick={() => this.setState({ isFocus: true })}>\r\n                        <textarea placeholder=\"Write a comment...\" style={{ width: '100%', height: isFocus ? '50%' : '100%' }} onChange={this.handleChange} />\r\n                        {isFocus && <button className={`save-comment-btn card-edit-btn ${isTxt ? 'active' : ''}`} onClick={this.handleSubmit}>Save</button>}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* {currCard.comments?.length > 0 && <div className=\"comments-container flex column\">\r\n                    {currCard.comments.map(comment => <CommentPreview key={comment.id} comment={comment} />)}\r\n                </div>} */}\r\n\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        board: state.boardModule.currBoard,\r\n        currCardId: state.boardModule.currCardId\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onUpdateCard,\r\n}\r\n\r\nexport const CardEditActivities = connect(mapStateToProps, mapDispatchToProps)(_CardEditActivities)","import React from 'react'\r\nimport { cardEditService } from '../../services/card-edit.service'\r\nimport { CgCreditCard } from 'react-icons/cg'\r\nimport { connect } from 'react-redux'\r\nimport { onUpdateCard } from '../../store/board.actions'\r\n\r\n\r\nfunction _AttachmentPreview({ attachment, currCardId, board, onUpdateCard }) {\r\n\r\n    const groupId = cardEditService.getGroupId(currCardId)\r\n    const currCard = cardEditService.getCardById(currCardId, groupId)\r\n    const addedAt = cardEditService.getUploadTime(attachment.addedAt)\r\n\r\n    const toggleCover = () => {\r\n        if (currCard?.style?.imgUrl === attachment.url) currCard.style = null\r\n        else currCard.style = { imgUrl: attachment.url }\r\n        onUpdateCard(currCard, groupId, board)\r\n    }\r\n\r\n    const checkIfCover = () => {\r\n        return currCard?.style?.imgUrl === attachment.url\r\n    }\r\n\r\n    const onRemoveAttachment = () => {\r\n        const res = cardEditService.handleFileRemove(attachment.id)\r\n        onUpdateCard(...res)\r\n    }\r\n\r\n    return (\r\n        <div className=\"attachment-preview flex\">\r\n            <div className=\"image-container\">\r\n                <img src={attachment.url} alt={attachment.title} />\r\n            </div>\r\n\r\n            <div className=\"right-section flex column\">\r\n                <span className=\"attachment-title\">{attachment.title}</span>\r\n                <div className=\"middle-line\">\r\n                    <span>{addedAt}</span>-\r\n                    <span>Comment</span>-\r\n                    <span onClick={onRemoveAttachment}>Delete</span>-\r\n                    <span>Edit</span>\r\n                </div>\r\n                <div className=\"attachment-cover\">\r\n                    <span><CgCreditCard /></span>\r\n                    <span onClick={toggleCover}>{checkIfCover() ? 'Remove cover' : 'Make cover'}</span>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        board: state.boardModule.currBoard,\r\n        currCardId: state.boardModule.currCardId\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onUpdateCard\r\n}\r\n\r\nexport const AttachmentPreview = connect(mapStateToProps, mapDispatchToProps)(_AttachmentPreview);\r\n","import React, { Component } from 'react'\r\n// import { IoMdClose } from 'react-icons/io'\r\nimport { connect } from 'react-redux'\r\nimport { cardEditService } from '../../services/card-edit.service'\r\nimport { onUpdateCard } from '../../store/board.actions'\r\nimport { FiPaperclip } from 'react-icons/fi'\r\nimport { AttachmentPreview } from './attachment-preview'\r\n\r\n\r\nclass _CardEditAttachment extends Component {\r\n    state = {\r\n        currCard: {}\r\n    }\r\n\r\n    componentDidMount() {\r\n        const groupId = cardEditService.getGroupId(this.props.currCardId)\r\n        const currCard = cardEditService.getCardById(this.props.currCardId, groupId)\r\n        this.setState({ currCard })\r\n    }\r\n\r\n    render() {\r\n        const { currCard } = this.state\r\n        return (\r\n            <>\r\n                <div className=\"attachment-container card-edit-title\">\r\n                    <span><FiPaperclip /></span>\r\n                    <h3>Attachments</h3>\r\n                </div>\r\n                <div className=\"card-attachments\">\r\n                    {currCard?.attachments?.map((attachment, i) => <AttachmentPreview key={attachment.title + i} attachment={attachment} />)}\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        board: state.boardModule.currBoard,\r\n        currCardId: state.boardModule.currCardId\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onUpdateCard\r\n}\r\n\r\nexport const CardEditAttachment = connect(mapStateToProps, mapDispatchToProps)(_CardEditAttachment);\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { CardEditSidebar } from './card-edit/card-edit-sidebar'\r\nimport { LabelsMembers } from './card-edit/labels-members'\r\nimport { ChecklistEdit } from './card-edit/checklist-edit'\r\nimport { onUpdateCard, onSetCardId } from '../store/board.actions'\r\nimport { IoMdClose } from 'react-icons/io'\r\nimport { TiCreditCard } from 'react-icons/ti'\r\nimport { CgCreditCard } from 'react-icons/cg'\r\nimport { CardEditDescription } from './card-edit/card-edit-description'\r\nimport { CardEditActivities } from './card-edit/card-edit-activities'\r\nimport { CardEditAttachment } from './card-edit/card-edit-attachment'\r\nimport { DynamicPopover } from './shared/dynamic-popover'\r\nimport { PopperCoverEdit } from './shared/popover-children/popper-cover-edit'\r\nimport { BsArchive } from 'react-icons/bs'\r\nimport { Loader } from './shared/loader'\r\n\r\nclass _CardEdit extends Component {\r\n  state = {\r\n    currCard: null,\r\n    currGroup: null,\r\n    isOpen: false,\r\n  }\r\n\r\n  modalRef = React.createRef()\r\n  coverRef = React.createRef()\r\n\r\n  componentDidMount() {\r\n    document.addEventListener('mousedown', this.handleClick)\r\n    this.handleLoad()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('mousedown', this.handleClick)\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.board !== this.props.board) this.handleLoad()\r\n  }\r\n\r\n  handleLoad = () => {\r\n    let currCard\r\n    let currGroup\r\n    const { cardId, groupId } = this.props.match.params\r\n    this.props.onSetCardId(cardId)\r\n    if (this.props.board.groups) {\r\n      currCard = this.getDataById(cardId, groupId).currentCard\r\n      currGroup = this.getDataById(cardId, groupId).currentGroup\r\n    }\r\n    this.setState({ currCard, currGroup })\r\n  }\r\n\r\n  handleClick = e => {\r\n    const { board } = this.props\r\n    if (!this.modalRef?.current?.contains(e.target)) {\r\n      this.props.history.push(`/board/${board._id}`)\r\n    }\r\n  }\r\n\r\n  getDataById = (cardId, groupId) => {\r\n    const board = this.props.board\r\n    const currentGroup = board.groups.find((group) => group.id === groupId)\r\n    const currentCard = currentGroup.cards.find((card) => card.id === cardId)\r\n    return { currentGroup, currentCard }\r\n  }\r\n\r\n  handleInputChange = ({ target: { name, value } }) => {\r\n    this.setState({ currCard: { ...this.state.currCard, [name]: value } })\r\n  }\r\n\r\n  handlePropertyChange = (card = this.state.currCard) => {\r\n    const { board } = this.props\r\n    const { groupId } = this.props.match.params\r\n    this.props.onUpdateCard(card, groupId, board)\r\n  }\r\n\r\n  checkCardBackground = () => {\r\n    const { currCard } = this.state\r\n    if (!currCard.style) return\r\n    if (currCard.style.bgColor)\r\n      return {\r\n        backgroundColor: currCard.style.bgColor,\r\n        minHeight: 116,\r\n        height: 116,\r\n      }\r\n    if (currCard.style.imgUrl)\r\n      return {\r\n        background: `center / contain no-repeat url(${currCard.style.imgUrl})`,\r\n        objectFit: 'cover',\r\n        minHeight: 160,\r\n        height: 160,\r\n      }\r\n  }\r\n\r\n  goBack = () => {\r\n    this.props.history.goBack()\r\n  }\r\n\r\n  render() {\r\n    console.log(this.props.user);\r\n    const { currCard, currGroup } = this.state\r\n    const { board } = this.props\r\n    if (!currCard) return <Loader />\r\n    const bg = this.checkCardBackground()\r\n    return (\r\n      <div className='edit-modal-container'>\r\n\r\n        <section className='card-edit' ref={this.modalRef}>\r\n          {currCard.style && <div className='card-edit-bg' style={bg}></div>}\r\n          <Link to={`/board/${board._id}`}>\r\n            <button className='close-modal-btn'>\r\n              <IoMdClose />\r\n            </button>\r\n          </Link>\r\n\r\n          {currCard.style && (\r\n            <div ref={this.coverRef} className='btn-wrapper relative'>\r\n              <button\r\n                className='change-cover-btn'\r\n                onClick={() => this.setState({ isOpen: !this.state.isOpen })}\r\n              >\r\n                <span className='cover-icon'>\r\n                  <TiCreditCard />\r\n                </span>\r\n                <span>Cover</span>\r\n              </button>\r\n              {this.state.isOpen && (\r\n                <DynamicPopover\r\n                  onClose={() => this.setState({ isOpen: false })}\r\n                  title='Cover'\r\n                  ref={this.coverRef}\r\n                >\r\n                  <PopperCoverEdit\r\n                    onClose={() => this.setState({ isOpen: false })}\r\n                  />\r\n                </DynamicPopover>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {currCard.isArchive && (\r\n            <div className='archive-msg'>\r\n              <span>\r\n                <BsArchive />\r\n              </span>\r\n              <p>This card is archived</p>\r\n            </div>\r\n          )}\r\n\r\n          <div className='card-edit-header card-title-container'>\r\n            <span>\r\n              <CgCreditCard />\r\n            </span>\r\n            <input\r\n              className='title-input'\r\n              type='text'\r\n              value={currCard.title}\r\n              name='title'\r\n              onChange={this.handleInputChange}\r\n              onBlur={() => this.handlePropertyChange()}\r\n            />\r\n          </div>\r\n\r\n          <div className='list-name-container'>\r\n            <p>\r\n              in list <span className='list-name'>{currGroup.title}</span>\r\n            </p>\r\n          </div>\r\n\r\n          <div className='card-edit-main-container flex'>\r\n            <div className='card-edit-main'>\r\n              <LabelsMembers />\r\n\r\n              <CardEditDescription />\r\n\r\n              {currCard.attachments && currCard.attachments.length > 0 && (\r\n                <CardEditAttachment />\r\n              )}\r\n\r\n              {currCard.checklists?.map((checklist) => (\r\n                <div\r\n                  key={checklist.id}\r\n                  className='checklists-container flex column'\r\n                >\r\n                  <ChecklistEdit\r\n                    checklist={checklist}\r\n                    currCard={currCard}\r\n                    handlePropertyChange={this.handlePropertyChange}\r\n                  />\r\n                </div>\r\n              ))}\r\n\r\n              <CardEditActivities member={this.props.user} />\r\n            </div>\r\n\r\n            <CardEditSidebar goBack={this.goBack} />\r\n          </div>\r\n        </section>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    board: state.boardModule.currBoard,\r\n    user: state.userModule.user\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  onUpdateCard,\r\n  onSetCardId,\r\n}\r\n\r\nexport const CardEdit = connect(mapStateToProps, mapDispatchToProps)(_CardEdit)\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { onUpdateBoard, onUpdateCard, onAddCard } from '../../store/board.actions.js';\r\n\r\nimport { IoMdClose } from 'react-icons/io'\r\nimport { GrClose } from 'react-icons/gr';\r\nimport { utilService } from '../../services/util.service';\r\nimport { activityTxtMap } from '../../services/activity.service.js'\r\n\r\n\r\nclass _AddBoardItem extends React.Component {\r\n  state = {\r\n    newItem: {\r\n      title: '',\r\n    },\r\n  };\r\n\r\n  async componentDidMount() {\r\n    this.textInput.focus();\r\n  }\r\n\r\n  handleChange = (ev) => {\r\n    const { target } = ev;\r\n    let newItem = this.state.newItem;\r\n    newItem[target.name] = target.value;\r\n    this.setState({ newItem });\r\n  };\r\n\r\n  onKeyUpEnter=(ev)=>{\r\n    if(ev.key==='Enter') this.onAddItem(ev)\r\n  }\r\n  \r\n  onAddItem = (ev) => {\r\n    ev.preventDefault();\r\n    const { newItem } = this.state;\r\n    if(!newItem.title) return\r\n    newItem.id = utilService.makeId();\r\n    if (this.props.type === 'group') {\r\n      if(!newItem.cards) newItem.cards=[]\r\n      \r\n      // ADD ACTIVITY\r\n      const activity = {txt: activityTxtMap.addGroup(newItem.title)}\r\n      \r\n      const action = { type: 'ADD_GROUP', group: newItem };\r\n      this.props.onUpdateBoard(action, this.props.board, activity);\r\n    }\r\n    else if (this.props.type === 'card') {\r\n      const newCard = {...newItem , isComplete: false };\r\n      \r\n      // ADD ACTIVITY\r\n      const activity = {txt: activityTxtMap.addCard(newCard.title), card: newCard, groupId: this.props.groupId}\r\n\r\n      this.props.onAddCard( newCard, this.props.groupId, this.props.board, activity);\r\n    }\r\n    this.setState({newItem: {title: ''}})\r\n  };\r\n\r\n  render() {\r\n    const { title } = this.state.newItem;\r\n    const { onToggleAddPop } = this.props;\r\n    const renderedType = this.props.type === 'card' ? this.props.type : 'list';\r\n    return (\r\n      <section className='add-board-item'>\r\n        <form onSubmit={this.onAddItem} onKeyUp={this.onKeyUpEnter}>\r\n          <textarea\r\n            placeholder={`Enter a title for this ${renderedType}`}\r\n            ref={(input) => {\r\n              this.textInput = input;\r\n            }}\r\n            value={title}\r\n            name='title'\r\n            onChange={this.handleChange}\r\n            onBlur={this.onAddItem}\r\n          />\r\n          <div className='form-btns flex align-center'>\r\n            <button type='submit'>Add {renderedType}</button>\r\n            <button onClick={onToggleAddPop}><IoMdClose className=\"icon\" style={{ color: '#42526e', fontSize: '24px', display: 'flex', alignItems: 'center', justifyContent: 'center'  }} /></button>\r\n          </div>\r\n        </form>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    board: state.boardModule.currBoard,\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  onUpdateBoard,\r\n  onUpdateCard,\r\n  onAddCard\r\n};\r\n\r\nexport const AddBoardItem = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(_AddBoardItem);\r\n","export function CardHeader({ cardStyle }) {\r\n  return (\r\n    <div className='card-preview-header'>\r\n      {cardStyle.bgColor && (\r\n        <div\r\n          className='header-color'\r\n          style={{ backgroundColor: cardStyle.bgColor }}\r\n        ></div>\r\n      )}\r\n      {cardStyle.imgUrl && <div className=\"image-wrapper\"><img src={cardStyle.imgUrl} /></div>}\r\n    </div>\r\n  );\r\n}\r\n","export function CardLabelBarList({ labelIds, getLabel, isCardLabelListOpen }) {\r\n\r\n    return (\r\n        <ul\r\n        className={`label-bar-list flex clean-list ${\r\n          isCardLabelListOpen ? 'open' : 'close'\r\n        }`}\r\n      >\r\n        {labelIds.map((labelId) => {\r\n          const label = getLabel(labelId);\r\n          return (\r\n            <li\r\n              className='label-bar'\r\n              key={label.id}\r\n              style={{ backgroundColor: label.color }}\r\n            >\r\n              {isCardLabelListOpen && label.title && (\r\n                <span>{label.title}</span>\r\n              )}\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    );\r\n  }","import { BsCheckBox } from 'react-icons/bs';\r\n\r\n\r\nexport function CardChecklists({ checklists }) {\r\n  const getChecklistStr = () => {\r\n    let todosCount = 0;\r\n    let doneTodosCount = 0;\r\n    checklists.forEach((checklist) => {\r\n      checklist.todos.forEach((todo) => {\r\n        todosCount++;\r\n        if (todo.isDone) doneTodosCount++;\r\n      });\r\n    });\r\n    return doneTodosCount + '/' + todosCount;\r\n  };\r\n  return (\r\n    <div className='checklist-box flex align-center'>\r\n      <BsCheckBox />\r\n      <span>{getChecklistStr()}</span>\r\n    </div>\r\n  );\r\n}\r\n","import { GrCheckbox } from 'react-icons/gr';\r\nimport { GrCheckboxSelected } from 'react-icons/gr';\r\nimport { FiClock } from 'react-icons/fi';\r\n\r\nexport function CardDueDate({ card, groupId, toggleCardComplete }) {\r\n  const getFormatedTime = (dueDate) => {\r\n    const date = new Date(dueDate);\r\n    const day = date.getDate();\r\n    const month = date.toLocaleString('en', { month: 'short' });\r\n    const formatedTime = month + ' ' + day;\r\n    return formatedTime;\r\n  };\r\n\r\n  const getDueTimeStyle = (card) => {\r\n    //complete\r\n    if (card.isComplete) return { backgroundColor: '#61BD4F' };\r\n    //due soon\r\n    else if (\r\n      card.dueDate - Date.now() > 0 &&\r\n      card.dueDate - Date.now() < 1000 * 60 * 60 * 24\r\n    )\r\n      return { backgroundColor: '#F2D600' };\r\n    //overdue\r\n    else if (card.dueDate - Date.now() < 0)\r\n      return { backgroundColor: '#EB5A46' };\r\n    //none of the above\r\n    return { backgroundColor: 'inherit', color: 'unset' };\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className='due-date-box flex align-center'\r\n      style={getDueTimeStyle(card)}\r\n      onClick={(event) => toggleCardComplete(event, groupId, card)}\r\n    >\r\n      <span className='clock-icon flex align-center'>\r\n        <FiClock />\r\n      </span>\r\n      <span className='check-icon'>\r\n        {card.isComplete ? (\r\n          <GrCheckboxSelected color={'inherit'} />\r\n        ) : (\r\n          <GrCheckbox />\r\n        )}\r\n      </span>\r\n      <span>{getFormatedTime(card.dueDate)}</span>\r\n    </div>\r\n  );\r\n}\r\n","import { GrTextAlignFull } from 'react-icons/gr';\r\nimport { ImAttachment } from 'react-icons/im';\r\n\r\nimport { MemberAvatar } from '../../cmps/shared/member-avatar.jsx';\r\nimport { CardChecklists } from './card-checklists';\r\nimport { CardDueDate } from '../card-preview/card-duedate.jsx';\r\n\r\nexport function CardFooter({card, groupId, toggleCardComplete}) {\r\n\r\n    return (\r\n        \r\n        <div className='card-preview-footer flex align-center'>\r\n        {card.dueDate && (\r\n          <CardDueDate\r\n            card={card}\r\n            groupId={groupId}\r\n            toggleCardComplete={toggleCardComplete}\r\n          />\r\n        )}\r\n\r\n        {card.description && (\r\n          <GrTextAlignFull title={'This card has a description'} />\r\n        )}\r\n\r\n        {card.attachments && card.attachments.length > 0 && (\r\n          <div className='attachment-box flex align-center'>\r\n            <span className='flex align-center'>\r\n              <ImAttachment />\r\n            </span>\r\n            <span>{card.attachments.length}</span>\r\n          </div>\r\n        )}\r\n\r\n        {card.checklists && (\r\n            <CardChecklists checklists={card.checklists} />\r\n        )}\r\n\r\n        {card.isArchive && (\r\n          <span>\r\n            Archived\r\n          </span>\r\n        )}\r\n\r\n        {card.members && (\r\n          <div className='card-members-list flex'>\r\n            {card.members.map((member, index) => (\r\n              <MemberAvatar\r\n                member={member}\r\n                size={'md'}\r\n                key={index}\r\n              />\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n}","\r\nimport { CardHeader } from '../card-preview/card-header.jsx';\r\nimport { CardLabelBarList } from '../card-preview/card-label-bar-list.jsx';\r\nimport { CardFooter } from '../card-preview/card-footer.jsx';\r\nimport { HiOutlinePencil } from 'react-icons/hi';\r\n\r\nexport function CardPreviewContent({\r\n    card,\r\n    groupId,\r\n    onToggleQuickCardEditor,\r\n    openCardEdit,\r\n    toggleCardComplete,\r\n    getLabel,\r\n    toggleCardLabelList,\r\n    isCardLabelListOpen\r\n}) {\r\n  return (\r\n    <div\r\n      className='card-preview flex space-between'\r\n      // onClick={() => openCardEdit(groupId, card.id)}\r\n    >\r\n      {!card.isArchive && (\r\n        <button\r\n          className='hover-edit-btn'\r\n          onClick={(event) => onToggleQuickCardEditor(event, card, groupId)}\r\n        >\r\n          <HiOutlinePencil />\r\n        </button>\r\n      )}\r\n\r\n      {card.style && <CardHeader cardStyle={card.style} />}\r\n\r\n      <div className='card-details'>\r\n        {card.labelIds && (\r\n          <div onClick={toggleCardLabelList}>\r\n            <CardLabelBarList\r\n              labelIds={card.labelIds}\r\n              getLabel={getLabel}\r\n              isCardLabelListOpen={isCardLabelListOpen}\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        <p>{card.title}</p>\r\n\r\n        <CardFooter\r\n          card={card}\r\n          groupId={groupId}\r\n          toggleCardComplete={toggleCardComplete}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { connect } from 'react-redux';\r\n\r\nimport { Draggable } from 'react-beautiful-dnd';\r\n\r\nimport { HiOutlinePencil } from 'react-icons/hi';\r\n\r\nimport { CardHeader } from '../card-preview/card-header.jsx';\r\nimport { CardLabelBarList } from '../card-preview/card-label-bar-list.jsx';\r\nimport { CardFooter } from '../card-preview/card-footer.jsx';\r\n\r\nimport {CardPreviewContent} from './card-preview-content.jsx'\r\n\r\nfunction _CardPreview({\r\n  card,\r\n  groupId,\r\n  openCardEdit,\r\n  isCardLabelListOpen,\r\n  toggleCardLabelList,\r\n  toggleCardComplete,\r\n  onToggleQuickCardEditor,\r\n  index,\r\n  getLabel,\r\n}) {\r\n  return (\r\n    <div\r\n      className='card-wrapper'\r\n      onClick={() => openCardEdit(groupId, card.id)}\r\n\r\n      // style={{ display: card.isArchive ? 'none' : 'unset' }}\r\n    >\r\n      <Draggable draggableId={card.id} index={index}>\r\n        {(provided) => {\r\n          return (\r\n            <li\r\n              ref={provided.innerRef}\r\n              {...provided.dragHandleProps}\r\n              {...provided.draggableProps}\r\n            >\r\n              <CardPreviewContent \r\n                card={card}\r\n                groupId={groupId}\r\n                openCardEdit={openCardEdit}\r\n                isCardLabelListOpen={isCardLabelListOpen}\r\n                toggleCardLabelList={toggleCardLabelList}\r\n                toggleCardComplete={toggleCardComplete}\r\n                onToggleQuickCardEditor={onToggleQuickCardEditor}\r\n                getLabel={getLabel}\r\n              />\r\n              {/* <div\r\n                className='card-preview flex space-between'\r\n                onClick={() => openCardEdit(groupId, card.id)}\r\n              >\r\n                {!card.isArchive && (\r\n                  <button\r\n                    className='hover-edit-btn'\r\n                    onClick={(event) =>\r\n                      onToggleQuickCardEditor(event, card, groupId)\r\n                    }\r\n                  >\r\n                    <HiOutlinePencil />\r\n                  </button>\r\n                )}\r\n\r\n                {card.style && <CardHeader cardStyle={card.style} />}\r\n\r\n                <div className='card-details'>\r\n                  {card.labelIds && (\r\n                    <div onClick={toggleCardLabelList}>\r\n                      <CardLabelBarList\r\n                        labelIds={card.labelIds}\r\n                        getLabel={getLabel}\r\n                        isCardLabelListOpen={isCardLabelListOpen}\r\n                      />\r\n                    </div>\r\n                  )}\r\n\r\n                  <p>{card.title}</p>\r\n\r\n                  <CardFooter\r\n                    card={card}\r\n                    groupId={groupId}\r\n                    toggleCardComplete={toggleCardComplete}\r\n                  />\r\n                </div>\r\n              </div> */}\r\n            </li>\r\n          );\r\n        }}\r\n      </Draggable>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    board: state.boardModule.currBoard,\r\n  };\r\n}\r\n\r\nexport const CardPreview = connect(mapStateToProps)(_CardPreview);\r\n","export function GroupActions({groupId , onToggleAddPop, toggleGroupArchive}) {\r\n  return (\r\n    <div className='group-actions flex column'>\r\n      <button onClick={onToggleAddPop}>Add card...</button>\r\n      <button onClick={()=>toggleGroupArchive(groupId)}>Archive this list...</button>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport { Draggable, Droppable } from 'react-beautiful-dnd';\r\n\r\nimport { BsThreeDots } from 'react-icons/bs';\r\nimport { AiOutlinePlus } from 'react-icons/ai';\r\nimport { GrClose } from 'react-icons/gr';\r\nimport { CardPreview } from './card-preview.jsx';\r\n\r\nimport { GroupActions } from '../shared/popover-children/group-actions.jsx';\r\nimport { AddBoardItem } from '../shared/add-board-item.jsx';\r\nimport { DynamicPopover } from '../shared/dynamic-popover.jsx';\r\nimport { activityTxtMap } from '../../services/activity.service.js';\r\n\r\nexport class GroupPreview extends Component {\r\n  state = {\r\n    isAddPopOpen: false,\r\n    groupTitle: '',\r\n    isPopoverOpen: false,\r\n  };\r\n\r\n  groupEditRef = React.createRef();\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      ...this.state,\r\n      groupTitle: this.props.group.title,\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.group !== this.props.group) {\r\n      this.setState({\r\n        ...this.state,\r\n        groupTitle: this.props.group.title,\r\n      });\r\n    }\r\n  }\r\n\r\n  onToggleAddPop = () => {\r\n    this.setState({ isAddPopOpen: !this.state.isAddPopOpen });\r\n  };\r\n\r\n  handleChange = ({ target: { name, value } }) => {\r\n    this.setState((prevState) => ({ ...prevState, [name]: value }));\r\n  };\r\n\r\n  onChangeGroupTitle = () => {\r\n    const group = this.props.group;\r\n    group.title = this.state.groupTitle;\r\n    const action = { type: 'UPDATE_GROUP', group };\r\n    const activity = {txt: activityTxtMap.changeGroupTitle(group.title)}\r\n    this.props.updateBoard(action, activity);\r\n  };\r\n\r\n  blurFocus = (event) => {\r\n    event.target.blur()\r\n  };\r\n\r\n  setFocus = (event) => {\r\n    event.target.focus();\r\n  };\r\n\r\n  handleFocus = (event) => {\r\n    event.target.select();\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      group,\r\n      openCardEdit,\r\n      toggleCardLabelList,\r\n      isCardLabelListOpen,\r\n      index,\r\n      toggleCardComplete,\r\n      toggleGroupArchive,\r\n      onToggleQuickCardEditor,\r\n      getLabel\r\n    } = this.props;\r\n    const { isAddPopOpen, groupTitle, isPopoverOpen } = this.state;\r\n\r\n    return (\r\n      <div\r\n        className={'group-wrapper'}\r\n        style={{ display: group.isArchive ? 'none' : 'unset' }}\r\n      >\r\n        <Draggable draggableId={group.id} index={index}>\r\n          {(provided, snapshot) => (\r\n            <div\r\n              className='group-preview flex column'\r\n              {...provided.draggableProps}\r\n              {...provided.dragHandleProps}\r\n              ref={provided.innerRef}\r\n            >\r\n              <div className='group-header flex space-between align-center'>\r\n                <input\r\n                  className='clean-input'\r\n                  type='text'\r\n                  value={groupTitle}\r\n                  name='groupTitle'\r\n                  // onFocus={this.handleFocus}\r\n                  onMouseDown={this.blurFocus}\r\n                  onMouseUp={this.setFocus}\r\n                  onChange={this.handleChange}\r\n                  onBlur={this.onChangeGroupTitle}\r\n                />\r\n\r\n                <div\r\n                  className='relative'\r\n                  ref={this.groupEditRef}\r\n                  onClick={() =>\r\n                    this.setState({ isPopoverOpen: !isPopoverOpen })\r\n                  }\r\n                >\r\n                  <button>\r\n                    <BsThreeDots />\r\n                  </button>\r\n                  {isPopoverOpen && (\r\n                    <DynamicPopover\r\n                      onClose={() => this.setState({ isPopoverOpen: false })}\r\n                      ref={this.groupEditRef}\r\n                      title='List actions'\r\n                    >\r\n                      <GroupActions\r\n                        groupId={group.id}\r\n                        onToggleAddPop={this.onToggleAddPop}\r\n                        toggleGroupArchive={toggleGroupArchive}\r\n                      />\r\n                    </DynamicPopover>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <Droppable droppableId={group.id}>\r\n                {(provided) => (\r\n                  <ul\r\n                    className='card-list clean-list'\r\n                    {...provided.droppableProps}\r\n                    ref={provided.innerRef}\r\n                  >\r\n                    {group.cards &&\r\n                      group.cards.map((card, index) => {\r\n                        return (\r\n                          <CardPreview\r\n                            key={card.id}\r\n                            card={card}\r\n                            index={index}\r\n                            groupId={group.id}\r\n                            openCardEdit={openCardEdit}\r\n                            toggleCardLabelList={toggleCardLabelList}\r\n                            isCardLabelListOpen={isCardLabelListOpen}\r\n                            toggleCardComplete={toggleCardComplete}\r\n                            onToggleQuickCardEditor={onToggleQuickCardEditor}\r\n                            getLabel={getLabel}\r\n                          />\r\n                        );\r\n                      })}\r\n                    {provided.placeholder}\r\n                    {isAddPopOpen && (\r\n                      <AddBoardItem\r\n                        onToggleAddPop={this.onToggleAddPop}\r\n                        type={'card'}\r\n                        groupId={group.id}\r\n                      />\r\n                    )}\r\n                  </ul>\r\n                )}\r\n              </Droppable>\r\n\r\n                {!isAddPopOpen && (\r\n              <div className='group-footer flex space-between align-center'>\r\n                  <button\r\n                    className='add-boarditem-btn flex align-center'\r\n                    onClick={this.onToggleAddPop}\r\n                  >\r\n                    <i className='flex align-center'>\r\n                      <AiOutlinePlus />\r\n                    </i>\r\n                    <span>Add a card</span>\r\n                  </button>\r\n              </div>\r\n                )}\r\n            </div>\r\n          )}\r\n        </Draggable>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","// import React, { Component } from 'react';\r\n\r\nimport { GroupPreview } from './group-preview.jsx';\r\n\r\nexport function GroupList({\r\n  groups,\r\n  openCardEdit,\r\n  updateBoard,\r\n  toggleCardLabelList,\r\n  isCardLabelListOpen,\r\n  toggleCardComplete,\r\n  toggleGroupArchive,\r\n  onToggleQuickCardEditor,\r\n  getLabel\r\n}) {\r\n  return (\r\n    <ul className='group-list clean-list flex'>\r\n      {groups.map((group, index) => {\r\n        return (\r\n          <GroupPreview\r\n            key={group.id}\r\n            index={index}\r\n            group={group}\r\n            openCardEdit={openCardEdit}\r\n            updateBoard={updateBoard}\r\n            toggleCardLabelList={toggleCardLabelList}\r\n            isCardLabelListOpen={isCardLabelListOpen}\r\n            toggleCardComplete={toggleCardComplete}\r\n            toggleGroupArchive={toggleGroupArchive}\r\n            onToggleQuickCardEditor={onToggleQuickCardEditor}\r\n            getLabel={getLabel}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { MemberAvatar } from '../shared/member-avatar';\r\nimport { onUpdateBoard } from '../../store/board.actions'\r\nimport { IoCheckmarkSharp } from 'react-icons/io5'\r\nimport { activityTxtMap } from '../../services/activity.service';\r\nimport { socketService } from '../../services/socket.service';\r\n\r\nclass _InviteMembers extends React.Component {\r\n\r\n    state = {\r\n        search: ''\r\n    }\r\n\r\n    getMembersIds = () => {\r\n        const { board } = this.props\r\n        const boardMembersIds = board.members.map(member => member._id)\r\n        return boardMembersIds\r\n    }\r\n\r\n    inviteToBoard = (user) => {\r\n        const { board, onUpdateBoard } = this.props\r\n        // const members = board.members\r\n        // members.push({_id: user._id, fullname: user.fullname, imgUrl: user.imgUrl})\r\n        const memberIds = this.getMembersIds()\r\n        const memberToAdd = { _id: user._id, fullname: user.fullname, imgUrl: user.imgUrl }\r\n        if (memberIds.includes(memberToAdd._id)) return\r\n        const activity = { txt: activityTxtMap.inviteMember(user.fullname) }\r\n        onUpdateBoard({ type: 'ADD_BOARD_MEMBER', member: memberToAdd }, board, activity)\r\n        console.log(board.members)\r\n    }\r\n\r\n    handleChange = (ev) => {\r\n        const field = ev.target.name;\r\n        const value = ev.target.value;\r\n        this.setState({ ...this.state, [field]: value });\r\n    }\r\n\r\n    render() {\r\n        const { search } = this.state\r\n        const { users } = this.props\r\n        const memberIds = this.getMembersIds()\r\n\r\n        return (\r\n            <div className=\"invite-members\">\r\n                <input className=\"search-input\" type=\"text\" onChange={this.handleChange} name=\"search\" value={search} autoFocus placeholder=\"Search...\" />\r\n                <ul className=\"member-list clean-list\">\r\n                    {users.filter(user => user.fullname.includes(search)).map(user =>\r\n                        <li className=\"user-preview\" key={user._id} onClick={() => this.inviteToBoard(user)} >\r\n                            <div className=\"user-details\">\r\n                                <MemberAvatar member={user} />\r\n                                <span className=\"user-name\">{user.fullname}</span>\r\n                            </div>\r\n                            <span>{(memberIds.includes(user._id)) ? <IoCheckmarkSharp /> : ''}</span>\r\n                        </li>\r\n                    )}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        users: state.userModule.users,\r\n        board: state.boardModule.currBoard\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onUpdateBoard\r\n}\r\n\r\nexport const InviteMembers = connect(mapStateToProps, mapDispatchToProps)(_InviteMembers);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { activityTxtMap } from '../../services/activity.service';\r\n\r\nimport { onUpdateBoard } from '../../store/board.actions'\r\n\r\nclass _ChangeBG extends React.Component {\r\n\r\n    setBoardBG = (backGround) => {\r\n        const { board, onUpdateBoard } = this.props\r\n        const style = (backGround[0] === '#') ? { bgColor: backGround } : { imgUrl: backGround }\r\n        // const style = (backGround[0] === '#') ? { bgColor: backGround } : { imgUrl: backGround }\r\n      const activity = {txt: activityTxtMap.changeBackground()}\r\n        onUpdateBoard({ type: \"CHANGE_BOARD_STYLE\", style }, board, activity)\r\n    }\r\n\r\n    render() {\r\n        const images = ['https://images.pexels.com/photos/1914982/pexels-photo-1914982.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260', 'https://images.pexels.com/photos/844297/pexels-photo-844297.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940', 'https://images.pexels.com/photos/3293148/pexels-photo-3293148.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940', 'https://images.pexels.com/photos/911738/pexels-photo-911738.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940', 'https://images.pexels.com/photos/3274903/pexels-photo-3274903.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940', 'https://images.pexels.com/photos/3683056/pexels-photo-3683056.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940', 'https://images.pexels.com/photos/2170473/pexels-photo-2170473.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940', 'https://images.pexels.com/photos/2529973/pexels-photo-2529973.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940', 'https://images.pexels.com/photos/1982485/pexels-photo-1982485.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940', 'https://images.pexels.com/photos/1408221/pexels-photo-1408221.jpeg?cs=srgb&dl=pexels-irina-iriser-1408221.jpg&fm=jpg']\r\n        const colors = ['#82E0AA', '#F1948A', '#AAB7B8 ', '#C39BD3', '#85C1E9', '#F8C471']\r\n\r\n        return (\r\n            <div className=\"change-bg\">\r\n                <div className=\"images\">\r\n                    {images.map((image, idx) =>\r\n                        <div key={idx} className=\"img-container\" onClick={() => this.setBoardBG(image)}>\r\n                            <img src={image} alt={image} />\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                <hr />\r\n                <div className=\"colors\">\r\n                    {colors.map((color, idx) =>\r\n                        <div style={{ backgroundColor: `${color}` }} key={idx} className=\"color-container\" onClick={() => this.setBoardBG(color)}></div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        board: state.boardModule.currBoard,\r\n    };\r\n}\r\nconst mapDispatchToProps = {\r\n    onUpdateBoard,\r\n};\r\n\r\nexport const ChangeBG = connect(mapStateToProps, mapDispatchToProps)(_ChangeBG);","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\n\r\nclass _BoardIcon extends React.Component {\r\n\r\n    render() {\r\n        const { board } = this.props\r\n        return (\r\n            <div className=\"icon\" style={(board.style.bgColor) ? { backgroundColor: board.style.bgColor } : {}} >\r\n                {board.style.imgUrl && <img src={board.style.imgUrl} alt=\"\" />}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        board: state.boardModule.currBoard,\r\n    }\r\n}\r\n\r\nexport const BoardIcon = connect(mapStateToProps)(_BoardIcon);","import React from \"react\";\r\nimport { IoCheckmarkSharp } from \"react-icons/io5\";\r\nimport { connect } from \"react-redux\";\r\nimport { PopperLabelPreview } from \"../card-edit/popper-label-preview\";\r\nimport { MemberAvatar } from \"../shared/member-avatar\";\r\n\r\nimport { onUpdateFilter, loadBoard } from \"../../store/board.actions\"\r\nimport { withRouter } from \"react-router\";\r\nimport { utilService } from \"../../services/util.service\";\r\n\r\nclass _SearchCards extends React.Component {\r\n    state = {\r\n        filterBy: {\r\n            txt: '',\r\n            members: [],\r\n            labels: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { location, filterBy } = this.props\r\n        const { search } = location\r\n        const params = new URLSearchParams(search)\r\n        const searchHasFilter = Object.keys(filterBy).some(filterKey => params.get(filterKey))\r\n        if (search && searchHasFilter) {\r\n            const txt = params.get('txt') || ''\r\n            const members = params.get('members')?.split(',') || []\r\n            console.log('members: ', members);\r\n            const labels = params.get('labels')?.split(',') || []\r\n            console.log('labels: ', labels);\r\n            this.props.onUpdateFilter({ txt, members, labels })\r\n            this.updateUrlSearchParams(this.props.filterBy)\r\n\r\n            console.log('filterBy from search cards: ', this.props.filterBy)\r\n        } else {\r\n            this.props.onUpdateFilter({ txt: '', members: [], labels: [] })\r\n            this.updateUrlSearchParams(this.props.filterBy)\r\n        }\r\n    }\r\n\r\n    componentDidUpdate({ filterBy: prevFilterBy }) {\r\n        const { filterBy: currFilterBy } = this.props\r\n        if (prevFilterBy !== currFilterBy) {\r\n            this.updateUrlSearchParams(currFilterBy)\r\n            this.getFilteredBoard.bind(this)()\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.onUpdateFilter({ txt: '', members: [], labels: [] })\r\n        this.updateUrlSearchParams(this.props.filterBy)\r\n        this.getFilteredBoard.bind(this)()\r\n    }\r\n\r\n    updateUrlSearchParams = (filterBy) => {\r\n        const { history, location } = this.props\r\n        const urlSearchFilterBy = { ...filterBy }\r\n        for (const key in urlSearchFilterBy) {\r\n            const currVal = urlSearchFilterBy[key]\r\n            if (!currVal || (Array.isArray(currVal) && !currVal.length)) delete urlSearchFilterBy[key]\r\n        }\r\n        const search = new URLSearchParams(urlSearchFilterBy)\r\n        history.replace(`${location.pathname}?${search.toString()}`)\r\n    }\r\n\r\n    handleChange = (ev) => {\r\n        const field = ev.target.name;\r\n        const value = ev.target.value;\r\n        const filterBy = { ...this.props.filterBy, [field]: value }\r\n        this.props.onUpdateFilter(filterBy)\r\n    }\r\n\r\n    getFilteredBoard = utilService.debounce(() => {\r\n        const newFilterBy = { ...this.props.filterBy }\r\n        for (const key in newFilterBy) {\r\n            const currVal = newFilterBy[key]\r\n            if (!currVal || (Array.isArray(currVal) && !currVal.length)) delete newFilterBy[key]\r\n        }\r\n        this.props.loadBoard(this.props.match.params.boardId, newFilterBy)\r\n    }, 100)\r\n\r\n    handleUserClick = (user) => {\r\n        if (this.props.filterBy.members.includes(user._id)) {\r\n            const clickedIdx = this.props.filterBy.members.findIndex(member => member === user._id)\r\n            this.props.filterBy.members.splice(clickedIdx, 1)\r\n            const filterBy = { ...this.props.filterBy, members: [...this.props.filterBy.members] }\r\n            this.props.onUpdateFilter(filterBy)\r\n        } else {\r\n            const filterBy = { ...this.props.filterBy, members: [...this.props.filterBy.members, user._id] }\r\n            this.props.onUpdateFilter(filterBy)\r\n        }\r\n    }\r\n\r\n    handleLabelClick = (label) => {\r\n        if (this.props.filterBy.labels.includes(label.id)) {\r\n            const clickedIdx = this.props.filterBy.labels.findIndex(label => label === label)\r\n            this.props.filterBy.labels.splice(clickedIdx, 1)\r\n            const filterBy = { ...this.props.filterBy, labels: [...this.props.filterBy.labels] }\r\n            this.props.onUpdateFilter(filterBy)\r\n        } else {\r\n            const filterBy = { ...this.props.filterBy, labels: [...this.props.filterBy.labels, label.id] }\r\n            this.props.onUpdateFilter(filterBy)\r\n        }\r\n    }\r\n    render() {\r\n        const { board } = this.props\r\n        const { filterBy } = this.props\r\n        return (\r\n            <div className=\"search-cards\">\r\n                <input className=\"search-input\" type=\"text\" onChange={this.handleChange} name=\"txt\" value={filterBy.txt} autoFocus placeholder=\"Search...\" />\r\n                <p className=\"search-desc\">Search by term, label, member, or due time</p>\r\n\r\n                <hr />\r\n\r\n                <ul className=\"label-list clean-list\">\r\n                    {board.labels.map(label =>\r\n                        <li className=\"label-preview\" key={label.id} onClick={() => this.handleLabelClick(label)}>\r\n                            <div className=\"label-details\">\r\n                                <div className=\"label-color\" style={{ backgroundColor: label.color }} ></div>\r\n                                <p>{label.title}</p>\r\n                            </div>\r\n                            <span>{(filterBy.labels.includes(label.id)) ? <IoCheckmarkSharp /> : ''}</span>\r\n                        </li>\r\n                    )}\r\n                </ul>\r\n                <hr />\r\n                <ul className=\"member-list clean-list\">\r\n                    {board.members.map(member =>\r\n                        <li className=\"user-preview\" key={member._id} onClick={() => this.handleUserClick(member)} >\r\n                            <div className=\"user-details\">\r\n                                <MemberAvatar member={member} />\r\n                                <span className=\"user-name\">{member.fullname}</span>\r\n                            </div>\r\n                            <span>{(filterBy.members.includes(member._id)) ? <IoCheckmarkSharp /> : ''}</span>\r\n                        </li>\r\n                    )}\r\n                </ul>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        board: state.boardModule.currBoard,\r\n        filterBy: state.boardModule.filterBy\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onUpdateFilter,\r\n    loadBoard\r\n}\r\n\r\nexport const SearchCards = connect(mapStateToProps, mapDispatchToProps)(withRouter(_SearchCards));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { loadArchivedCards } from '../../store/board.actions.js';\r\nimport { Loader } from '../shared/loader.jsx';\r\nimport { CardPreviewContent } from '../board/card-preview-content.jsx';\r\n\r\nclass _Archive extends React.Component {\r\n  state = {\r\n    archivedCards: null,\r\n  };\r\n  componentDidMount() {\r\n    this.loadArchivedCards();\r\n  }\r\n  loadArchivedCards = async () => {\r\n    const boardId = this.props.board._id;\r\n    const archivedCards = await this.props.loadArchivedCards(boardId);\r\n    this.setState({ archivedCards });\r\n  };\r\n\r\n  render() {\r\n    const { archivedCards } = this.state;\r\n    const {\r\n      isCardLabelListOpen,\r\n      toggleCardLabelList,\r\n      getLabel,\r\n      toggleCardComplete,\r\n      openCardEdit,\r\n    } = this.props;\r\n    return (\r\n      <div className='archive'>\r\n        {!archivedCards && <Loader />}\r\n        {archivedCards && archivedCards.length === 0 && (\r\n          <div>No archived cards...</div>\r\n        )}\r\n        {archivedCards && archivedCards.length > 0 && (\r\n          <ul className='archived-cards-list clean-list flex column align-center'>\r\n            {archivedCards.map((card, index) => {\r\n              return (\r\n                <li key={card.id}>\r\n                  <CardPreviewContent\r\n                    card={card}\r\n                    groupId={card.groupId}\r\n                    toggleCardLabelList={toggleCardLabelList}\r\n                    isCardLabelListOpen={isCardLabelListOpen}\r\n                    getLabel={getLabel}\r\n                    toggleCardComplete={toggleCardComplete}\r\n                    openCardEdit={openCardEdit}\r\n                  />\r\n                  <div className='archived-btns'>\r\n                    <button>Send to board</button>\r\n                    <button>Delete</button>\r\n                  </div>\r\n                </li>\r\n              );\r\n            })}\r\n          </ul>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    board: state.boardModule.currBoard,\r\n    filterBy: state.boardModule.filterBy,\r\n  };\r\n}\r\nconst mapDispatchToProps = {\r\n  loadArchivedCards,\r\n};\r\nexport const Archive = connect(mapStateToProps, mapDispatchToProps)(_Archive);\r\n","import React from 'react';\r\nimport { GrList } from 'react-icons/gr';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { MemberAvatar } from '../shared/member-avatar';\r\nimport Moment from 'react-moment'\r\n\r\nclass _ActivityList extends React.Component {\r\n\r\n    \r\n\r\n    getGroupTitle = (groupId) => {\r\n        const group = this.props.board.groups.find(group => group.id === groupId)\r\n        return group.title\r\n    }\r\n\r\n    render() {\r\n        const { board } = this.props\r\n        if (board.activities.length === 0) return (<div className=\"activity\">\r\n            <div className=\"activity-header\">\r\n                <GrList />\r\n                <p>Activity</p>\r\n            </div>\r\n            <p>No Activities in this board yet</p>\r\n        </div>)\r\n        return (\r\n            <div className=\"activity\">\r\n                <div className=\"activity-header\">\r\n                    <GrList />\r\n                    <p>Activity</p>\r\n                </div>\r\n                <ul className=\"activity-list clean-list\" >\r\n                    {\r\n                        board.activities.map(activity =>\r\n                            <li key={activity.id} className=\"activity-preview\">\r\n                                <span className=\"member-avatar\"><MemberAvatar member={activity.byMember} /></span>\r\n                                <div className=\"activity-text\">\r\n                                    <span className=\"user-fullname\">{activity.byMember.fullname} </span>\r\n                                    <p>{activity.txt}</p>\r\n                                    {activity.groupId && <Link to={`/board/${board._id}/${activity.groupId}/${activity.card.id}`}> {activity.card.title}</Link>}\r\n                                    {activity.groupId && <p>in list: {this.getGroupTitle(activity.groupId)}</p>}\r\n                                    <Moment className=\"publish-time\" fromNow>{activity.createdAt}</Moment>\r\n                                </div>\r\n                            </li>\r\n                        )\r\n                    }\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        board: state.boardModule.currBoard\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n}\r\n\r\nexport const ActivityList = connect(mapStateToProps, mapDispatchToProps)(_ActivityList);","import React from 'react';\r\nimport { IoIosArrowBack, IoMdClose } from 'react-icons/io';\r\nimport { BiSearch } from 'react-icons/bi';\r\nimport { connect } from 'react-redux';\r\nimport { ChangeBG } from './change-bg';\r\nimport { BsArchiveFill } from 'react-icons/bs';\r\nimport { BoardIcon } from './board-icon';\r\nimport { SearchCards } from './search-cards';\r\nimport { Archive } from './archive';\r\nimport { ActivityList } from './activity-list';\r\nimport { withRouter } from 'react-router'\r\n\r\n\r\nclass _SideMenu extends React.Component {\r\n    state = {\r\n        currViewIdx: -1\r\n    }\r\n\r\n    _cmpsToRender = [{ id: 'c101', title: 'Change Background', icon: <BoardIcon />, component: ChangeBG },\r\n    { id: 'c102', title: 'Search Cards', icon: <BiSearch />, component: SearchCards },\r\n    { id: 'c103', title: 'Archive', icon: <BsArchiveFill />, component: Archive }]\r\n    // { id: 'c103', title: 'Archive - Under Construction ', icon: <BsArchiveFill />, component: Archive }]\r\n\r\n    componentDidMount() {\r\n        if (this.props.location.search) this.setState((prevState) => ({ ...prevState, currViewIdx: 1 }))\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.setState((prevState) => ({ ...prevState, currViewIdx: -1 }))\r\n    }\r\n\r\n    onSelectView = (viewId) => {\r\n        this.setState((prevState) => ({ ...prevState, currViewIdx: viewId }))\r\n    }\r\n\r\n    getViewById = () => {\r\n        const { currViewIdx } = this.state\r\n        const currView = this._cmpsToRender[currViewIdx]\r\n        console.log('selected view: ', currView)\r\n        return currView.component\r\n    }\r\n\r\n    onBack = () => {\r\n        this.setState((prevState) => ({ ...prevState, currViewIdx: -1 }))\r\n    }\r\n\r\n    /* priavte cmps */\r\n    _CurrView = () => {\r\n        const props= this.props\r\n        const { component: Component } = this._cmpsToRender[this.state.currViewIdx]\r\n        return <Component {...props} />\r\n    }\r\n\r\n    _DefaultView = () => {\r\n        return <div>\r\n            <ul className=\"default-menu clean-list\">\r\n                {this._cmpsToRender.map((cmp, idx) =>\r\n                    <li onClick={() => this.onSelectView(idx)} key={cmp.id}>\r\n                        <div className=\"icon\">{cmp.icon}</div>\r\n                        <p>{cmp.title}</p>\r\n                    </li>\r\n                )}\r\n            </ul>\r\n            <hr />\r\n            <ActivityList />\r\n        </div>\r\n    }\r\n\r\n    render() {\r\n        const { onClose, toggleCardLabelList, isCardLabelListOpen, getLabel, toggleCardComplete, openCardEdit } = this.props\r\n        const { currViewIdx } = this.state\r\n        return (\r\n            <div className={`side-menu ${(this.props.isMenuOpen) ? 'menu-open' : ''}`}>\r\n                <div className=\"title\">\r\n                    <span className={`back-btn ${(currViewIdx !== -1) ? 'show-btn' : ''} `} onClick={() => this.onBack()}><IoIosArrowBack /></span>\r\n                    <p className=\"menu-title\" >{currViewIdx === -1 ? 'Menu' : this._cmpsToRender[currViewIdx].title}</p>\r\n                    <span className=\"close-btn\" onClick={onClose}><IoMdClose /></span>\r\n                </div>\r\n                <hr />\r\n                <div className=\"rendered-cmp\">\r\n                    {currViewIdx === -1 ? <this._DefaultView /> : <this._CurrView />}\r\n                </div>\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        board: state.boardModule.currBoard,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n}\r\n\r\nexport const SideMenu = connect(mapStateToProps, mapDispatchToProps)(withRouter(_SideMenu));","import React, { useEffect } from 'react'\r\nimport { MemberAvatar } from '../../shared/member-avatar'\r\nimport { connect } from 'react-redux'\r\nimport { onUpdateBoard } from '../../../store/board.actions'\r\nimport { IoCheckmarkSharp } from 'react-icons/io5'\r\n\r\n\r\nconst _BoardEditMembers = ({ members, board, onUpdateBoard, onClose }) => {\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            onClose()\r\n        }\r\n    },[onClose])\r\n\r\n    const removeFromBoard = (memberId) => {\r\n        // const activity = {txt: activityTxtMap.inviteMember(user.fullname)}\r\n        onUpdateBoard({ type: 'REMOVE_BOARD_MEMBER', memberId: memberId }, board)\r\n    }\r\n\r\n    return (\r\n        <div className=\"member-list\" style={{ color: '#172b4d' }}>\r\n            {members.map(member => (\r\n                <div key={member._id} className=\"popper-member-preview flex\" onClick={() => removeFromBoard(member._id)}>\r\n                    <div className='list-item-layover'></div>\r\n                    <div style={{ width: 32 }}>\r\n                        <MemberAvatar member={member} />\r\n                    </div>\r\n                    <div className='popper-member-name'>\r\n                        <p>{member.fullname}</p>\r\n                    </div>\r\n                    <div className='popper-member-check'><IoCheckmarkSharp /></div>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        users: state.userModule.users,\r\n        board: state.boardModule.currBoard\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onUpdateBoard\r\n}\r\n\r\nexport const BoardEditMembers = connect(mapStateToProps, mapDispatchToProps)(_BoardEditMembers);\r\n ","import React from 'react'\r\nimport { AiOutlineStar } from 'react-icons/ai'\r\nimport { RiBarChartFill } from 'react-icons/ri'\r\nimport { HiDotsHorizontal } from 'react-icons/hi'\r\nimport { FaUserAlt } from 'react-icons/fa'\r\nimport { connect } from 'react-redux'\r\nimport { activityTxtMap } from '../../services/activity.service'\r\n\r\nimport { onUpdateBoard } from '../../store/board.actions.js'\r\nimport { loadUsers } from '../../store/user.actions.js'\r\nimport { MemberAvatar } from '../shared/member-avatar.jsx'\r\nimport { InviteMembers } from './invite-members.jsx'\r\nimport { DynamicPopover } from '../shared/dynamic-popover.jsx'\r\nimport { SideMenu } from '../side-menu/side-menu.jsx'\r\nimport { BoardEditMembers } from '../shared/popover-children/board-edit-members'\r\nimport { withRouter } from 'react-router'\r\n\r\nclass _BoardHeader extends React.Component {\r\n\r\n    state = {\r\n        isInviteOpen: false,\r\n        rect: null,\r\n        element: null,\r\n        boardTitle: this.props.board.title,\r\n        isMenuOpen: false,\r\n        numOfShownMembers: 7,\r\n        isExtraMembersOpen: false,\r\n        isTotalMembersOpen: false\r\n    }\r\n\r\n    inviteRef = React.createRef()\r\n    membersRef = React.createRef()\r\n    totalMembersRef = React.createRef()\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('resize', this.handleResize)\r\n        this.handleResize()\r\n        this.props.loadUsers()\r\n        if (this.props.location.search) this.setState({ isMenuOpen: true })\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('resize', this.handleResize)\r\n    }\r\n\r\n    handleResize = () => {\r\n        const { numOfShownMembers } = this.state\r\n        if (window.innerWidth < 800) {\r\n            if (numOfShownMembers === 3) return\r\n            this.setState({ numOfShownMembers: 3 })\r\n\r\n        } else if (window.innerWidth > 800 && window.innerWidth < 1300) {\r\n            if (numOfShownMembers === 7) return\r\n            this.setState({ numOfShownMembers: 7 })\r\n\r\n        } else {\r\n            if (numOfShownMembers === 10) return\r\n            this.setState({ numOfShownMembers: 10 })\r\n\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.board.title !== this.props.board.title) {\r\n            this.setState({ boardTitle: this.props.board.title })\r\n        }\r\n    }\r\n\r\n    toggleStarredBoard = () => {\r\n        const { board, onUpdateBoard } = this.props\r\n        board.isStarred = !board.isStarred\r\n        onUpdateBoard({ type: 'TOGGLE_STARRED', isStarred: board.isStarred }, board)\r\n    }\r\n\r\n    handleFocus = (event) => event.target.select();\r\n\r\n    handleChange = ({ target: { name, value } }) => {\r\n        this.setState((prevState) => ({ ...prevState, [name]: value }));\r\n    }\r\n\r\n    onChangeBoardTitle = () => {\r\n        const { board, onUpdateBoard } = this.props\r\n        board.title = this.state.boardTitle\r\n        const activity = { txt: activityTxtMap.renameBoard(board.title) }\r\n        onUpdateBoard({ type: 'CHANGE_TITLE', title: board.title }, board, activity)\r\n    }\r\n\r\n    toggleMenu = () => {\r\n        this.setState((prevState) => ({ ...prevState, isMenuOpen: !this.state.isMenuOpen }))\r\n    }\r\n\r\n    getRemainingMembers = () => {\r\n        const members = [...this.props.board.members]\r\n        members.splice(this.state.numOfShownMembers)\r\n        return members\r\n    }\r\n\r\n    getExtraMembersLength = () => (this.props.board.members.length - this.state.numOfShownMembers)\r\n\r\n    onMembersClose = () => this.setState({ isExtraMembersOpen: false })\r\n\r\n    render() {\r\n        const { board, onToggleDashboard, toggleCardLabelList, isCardLabelListOpen, getLabel, toggleCardComplete, openCardEdit } = this.props\r\n        const { boardTitle, isMenuOpen, isInviteOpen, isExtraMembersOpen, isTotalMembersOpen } = this.state\r\n        const members = this.getRemainingMembers()\r\n        const extraMembersLength = this.getExtraMembersLength()\r\n\r\n        return (\r\n            <section className=\"board-header\">\r\n                <div className=\"left-btns\">\r\n                    <button className=\"board-title nav-button\">\r\n                        <input className='clean-input' type='text' value={boardTitle} name='boardTitle' onFocus={this.handleFocus} onChange={this.handleChange} onBlur={this.onChangeBoardTitle} />\r\n                    </button>\r\n                    <button className={`starred-btn nav-button ${(board.isStarred) ? 'starred' : ''}`} onClick={() => this.toggleStarredBoard()}><AiOutlineStar /></button> |\r\n                    <div className=\"members-container flex\"><div className=\"user-previews\">\r\n                        {members.map((member, idx) =>\r\n                            <MemberAvatar key={member._id} member={member} style={{ left: idx * -5 }} />\r\n                        )}\r\n                        {extraMembersLength > 0 && (\r\n                            <div\r\n\r\n                                ref={this.membersRef}\r\n                            >\r\n                                <div className=\"list-item-layover round\" style={{ transform: `translateX(${(members.length) * -5}px)` }} onClick={() => this.setState({ isExtraMembersOpen: !isExtraMembersOpen })}></div>\r\n                                <div\r\n                                    className=\"show-more-btn\"\r\n                                    style={{ transform: `translateX(${(members.length) * -5}px)` }}\r\n                                >\r\n                                    {`+${extraMembersLength}`}\r\n                                </div>\r\n                                {isExtraMembersOpen && <DynamicPopover onClose={() => this.setState({ isExtraMembersOpen: false })} title=\"Members\" ref={this.membersRef}>\r\n                                    <BoardEditMembers members={board.members.filter(member => member._id)} onClose={this.onMembersClose} />\r\n                                </DynamicPopover>}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                        <div className='relative' ref={this.inviteRef}>\r\n                            <button onClick={() => this.setState({ isInviteOpen: !isInviteOpen })} className=\"invite-btn nav-button\">Invite</button>\r\n                            {isInviteOpen && <DynamicPopover onClose={() => this.setState({ isInviteOpen: false })} title=\"Invite Members\" ref={this.inviteRef}>\r\n                                <InviteMembers />\r\n                            </DynamicPopover>}\r\n                        </div></div>\r\n                </div>\r\n                <div className=\"right-btns\">\r\n                    {!isMenuOpen && <>\r\n                        <div className=\"relative\" ref={this.totalMembersRef}>\r\n                            <button className=\"nav-button members-btn\" onClick={() => this.setState({ isTotalMembersOpen: !isTotalMembersOpen })}><FaUserAlt /></button>\r\n                            {isTotalMembersOpen && <DynamicPopover onClose={() => this.setState({ isTotalMembersOpen: false })} title=\"Members\" ref={this.totalMembersRef}>\r\n                                <InviteMembers />\r\n                            </DynamicPopover>}\r\n                        </div>\r\n\r\n                        <button onClick={() => onToggleDashboard(true)} className={`dashboard-btn nav-button ${(isMenuOpen) ? 'menu-open' : ''}`}><RiBarChartFill /> <span className=\"right-btn-txt\">Dashboard</span></button>\r\n                        <button onClick={() => this.toggleMenu()} className=\"right-menu-btn nav-button\"><HiDotsHorizontal /> <span className=\"right-btn-txt\">Show Menu</span></button>\r\n                    </>}\r\n                </div>\r\n                <SideMenu isMenuOpen={isMenuOpen} onClose={() => { this.toggleMenu() }} isCardLabelListOpen={isCardLabelListOpen} toggleCardLabelList={toggleCardLabelList} getLabel={getLabel} openCardEdit={openCardEdit} toggleCardComplete={toggleCardComplete} />\r\n            </section >\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        board: state.boardModule.currBoard,\r\n        users: state.userModule.users,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadUsers,\r\n    onUpdateBoard\r\n\r\n}\r\n\r\n\r\n\r\nexport const BoardHeader = connect(mapStateToProps, mapDispatchToProps)(withRouter(_BoardHeader))","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { CgCreditCard } from 'react-icons/cg';\r\nimport { MdLabelOutline } from 'react-icons/md';\r\nimport { BiUser } from 'react-icons/bi';\r\nimport { BsClock } from 'react-icons/bs';\r\nimport { GoArchive } from 'react-icons/go';\r\n\r\nimport { CardEditDate } from '../cmps/shared/popover-children/card-edit-date';\r\nimport { PopperCoverEdit } from '../cmps/shared/popover-children/popper-cover-edit.jsx';\r\nimport { CardHeader } from '../cmps/card-preview/card-header.jsx';\r\nimport { CardLabelBarList } from '../cmps/card-preview/card-label-bar-list.jsx';\r\nimport { CardFooter } from '../cmps/card-preview/card-footer.jsx';\r\nimport { cardEditService } from '../services/card-edit.service.js';\r\nimport { Loader } from './shared/loader.jsx';\r\nimport {\r\n  onUpdateCard,\r\n  onSetCardId,\r\n  onArchiveCard,\r\n} from '../store/board.actions';\r\nimport { CardEditAddToCardItem } from '../cmps/card-edit/add-to-card/card-edit-add-to-card-item.jsx';\r\nimport { LabelList } from '../cmps/shared/popover-children/label-list.jsx';\r\nimport { MemberList } from '../cmps/shared/popover-children/member-list.jsx';\r\nimport { activityTxtMap } from '../services/activity.service.js';\r\n\r\nclass _QuickCardEditor extends Component {\r\n  state = {\r\n    card: null,\r\n    cardTitle: '',\r\n    // isArchive:false\r\n  };\r\n  componentDidMount() {\r\n    const { cardId, groupId } = this.props;\r\n    this.props.onSetCardId(cardId);\r\n    this.uploadCard(cardId, groupId);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.board !== this.props.board) {\r\n      const { cardId, groupId } = this.props;\r\n      this.uploadCard(cardId, groupId);\r\n    }\r\n  }\r\n\r\n  uploadCard = (cardId, groupId) => {\r\n    const card = cardEditService.getCardById(cardId, groupId);\r\n    this.setState({ card, cardTitle: card.title });\r\n  };\r\n\r\n  handleChange = ({ target: { name, value } }) => {\r\n    this.setState((prevState) => ({ ...prevState, [name]: value }));\r\n  };\r\n  handleFocus = (event) => {\r\n    event.target.select();\r\n  };\r\n  onSave = (event) => {\r\n    const cardToSave = { ...this.state.card };\r\n    cardToSave.title = this.state.cardTitle;\r\n    // cardToSave.isArchive=this.state.isArchive\r\n    const activity = {\r\n      txt: activityTxtMap.editCard(),\r\n      card: cardToSave,\r\n      groupId: this.props.groupId,\r\n    };\r\n    this.props.onUpdateCard(\r\n      cardToSave,\r\n      this.props.groupId,\r\n      this.props.board,\r\n      activity\r\n    );\r\n    this.props.onToggleQuickCardEditor(event, null, '');\r\n  };\r\n  openCard = (event) => {\r\n    this.props.onToggleQuickCardEditor(event, null, '');\r\n    this.props.openCardEdit(this.props.groupId, this.props.cardId);\r\n  };\r\n  onArchiveCard = (event) => {\r\n    const { groupId, board } = this.props;\r\n    const cardToSave = { ...this.state.card };\r\n    cardToSave.isArchive = true;\r\n    // console.log('cardToSave', cardToSave)\r\n    this.props.onArchiveCard(cardToSave, groupId, board);\r\n    this.props.onToggleQuickCardEditor(event, null, '');\r\n    // this.setState({isArchive: true},()=> this.onSave(event))\r\n    \r\n  };\r\n\r\n  render() {\r\n    const { card, cardTitle } = this.state;\r\n    const {\r\n      groupId,\r\n      getLabel,\r\n      isCardLabelListOpen,\r\n      toggleCardComplete,\r\n      position,\r\n    } = this.props;\r\n    if (!card) return <Loader />;\r\n    // console.log(card);\r\n    return (\r\n      <div\r\n        className='quick-card-editor flex'\r\n        style={{\r\n          position: 'fixed',\r\n          top: position.top,\r\n          left: position.left,\r\n        }}\r\n      >\r\n        <div>\r\n          <div className='card-preview' style={{ width: position.width }}>\r\n            {card.style && <CardHeader cardStyle={card.style} />}\r\n\r\n            <div className='card-details'>\r\n              {card.labelIds && (\r\n                <div>\r\n                  <CardLabelBarList\r\n                    labelIds={card.labelIds}\r\n                    getLabel={getLabel}\r\n                    isCardLabelListOpen={isCardLabelListOpen}\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              <textarea\r\n                className='clean-input'\r\n                type='text'\r\n                value={cardTitle}\r\n                name='cardTitle'\r\n                onChange={this.handleChange}\r\n                autoFocus\r\n                onFocus={this.handleFocus}\r\n              />\r\n\r\n              <CardFooter\r\n                card={card}\r\n                groupId={groupId}\r\n                toggleCardComplete={toggleCardComplete}\r\n              />\r\n            </div>\r\n          </div>\r\n          <button onClick={this.onSave} className='card-edit-btn secondary'>\r\n            Save\r\n          </button>\r\n        </div>\r\n        <div className='quick-editor-sidebar flex column'>\r\n          <button\r\n            onClick={this.openCard}\r\n            className='quick-editor-btn flex align-center'\r\n          >\r\n            <span className='quick-editor-btn-icon flex align-center'>\r\n              <CgCreditCard />\r\n            </span>\r\n            <span>Open card</span>\r\n          </button>\r\n          <div className='quick-editor-btn flex align-center'>\r\n            <CardEditAddToCardItem\r\n              item={{\r\n                icon: MdLabelOutline,\r\n                title: 'Edit labels',\r\n                component: LabelList,\r\n              }}\r\n            />\r\n          </div>\r\n          <div className='quick-editor-btn flex align-center'>\r\n            <CardEditAddToCardItem\r\n              item={{\r\n                icon: BiUser,\r\n                title: 'Change members',\r\n                component: MemberList,\r\n              }}\r\n            />\r\n          </div>\r\n          <div className='quick-editor-btn flex align-center'>\r\n            <CardEditAddToCardItem\r\n              item={{\r\n                icon: CgCreditCard,\r\n                title: 'Change cover',\r\n                component: PopperCoverEdit,\r\n              }}\r\n            />\r\n          </div>\r\n          <div className='quick-editor-btn flex align-center datepicker'>\r\n            <CardEditAddToCardItem\r\n              item={{\r\n                icon: BsClock,\r\n                title: 'Edit dates',\r\n                component: CardEditDate,\r\n              }}\r\n            />\r\n          </div>\r\n          <div\r\n            className='quick-editor-btn flex align-center'\r\n            onClick={this.onArchiveCard}\r\n          >\r\n            <span className='quick-editor-btn-icon flex align-center'>\r\n              <GoArchive />\r\n            </span>\r\n            <span>Archive</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    board: state.boardModule.currBoard,\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  onUpdateCard,\r\n  onSetCardId,\r\n  onArchiveCard,\r\n};\r\n\r\nexport const QuickCardEditor = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(_QuickCardEditor);\r\n","import { Pie } from 'react-chartjs-2';\r\n\r\nexport function TasksPerMemberChart({ tasksPerMemberMap, labelsColors }) {\r\n  console.log('tasksPerMemberMap', tasksPerMemberMap);\r\n  // console.log('Object.keys(tasksPerMemberMap)', Object.keys(tasksPerMemberMap))\r\n  const data = {\r\n    labels: Object.keys(tasksPerMemberMap),\r\n    datasets: [\r\n      {\r\n        label: '# of Votes',\r\n        data: Object.values(tasksPerMemberMap),\r\n        backgroundColor: labelsColors,\r\n        borderWidth: 2,\r\n        hoverOffset: 2\r\n      },\r\n    ],\r\n  };\r\n  const options = {\r\n    plugins: {\r\n      legend: {\r\n        labels: {\r\n          color: 'white',\r\n          padding: 10\r\n        }\r\n      },\r\n    } ,\r\n  };\r\n\r\n  return (\r\n    <div className='chart'>\r\n      <h1>Tasks per Member</h1>\r\n      <Pie data={data} options={options} />\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Bar } from 'react-chartjs-2';\r\n\r\nexport function TasksPerLabelChart({ tasksPerLabelMap, labelsColors }) {\r\n  const data = {\r\n    labels: Object.keys(tasksPerLabelMap),\r\n    datasets: [\r\n      {\r\n        label: '',\r\n        data: Object.values(tasksPerLabelMap),\r\n        backgroundColor: labelsColors,\r\n        borderWidth: 2,\r\n        hoverOffset: 2,\r\n        fontColor: 'white'\r\n      },\r\n    ],\r\n  };\r\n\r\n  const options = {\r\n    maintainAspectRatio: false,\r\n    plugins: {\r\n      legend: {\r\n        display: false,\r\n        labels: {\r\n          fontColor: '#f00'\r\n        }\r\n      },\r\n    },\r\n    scales: {\r\n      y: {\r\n        ticks: {\r\n          color: 'white'\r\n        }\r\n      },\r\n      x: {\r\n        ticks: {\r\n          color: 'white'\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='chart bar-chart-container' style={{ maxHeight: 400 }}>\r\n      <h1>Tasks per Label</h1>\r\n      <Bar data={data} height={null}\r\n        width={null}\r\n        options={options} />\r\n    </div>\r\n  );\r\n}\r\n","import TimeLine from \"react-gantt-timeline\";\r\n\r\nexport function TasksPerDateChart({tasks}) {\r\n  const config = {\r\n    header: {\r\n      top: {\r\n        style: {\r\n          background: \"linear-gradient( grey, black)\",\r\n          textShadow: \"0.5px 0.5px black\",\r\n          fontSize: 12\r\n        }\r\n      },\r\n      middle: {\r\n        style: {\r\n          background: \"linear-gradient( #b686c2, white)\",\r\n          fontSize: 9,\r\n          color: \"black\"\r\n        }\r\n      },\r\n      bottom: {\r\n        style: {\r\n          background: \"linear-gradient( grey, black)\",\r\n          fontSize: 9,\r\n          color: \"#b686c2\"\r\n        },\r\n        selectedStyle: {\r\n          background: \"linear-gradient( #d011dd ,#d011dd)\",\r\n          fontWeight: \"bold\",\r\n          color: \"white\"\r\n        }\r\n      }\r\n    },\r\n    taskList: {\r\n      title: {\r\n        label: \"Task Todo\",\r\n        style: {\r\n          background: \"linear-gradient( grey, black)\"\r\n        }\r\n      },\r\n      task: {\r\n        style: {\r\n          backgroundColor: \"grey\",\r\n          color: \"white\"\r\n        }\r\n      },\r\n      verticalSeparator: {\r\n        style: {\r\n          backgroundColor: \"#fbf9f9\"\r\n        },\r\n        grip: {\r\n          style: {\r\n            backgroundColor: \"#b686c2\"\r\n          }\r\n        }\r\n      }\r\n    },\r\n    dataViewPort: {\r\n      rows: {\r\n        style: {\r\n          backgroundColor: \"white\",\r\n          borderBottom: \"solid 0.5px silver\"\r\n        }\r\n      },\r\n      task: {\r\n        showLabel: true,\r\n        style: {\r\n          backgroundColor: \"#b686c2\",\r\n          borderRadius: 1,\r\n          boxShadow: \"2px 2px 8px #888888\"\r\n        }\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"time-line-container\">\r\n      <TimeLine data={tasks} links={[]} config={config}/>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n// import { GanttComponent, TaskFieldsModel } from '@syncfusion/ej2-react-gantt';\r\n\r\n// export function TasksPerDateChart({ tasks }) {\r\n//   const taskValues: TaskFieldsModel = {\r\n//     id: 'id',\r\n//     name: 'title',\r\n//     startDate: 'startDate',\r\n//     endDate: 'endDate',\r\n//   };\r\n//   return (\r\n//     <div style={{marginTop: '40px'}}>\r\n//       <GanttComponent\r\n//         dataSource={tasks}\r\n//         taskFields={taskValues}\r\n//         timelineSettings={{timelineViewMode:'day'}}\r\n//       ></GanttComponent>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {Link} from 'react-router-dom'\r\nimport { IoMdClose } from 'react-icons/io';\r\nimport { BsCardText } from 'react-icons/bs';\r\nimport { AiOutlineGroup } from 'react-icons/ai';\r\nimport { CgProfile } from 'react-icons/cg';\r\nimport { TasksPerMemberChart } from './dashboard/tasks-per-members-chart.jsx';\r\nimport { TasksPerLabelChart } from './dashboard/tasks-per-labels-chart.jsx';\r\nimport {TasksPerDateChart} from './dashboard/tasks-per-date-chart.jsx'\r\nimport { boardService } from '../services/board.service.js';\r\nimport { Loader } from '../cmps/shared/loader.jsx';\r\nclass _Dashboard extends Component {\r\n  state = {\r\n    chartsData: null,\r\n  };\r\n  async componentDidMount() {\r\n    const chartsData = await boardService.dashboardQuery(this.props.board._id);\r\n    this.setState({ chartsData });\r\n  }\r\n\r\n  get labelsColor() {\r\n    return this.props.board.labels.map((label) => {\r\n      return label.color;\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { chartsData } = this.state;\r\n    const { board } = this.props;\r\n    console.log('chartsDate', chartsData);\r\n    if (!chartsData) return <Loader />;\r\n    return (\r\n      <div className='dashboard-modal flex column align-center'>\r\n        <Link to={`/board/${board._id}`}>\r\n        <button\r\n          className='close-btn'\r\n        >\r\n          <IoMdClose />\r\n        </button>\r\n        </Link>\r\n        <div className='jeneral-statistics flex'>\r\n          <div className='stats flex space-between'>\r\n            <div>\r\n              <h3>All Tasks</h3>\r\n              <span>{chartsData.cardsCount}</span>\r\n            </div>\r\n            <i className='flex align-center'>\r\n              <BsCardText />\r\n            </i>\r\n          </div>\r\n          <div className='stats flex space-between'>\r\n            <div>\r\n              <h3>All Lists</h3>\r\n              <span>{chartsData.groupsCount}</span>\r\n            </div>\r\n            <i className='flex align-center'>\r\n              <AiOutlineGroup />\r\n            </i>\r\n          </div>\r\n          <div className='stats flex space-between'>\r\n            <div>\r\n              <h3>Members</h3>\r\n              <span>{board.members && board.members.length}</span>\r\n              <span>{!board.members && 0}</span>\r\n            </div>\r\n            <i className='flex align-center'>\r\n              <CgProfile />\r\n            </i>\r\n          </div>\r\n        </div>\r\n        <div className='charts flex'>\r\n          <TasksPerMemberChart\r\n            className='chart'\r\n            tasksPerMemberMap={chartsData.tasksPerMemberMap}\r\n            labelsColors={this.labelsColor}\r\n          />\r\n\r\n          <TasksPerLabelChart\r\n            className='chart'\r\n            tasksPerLabelMap={chartsData.tasksPerLabelMap}\r\n            labelsColors={this.labelsColor}\r\n          />\r\n        </div>\r\n        <TasksPerDateChart tasks={chartsData.tasks}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    board: state.boardModule.currBoard,\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = {};\r\n\r\nexport const Dashboard = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(_Dashboard);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Route } from 'react-router';\r\n\r\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd';\r\nimport { AiOutlinePlus } from 'react-icons/ai';\r\n\r\nimport {\r\n  loadBoard,\r\n  onUpdateBoard,\r\n  onUpdateCard,\r\n  outputUpdateBoard,\r\n  resetBoard,\r\n} from '../store/board.actions.js';\r\n\r\nimport { CardEdit } from '../cmps/card-edit.jsx';\r\nimport { AddBoardItem } from '../cmps/shared/add-board-item.jsx';\r\nimport { GroupList } from '../cmps/board/group-list.jsx';\r\nimport { BoardHeader } from '../cmps/board/board-header.jsx';\r\nimport { OverlayScreen } from '../cmps/overlay-screen.jsx';\r\nimport { QuickCardEditor } from '../cmps/quick-card-editor.jsx';\r\nimport { Loader } from '../cmps/shared/loader.jsx';\r\nimport { activityTxtMap } from '../services/activity.service.js';\r\nimport { socketService } from '../services/socket.service.js';\r\nimport { userService } from '../services/user.service.js';\r\nimport { Dashboard } from '../cmps/dashboard.jsx';\r\n\r\nclass _BoardDetails extends Component {\r\n  state = {\r\n    isCardLabelListOpen: false,\r\n    isAddPopOpen: false,\r\n    quickCardEditor: {\r\n      cardToEdit: null,\r\n      groupId: '',\r\n      position: {},\r\n    },\r\n    // isDashboardOpen: false,\r\n  };\r\n  async componentDidMount() {\r\n    const { boardId } = this.props.match.params;\r\n    const filterBy = this.props.location.search;\r\n    console.log('from Board details: ', filterBy);\r\n    await this.loadBoard(boardId, filterBy);\r\n    socketService.emit('member-joined', boardId);\r\n    socketService.on('board-update', ({ action, activity }) => {\r\n      const boardToSend = action.board || this.props.board;\r\n      this.props.outputUpdateBoard(action, boardToSend, activity);\r\n    });\r\n  }\r\n  componentWillUnmount() {\r\n    this.props.resetBoard();\r\n  }\r\n  loadBoard = (boardId, filterBy) => {\r\n    this.props.loadBoard(boardId, filterBy);\r\n  };\r\n  openCardEdit = (groupId, cardId) => {\r\n    this.props.history.push(`${this.props.board._id}/${groupId}/${cardId}`);\r\n  };\r\n  updateBoard = (action, activity) => {\r\n    const updatedBoard = action.board || this.props.board;\r\n    this.props.onUpdateBoard(action, updatedBoard, activity);\r\n  };\r\n\r\n  onToggleDashboard = (isOpen) => {\r\n    if (isOpen) {\r\n      this.props.history.push(`${this.props.board._id}/dashboard`);\r\n    } else {\r\n      this.props.history.goBack();\r\n    }\r\n    // this.setState({isDashboardOpen: isOpen})\r\n  };\r\n  toggleCardLabelList = (event) => {\r\n    event.stopPropagation();\r\n    this.setState({ isCardLabelListOpen: !this.state.isCardLabelListOpen });\r\n  };\r\n  onToggleQuickCardEditor = (event, card, groupId) => {\r\n    event.stopPropagation();\r\n    const parentElement = card ? event.currentTarget.parentNode : null;\r\n    const position = card ? parentElement.getBoundingClientRect() : {};\r\n    this.setState({ quickCardEditor: { cardToEdit: card, groupId, position } });\r\n  };\r\n  toggleCardComplete = (ev, groupId, card) => {\r\n    ev.stopPropagation();\r\n    if(card.isArchive) return;\r\n    const cardToUpdate = { ...card };\r\n    cardToUpdate.isComplete = !card.isComplete;\r\n    const activity = cardToUpdate.isComplete\r\n      ? {\r\n          txt: activityTxtMap.completeCard(),\r\n          card: cardToUpdate,\r\n          groupId: groupId,\r\n        }\r\n      : {\r\n          txt: activityTxtMap.unCompleteCard(),\r\n          card: cardToUpdate,\r\n          groupId: groupId,\r\n        };\r\n    this.props.onUpdateCard(cardToUpdate, groupId, this.props.board, activity);\r\n  };\r\n  getLabel = (labelId) => {\r\n    const label = this.props.board.labels.find((label) => label.id === labelId);\r\n    return label;\r\n  };\r\n  handleOnDragEnd = (result) => {\r\n    const { destination, source, type } = result;\r\n    if (!destination) return;\r\n    const boardToChange = { ...this.props.board };\r\n    //group dragged -\r\n    if (type === 'group') {\r\n      const draggedGroup = boardToChange.groups.splice(source.index, 1);\r\n      boardToChange.groups.splice(destination.index, 0, ...draggedGroup);\r\n      this.props.onUpdateBoard({ type: '' }, boardToChange);\r\n      return;\r\n    }\r\n    const sourceGroup = {\r\n      ...boardToChange.groups.find((group) => group.id === source.droppableId),\r\n    };\r\n    const card = sourceGroup.cards.splice(source.index, 1);\r\n    //card dragged in the same group -\r\n    if (source.droppableId === destination.droppableId) {\r\n      sourceGroup.cards.splice(destination.index, 0, ...card);\r\n      const action = { type: 'UPDATE_GROUP', group: sourceGroup };\r\n      this.props.onUpdateBoard(action, boardToChange);\r\n    }\r\n    //card dragged to another group\r\n    else {\r\n      const destinationGroup = {\r\n        ...boardToChange.groups.find(\r\n          (group) => group.id === destination.droppableId\r\n        ),\r\n      };\r\n      if (destinationGroup.cards)\r\n        destinationGroup.cards.splice(destination.index, 0, ...card);\r\n      else destinationGroup.cards = [card];\r\n      boardToChange.groups = boardToChange.groups.map((currGroup) => {\r\n        if (currGroup.id === source.droppableId) return sourceGroup;\r\n        if (currGroup.id === destination.droppableId) return destinationGroup;\r\n        return currGroup;\r\n      });\r\n      this.props.onUpdateBoard({ type: '' }, boardToChange);\r\n    }\r\n  };\r\n  onToggleAddPop = () => {\r\n    this.setState({ isAddPopOpen: !this.state.isAddPopOpen });\r\n  };\r\n  toggleGroupArchive = (groupId) => {\r\n    const groupToUpdate = {\r\n      ...this.props.board.groups.find((group) => groupId === group.id),\r\n    };\r\n    groupToUpdate.isArchive = groupToUpdate.isArchive\r\n      ? !groupToUpdate.isArchive\r\n      : true;\r\n    const activity = { txt: activityTxtMap.archiveList(groupToUpdate.title) };\r\n    const action = { type: 'UPDATE_GROUP', group: groupToUpdate };\r\n    this.props.onUpdateBoard(action, this.props.board, activity);\r\n  };\r\n\r\n  render() {\r\n    const { board } = this.props;\r\n    const {\r\n      isDashboardOpen,\r\n      isCardLabelListOpen,\r\n      isAddPopOpen,\r\n      quickCardEditor,\r\n    } = this.state;\r\n    if (!board) return <Loader />;\r\n    // console.log('groups', board.groups)\r\n    return (\r\n      <div className='board-details flex column'>\r\n        <Route path='/board/:boardId/dashboard' component={Dashboard} />\r\n        <Route path='/board/:boardId/:groupId/:cardId' component={CardEdit} />\r\n\r\n        <BoardHeader onToggleDashboard={this.onToggleDashboard} toggleCardLabelList={this.toggleCardLabelList} toggleCardComplete={this.toggleCardComplete} isCardLabelListOpen={isCardLabelListOpen} getLabel={this.getLabel} openCardEdit={this.openCardEdit}/>\r\n\r\n        <DragDropContext onDragEnd={this.handleOnDragEnd}>\r\n          <section className='group-list-container flex'>\r\n            <div className='group-list-wrapper flex'>\r\n              <Droppable\r\n                droppableId={board._id}\r\n                direction='horizontal'\r\n                type='group'\r\n              >\r\n                {(provided, snapshot) => (\r\n                  <div\r\n                    {...provided.droppableProps}\r\n                    ref={provided.innerRef}\r\n                    className='flex'\r\n                  >\r\n                    {board.groups && (\r\n                      <GroupList\r\n                        groups={board.groups}\r\n                        openCardEdit={this.openCardEdit}\r\n                        updateBoard={this.updateBoard}\r\n                        toggleCardLabelList={this.toggleCardLabelList}\r\n                        isCardLabelListOpen={isCardLabelListOpen}\r\n                        toggleCardComplete={this.toggleCardComplete}\r\n                        toggleGroupArchive={this.toggleGroupArchive}\r\n                        onToggleQuickCardEditor={this.onToggleQuickCardEditor}\r\n                        getLabel={this.getLabel}\r\n                      />\r\n                    )}\r\n                    {provided.placeholder}\r\n\r\n                    <div className='add-group-container'>\r\n                      {!isAddPopOpen && (\r\n                        <button\r\n                          className='add-boarditem-btn flex align-center'\r\n                          onClick={this.onToggleAddPop}\r\n                        >\r\n                          <i className='flex align-center'>\r\n                            <AiOutlinePlus />\r\n                          </i>\r\n                          <span>Add a list</span>\r\n                        </button>\r\n                      )}\r\n                      {isAddPopOpen && (\r\n                        <AddBoardItem\r\n                          onToggleAddPop={this.onToggleAddPop}\r\n                          type={'group'}\r\n                        />\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </Droppable>\r\n            </div>\r\n          </section>\r\n        </DragDropContext>\r\n\r\n        {quickCardEditor.cardToEdit && (\r\n          <QuickCardEditor\r\n            cardId={quickCardEditor.cardToEdit.id}\r\n            groupId={quickCardEditor.groupId}\r\n            position={quickCardEditor.position}\r\n            getLabel={this.getLabel}\r\n            toggleCardComplete={this.toggleCardComplete}\r\n            isCardLabelListOpen={isCardLabelListOpen}\r\n            onToggleQuickCardEditor={this.onToggleQuickCardEditor}\r\n            openCardEdit={this.openCardEdit}\r\n          />\r\n        )}\r\n        {quickCardEditor.cardToEdit && (\r\n          <div\r\n            onClick={(event) => this.onToggleQuickCardEditor(event, null, '')}\r\n          >\r\n            <OverlayScreen />\r\n          </div>\r\n        )}\r\n        {/* {isDashboardOpen && (\r\n          <div\r\n            onClick={() => this.onToggleDashboard(false)}\r\n          >\r\n            <OverlayScreen />\r\n          </div>\r\n        )} */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    board: state.boardModule.currBoard,\r\n  };\r\n}\r\nconst mapDispatchToProps = {\r\n  loadBoard,\r\n  onUpdateBoard,\r\n  outputUpdateBoard,\r\n  onUpdateCard,\r\n  resetBoard,\r\n};\r\n\r\nexport const BoardDetails = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(_BoardDetails);\r\n","export default __webpack_public_path__ + \"static/media/login-svg-right.df08073f.svg\";","export default __webpack_public_path__ + \"static/media/login-svg-left.ff7c7688.svg\";","import React from 'react'\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik'\r\nimport { connect } from 'react-redux'\r\nimport { GoogleLogin } from 'react-google-login'\r\n\r\n// import { userService } from '../services/user.service'\r\nimport { onLogin, onSignup, loadUsers, onGoogleLogin } from '../store/user.actions'\r\nimport { Link } from 'react-router-dom'\r\nimport { SiTrello } from 'react-icons/si'\r\nimport svgRight from '../assets/img/login-svg-right.svg'\r\nimport svgLeft from '../assets/img/login-svg-left.svg'\r\n\r\nconst clientId = process.env.REACT_APP_GOOGLE_CLIENT_ID\r\n\r\nclass _LoginSignup extends React.Component {\r\n\r\n    state = {\r\n        credentials: {\r\n            username: '',\r\n            password: '',\r\n            fullname: ''\r\n        },\r\n        pageMode: null\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.props.loadUsers()\r\n        const pageMode = this.props.location.pathname === '/login' ? 'login' : 'signup'\r\n        this.setState({ pageMode })\r\n    }\r\n\r\n    validate = (values) => {\r\n        const errors = {}\r\n        if (!values.username) {\r\n            errors.username = 'Required'\r\n        } else if (values.username.length < 6) {\r\n            errors.username = 'Please use at least 6 characters'\r\n        }\r\n        if (values.password.length < 4) {\r\n            errors.password = 'Password too short'\r\n        }\r\n        if (!values.fullname) {\r\n            errors.fullname = 'Required'\r\n        } else if (values.fullname.length < 4) {\r\n            errors.fullname = 'Please use at least 4 characters'\r\n        }\r\n        return errors\r\n    }\r\n\r\n    onSuccessGoogle = (res) => {\r\n        const { tokenId } = res\r\n        const { onGoogleLogin } = this.props\r\n        onGoogleLogin(tokenId)\r\n        this.props.history.push('/board')\r\n    }\r\n\r\n    onFailureGoogle = (res) => {\r\n        console.log('Login with google failed', res)\r\n    }\r\n\r\n    onSubmit = (values) => {\r\n        const { pageMode } = this.state\r\n        const { onLogin, onSignup } = this.props\r\n        pageMode === 'login' ? onLogin(values) : onSignup(values)\r\n        this.props.history.push('/board')\r\n    }\r\n\r\n    render() {\r\n        const { credentials, pageMode } = this.state\r\n        return (\r\n            <section className=\"login-signup-page main-container\">\r\n                <div className=\"login-signup-header\">\r\n                    <SiTrello />\r\n                    <h3 className=\"logo-text\">Marshmello</h3>\r\n                </div>\r\n                {pageMode === 'login' && <div className=\"login-signup flex column\">\r\n                    <h3>Log in to Marshmello</h3>\r\n                    <Formik initialValues={credentials} onSubmit={this.onSubmit} >\r\n                        <Form className=\"login-form flex column\">\r\n                            <Field type=\"username\" placeholder=\"Enter user name\" name=\"username\" autoFocus />\r\n                            <ErrorMessage name=\"username\" component=\"div\" />\r\n                            <Field type=\"password\" placeholder=\"Enter password\" name=\"password\" autoComplete=\"off\" />\r\n                            <ErrorMessage name=\"password\" component=\"div\" />\r\n                            <button type=\"submit\" className=\"login-signup-btn nav-button\" style={{color: '#172b4d'}}>Log in</button>\r\n                        </Form>\r\n                    </Formik>\r\n                    OR\r\n                    <br />\r\n                    <GoogleLogin\r\n                        className=\"google-login-btn flex align-center justify-center\"\r\n                        clientId='209268489709-ofnqpgb55aikiprlelkbiafntgld4mhg.apps.googleusercontent.com'\r\n                        buttonText='Continue with Google'\r\n                        onSuccess={this.onSuccessGoogle}\r\n                        onFailure={this.onFailureGoogle}\r\n                        cookiePolicy={'single_host_origin'}\r\n                    />\r\n                    <Link to=\"/signup\">Sign up for an account</Link>\r\n                </div>}\r\n                {pageMode === 'signup' &&\r\n                    <div className=\"login-signup flex column\">\r\n                        <h3>Sign up for your account</h3>\r\n                        <Formik initialValues={credentials} validateOnChange={false} validateOnBlur={false} validate={this.validate} onSubmit={this.onSubmit}>\r\n                            <Form className=\"flex column\">\r\n                                <Field type=\"fullname\" placeholder=\"Enter full name\" name=\"fullname\" autoFocus />\r\n                                <ErrorMessage name=\"fullname\" component=\"p\" />\r\n                                <Field type=\"username\" placeholder=\"Enter user name\" name=\"username\" />\r\n                                <ErrorMessage name=\"username\" component=\"p\" />\r\n                                <Field type=\"password\" placeholder=\"Enter password\" name=\"password\" />\r\n                                <ErrorMessage name=\"password\" component=\"p\" />\r\n                                <button type=\"submit\" className=\"login-signup-btn nav-button\" style={{color: '#172b4d'}}>Sign up</button>\r\n                            </Form>\r\n                        </Formik>\r\n                        {/* <hr /> */}\r\n                        <Link to=\"/login\">Already have an account ? Log In</Link>\r\n                    </div>}\r\n                <div className=\"right-svg\">\r\n                    <img src={svgRight} alt=\"right-svg\" />\r\n                </div>\r\n                <div className=\"left-svg\">\r\n                    <img src={svgLeft} alt=\"left-svg\" />\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    loadUsers,\r\n    onLogin,\r\n    onSignup,\r\n    onGoogleLogin\r\n}\r\n\r\nexport const LoginSignup = connect(mapStateToProps, mapDispatchToProps)(_LoginSignup)","import { HomePage } from './pages/home-page.jsx'\r\nimport { BoardSelect } from './pages/boards-select.jsx'\r\nimport { BoardDetails } from './pages/board-details.jsx'\r\nimport { LoginSignup } from './pages/login-signup.jsx';\r\n\r\n// Routes accesible from the main navigation (in AppHeader)\r\nconst routes = [{\r\n        path: '/board/:boardId',\r\n        component: BoardDetails,\r\n    },\r\n    {\r\n        path: '/board',\r\n        component: BoardSelect,\r\n    },\r\n    {\r\n        path: '/login',\r\n        component: LoginSignup\r\n    },\r\n    {\r\n        path: '/signup',\r\n        component: LoginSignup \r\n    },\r\n    {\r\n        path: '/',\r\n        component: HomePage,\r\n    }\r\n]\r\n\r\nexport default routes;","import React, { createRef } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nimport { onAddBoard, setAddingBoard } from '../../store/board.actions.js'\r\n\r\n\r\nclass _BoardAdd extends React.Component {\r\n    state = {\r\n        title: '',\r\n        style: {\r\n            imgUrl: 'https://images.pexels.com/photos/3683056/pexels-photo-3683056.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940'\r\n        },\r\n        chosenImgIdx: 5\r\n    }\r\n\r\n    targetRef = React.createRef()\r\n\r\n    componentDidMount() {\r\n        document.addEventListener('mousedown', this.handleClick)\r\n    }\r\n\r\n\r\n    componentWillUnmount() {\r\n        document.removeEventListener('mousedown', this.handleClick)\r\n        this.props.setAddingBoard(false)\r\n    }\r\n\r\n    handleClick = (ev) => {\r\n        if (this.targetRef.current.contains(ev.target)) {\r\n            // || element?.contains(ev.target)\r\n            // inside click\r\n            return\r\n        }\r\n        // outside click \r\n        this.props.onClose()\r\n    }\r\n\r\n    handleChange = (ev) => {\r\n        const field = ev.target.name;\r\n        const value = ev.target.value;\r\n        this.setState({ ...this.state, [field]: value });\r\n    }\r\n\r\n    handleImage = (ev, idx) => {\r\n        ev.preventDefault()\r\n        const imgSrc = ev.target.getAttribute('src')\r\n        this.setState({ ...this.state, style: { imgUrl: imgSrc }, chosenImgIdx: idx })\r\n    }\r\n\r\n    addBoard = async (ev) => {\r\n        ev.preventDefault()\r\n        if (!this.state.title) return\r\n        const addedBoard = await this.props.onAddBoard(this.state)\r\n        this.props.history.push(`/board/${addedBoard._id}`)\r\n        this.props.setAddingBoard(false)\r\n    }\r\n\r\n    render() {\r\n        const images = ['https://images.pexels.com/photos/1914982/pexels-photo-1914982.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260',\r\n            'https://images.pexels.com/photos/844297/pexels-photo-844297.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940',\r\n            'https://images.pexels.com/photos/3293148/pexels-photo-3293148.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940',\r\n            'https://images.pexels.com/photos/911738/pexels-photo-911738.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940',\r\n            'https://images.pexels.com/photos/3274903/pexels-photo-3274903.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940',\r\n            'https://images.pexels.com/photos/3683056/pexels-photo-3683056.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940',\r\n            'https://images.pexels.com/photos/2170473/pexels-photo-2170473.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940',\r\n            'https://images.pexels.com/photos/2529973/pexels-photo-2529973.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940',\r\n            'https://images.pexels.com/photos/1982485/pexels-photo-1982485.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940']\r\n        const { title, chosenImgIdx } = this.state\r\n        return (\r\n            <div className=\"board-add\" ref={this.targetRef}>\r\n                <form className=\"board-add-form\" onSubmit={this.addBoard} style={{background: '#000000', backgroundImage: `url(${images[chosenImgIdx]})` }} >\r\n                    <input autoFocus className={`board-title-input ${(title) ? 'editing' : ''}`} autoComplete=\"off\" type=\"text\" placeholder=\"Add board title\" name=\"title\" value={title} onChange={this.handleChange} />\r\n                    <button className={`create-btn ${(title) ? 'clickable' : ''}`} type=\"submit\">Create Board</button>\r\n                </form>\r\n                <div className=\"images-container\">\r\n                    {images.map((image, idx) =>\r\n                        <button className={`img-btn ${(idx === chosenImgIdx) ? 'chosen' : ''}`} key={idx} onClick={(ev) => this.handleImage(ev, idx)}>\r\n                            <img className=\"add-board-img\" src={image} alt={image} />\r\n                        </button>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        isAddingBoard: state.boardModule.isAddingBoard\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onAddBoard,\r\n    setAddingBoard\r\n}\r\nconst _BoardAddWithRouter = withRouter(_BoardAdd)\r\nexport const BoardAdd = connect(mapStateToProps, mapDispatchToProps)(_BoardAddWithRouter)","import React from 'react'\r\nimport { MemberAvatar } from '../member-avatar'\r\nimport { connect } from 'react-redux'\r\nimport { onUpdateCard } from '../../../store/board.actions'\r\nimport { onLogout } from '../../../store/user.actions'\r\nimport { cardEditService } from '../../../services/card-edit.service'\r\nimport { withRouter } from 'react-router'\r\n\r\nclass _LoggedinUser extends React.Component {\r\n    onLogoutUser = () => {\r\n        this.props.history.push('/login')\r\n        this.props.onLogout()\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div className=\"mini-user flex column\">\r\n\r\n                <div className=\"main flex\">\r\n                    <MemberAvatar size=\"lg\" member={this.props.user} />\r\n                    <div>\r\n                        <h3 className=\"mini-user-fullname\">{this.props.user.fullname}</h3>\r\n                        <p>{this.props.user.username}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <p className=\"remove-member\" onClick={() => this.onLogoutUser()}>Log Out</p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.userModule.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onLogout\r\n}\r\nconst _LoggedinUserWithRouter = withRouter(_LoggedinUser)\r\nexport const LoggedinUser = connect(mapStateToProps, mapDispatchToProps)(_LoggedinUserWithRouter);","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { CgHome } from 'react-icons/cg';\r\nimport { AiOutlinePlus, AiOutlineBell } from 'react-icons/ai';\r\nimport { SiTrello } from 'react-icons/si';\r\n\r\n\r\n// import routes from '../routes'\r\nimport { onLogin, onLogout, onSignup, loadUsers, removeUser, loadAndWatchUser } from '../store/user.actions.js'\r\nimport { userService } from '../services/user.service.js';\r\nimport { setAddingBoard } from '../store/board.actions'\r\nimport { BoardAdd } from './board/board-add.jsx';\r\nimport { MemberAvatar } from './shared/member-avatar.jsx';\r\nimport { OverlayScreen } from '../cmps/overlay-screen'\r\nimport { DynamicPopover } from './shared/dynamic-popover.jsx';\r\nimport { LoggedinUser } from './shared/popover-children/loggedin-user.jsx';\r\nimport { Loader } from './shared/loader'\r\n\r\n\r\nclass _AppHeader extends React.Component {\r\n    state = {\r\n        isPopoverOpen: false\r\n    }\r\n\r\n    userMenuRef = React.createRef()\r\n\r\n    onLogout = () => {\r\n        this.props.onLogout()\r\n    }\r\n\r\n    setAddBoard = (value) => {\r\n        this.props.setAddingBoard(value)\r\n    }\r\n\r\n    setFavicon = () => {\r\n        const favicon = document.getElementById('favicon')\r\n        favicon.href = '../../public/favicon.ico'\r\n    }\r\n\r\n    render() {\r\n        const { user, isAddingBoard } = this.props\r\n        const { isPopoverOpen } = this.state\r\n        if (!user) return <Loader />\r\n        return (\r\n            <header className=\"app-header\">\r\n                <nav className=\"nav-links\">\r\n                    <div className=\"left-links\">\r\n                        <NavLink to=\"/\"><button onClick={() => this.setFavicon()} className=\"home-btn nav-button\"><CgHome /></button></NavLink>\r\n                        <NavLink to=\"/board\"><button onClick={() => this.setFavicon()} className=\"boards-btn flex nav-button\"><SiTrello /> <span>Boards</span></button></NavLink>\r\n                    </div>\r\n                    <NavLink className=\"logo\" to=\"/\"><SiTrello /> <span> Marshmello </span></NavLink>\r\n                    <div className=\"right-links\">\r\n                        <button className=\"nav-button\" onClick={() => this.setAddBoard(true)}><AiOutlinePlus /></button>\r\n                        <button className=\"nav-button\"><AiOutlineBell /></button>\r\n                        <div className='relative' ref={this.userMenuRef}>\r\n                            <button onClick={() => this.setState({ isPopoverOpen: !isPopoverOpen })}><MemberAvatar key={user._id} member={user} /></button>\r\n                            {isPopoverOpen && <DynamicPopover onClose={() => this.setState({ isPopoverOpen: false })} title=\"User Details\" ref={this.userMenuRef}>\r\n                                <LoggedinUser member={user} onLogout={this.onLogout} />\r\n                            </DynamicPopover>}\r\n                        </div>\r\n                    </div>\r\n                </nav>\r\n                {isAddingBoard && <BoardAdd onClose={() => this.setAddBoard(false)} />}\r\n                {isAddingBoard && <OverlayScreen />}\r\n            </header>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        board: state.boardModule.currBoard,\r\n        user: state.userModule.user,\r\n        isAddingBoard: state.boardModule.isAddingBoard\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onLogin,\r\n    onSignup,\r\n    onLogout,\r\n    loadUsers,\r\n    removeUser,\r\n    setAddingBoard\r\n}\r\n\r\n\r\n\r\nexport const AppHeader = connect(mapStateToProps, mapDispatchToProps)(_AppHeader)","import React from 'react'\r\nimport { Switch, Route, withRouter } from 'react-router'\r\nimport routes from './routes'\r\nimport { AppHeader } from './cmps/app-header'\r\nimport { connect } from 'react-redux'\r\nimport { socketService } from './services/socket.service'\r\nimport { userService } from './services/user.service'\r\n\r\nclass _RootCmp extends React.Component {\r\n\r\n    get isHeaderShown() {\r\n        const { pathname } = this.props.location\r\n        return (pathname.includes('board') || pathname.includes('boards'))\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"app flex column\">\r\n                {this.isHeaderShown &&\r\n                    <AppHeader />\r\n                }\r\n                <main className=\"main-app\">\r\n                    <Switch>\r\n                        {routes.map(route => <Route key={route.path} component={route.component} path={route.path} />)}\r\n                    </Switch>\r\n                </main>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        board: state.boardModule.currBoard\r\n    }\r\n}\r\n\r\nconst _RootCmpWithRouter = withRouter(_RootCmp)\r\nexport const RootCmp = connect(mapStateToProps)(_RootCmpWithRouter)\r\n\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\n\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\n\nimport { store } from './store/store';\nimport { RootCmp } from './root-cmp';\nimport './assets/styles/main.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <Router>\n        <RootCmp />\n      </Router>{' '}\n    </Provider>{' '}\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorkerRegistration.register();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}